; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.23506.0 

	TITLE	C:\Users\Michel\Desktop\Source\GameServer\Source\gObjMonster.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??_H@YGXPAXIIP6EPAX0@Z@Z			; `vector constructor iterator'
PUBLIC	?__empty_global_delete@@YAXPAX@Z		; __empty_global_delete
PUBLIC	?__empty_global_delete@@YAXPAXI@Z		; __empty_global_delete
PUBLIC	??1OBJECTSTRUCT@@QAE@XZ				; OBJECTSTRUCT::~OBJECTSTRUCT
PUBLIC	??_EOBJECTSTRUCT@@QAEPAXI@Z			; OBJECTSTRUCT::`vector deleting destructor'
PUBLIC	?Run@CQeustNpcTeleport@@QAEXH@Z			; CQeustNpcTeleport::Run
PUBLIC	?gObjMonsterMoveRegen@@YAXHHPAUOBJECTSTRUCT@@@Z	; gObjMonsterMoveRegen
PUBLIC	?gObjMonsterRegen@@YAHPAUOBJECTSTRUCT@@@Z	; gObjMonsterRegen
PUBLIC	?gObjMonsterViewportIsCharacter@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterViewportIsCharacter
PUBLIC	?gObjMonsterHitDamageInit@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterHitDamageInit
PUBLIC	?gObjMonsterHitDamageUserDel@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterHitDamageUserDel
PUBLIC	?gObjMonsterSetHitDamage@@YAXPAUOBJECTSTRUCT@@HH@Z ; gObjMonsterSetHitDamage
PUBLIC	?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
PUBLIC	?gObjMonsterLastHitDamageUser@@YAHPAUOBJECTSTRUCT@@AAH@Z ; gObjMonsterLastHitDamageUser
PUBLIC	?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z	; gObjMonsterMoveCheck
PUBLIC	?gObjMonsterGetTargetPos@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterGetTargetPos
PUBLIC	?gObjGetTargetPos@@YAHPAUOBJECTSTRUCT@@HHAAH1@Z	; gObjGetTargetPos
PUBLIC	?gObjCallMonsterSetEnemy@@YAHPAUOBJECTSTRUCT@@H@Z ; gObjCallMonsterSetEnemy
PUBLIC	?gObjMonsterSearchEnemy@@YAHPAUOBJECTSTRUCT@@E@Z ; gObjMonsterSearchEnemy
PUBLIC	?gObjGuardSearchEnemy@@YAHPAUOBJECTSTRUCT@@@Z	; gObjGuardSearchEnemy
PUBLIC	?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z ; gObjMonsterStateProc
PUBLIC	?gObjMonsterProcess@@YAXPAUOBJECTSTRUCT@@@Z	; gObjMonsterProcess
PUBLIC	?gObjMonsterMagicAttack@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjMonsterMagicAttack
PUBLIC	?gObjUseMonsterSpecialAbillity@@YAXPAUOBJECTSTRUCT@@@Z ; gObjUseMonsterSpecialAbillity
PUBLIC	?gObjMonsterBeattackRecv@@YAXPAEH@Z		; gObjMonsterBeattackRecv
PUBLIC	?gObjMonsterAttack@@YAXPAUOBJECTSTRUCT@@0@Z	; gObjMonsterAttack
PUBLIC	?PathFindMoveMsgSend@@YAHPAUOBJECTSTRUCT@@@Z	; PathFindMoveMsgSend
PUBLIC	?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z	; gObjMonsterMoveAction
PUBLIC	?gObjMonsterBaseAct@@YAXPAUOBJECTSTRUCT@@@Z	; gObjMonsterBaseAct
PUBLIC	?gObjTrapAttackEnemySearchX@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjTrapAttackEnemySearchX
PUBLIC	?gObjTrapAttackEnemySearchY@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjTrapAttackEnemySearchY
PUBLIC	?gObjTrapAttackEnemySearch@@YAXPAUOBJECTSTRUCT@@@Z ; gObjTrapAttackEnemySearch
PUBLIC	?gObjTrapAttackEnemySearchRange@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjTrapAttackEnemySearchRange
PUBLIC	?gObjMonsterTrapAct@@YAXPAUOBJECTSTRUCT@@@Z	; gObjMonsterTrapAct
PUBLIC	?NewOptionRand@@YAEH@Z				; NewOptionRand
PUBLIC	?gObjSkylandBossSheildAttack@@YAXPAUOBJECTSTRUCT@@@Z ; gObjSkylandBossSheildAttack
PUBLIC	?IsCanNotItemDtopInDevilSquare@@YAHH@Z		; IsCanNotItemDtopInDevilSquare
PUBLIC	?gObjRefillMonsterHP@@YAXPAUOBJECTSTRUCT@@H@Z	; gObjRefillMonsterHP
PUBLIC	?gObjMonsterDieGiveItem@@YAXPAUOBJECTSTRUCT@@0@Z ; gObjMonsterDieGiveItem
PUBLIC	?gEventMonsterItemDrop@@YAHPAUOBJECTSTRUCT@@0@Z	; gEventMonsterItemDrop
PUBLIC	?gObjMonsterSelectSkillForMedusa@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterSelectSkillForMedusa
PUBLIC	?getInstance@MonsterSpawnerMng@@SAPAV1@XZ	; MonsterSpawnerMng::getInstance
PUBLIC	?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A	; gQeustNpcTeleport
PUBLIC	?KUNDUN_EVENT_LOG@@3VCLogToFile@@A		; KUNDUN_EVENT_LOG
PUBLIC	??_C@_0M@BCGMCOPG@?4?2Log?2Event?$AA@		; `string'
PUBLIC	??_C@_06EEHCNIJK@Kundun?$AA@			; `string'
PUBLIC	??_C@_0BA@OAKCBJLL@gObjMonster?4cpp?$AA@	; `string'
PUBLIC	??_C@_0N@DOCIPDEL@ERROR?3?5?$CFs?5?$CFd?$AA@	; `string'
PUBLIC	??_C@_0CA@MINPGEPL@error?9L2?5?3?5Hit?5Damage?5Set?5error?$AA@ ; `string'
PUBLIC	??_C@_0EJ@LOBMAKBH@?$FL?5KANTURU?5?$FN?$FL?5Debug?5?9?5m_PosNum?5?$FN?5@ ; `string'
PUBLIC	??_C@_0DI@FKJGCAAF@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5M@ ; `string'
PUBLIC	??_C@_0DN@OMDKGOEJ@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5B@ ; `string'
PUBLIC	??_C@_0P@EEHIDPGB@error?9L3?5?$CFs?5?$CFd?$AA@	; `string'
PUBLIC	??_C@_0DD@MDNPGPML@?G?O?F?$KO?5?$LO?F?$MA?L?E?$NL?$MA?$LL?5?$LL?s?A?$KB?$LP?$KB?5?A?V?$LM?$LM?$LP?d?4?5?G?$KK?A@ ; `string'
PUBLIC	??_C@_0DJ@LBLCMLBJ@?$FLKUNDUN?$FN?5HP?5Log?5?9?$DO?5?$FL?$CFd?$FN?H?$LI?$LK?$LJ?5?5?$FL?$CFd@ ; `string'
PUBLIC	??_C@_0DI@BCGOHKAP@?$FLKUNDUN?$FN?$FLStatus?5Log?$FN?5HP?3?$CFd?5Refil@ ; `string'
PUBLIC	??_C@_0DH@PKHNCCG@?$FLKUNDUN?$FN?$FLAttacker?5Info?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN@ ; `string'
PUBLIC	??_C@_0CI@JDPIHCJH@?$FLCastle?5HuntZone?$FN?5Drop?5SetItem?5?$FL@ ; `string'
PUBLIC	??_C@_0O@PGINOIGE@NPC?5?$CFd?$LH?N?5?$MA?L?$LF?$LP?$AA@ ; `string'
PUBLIC	__real@00000000
PUBLIC	__real@3f800000
PUBLIC	__real@3fd3333333333333
PUBLIC	__real@40a00000
PUBLIC	__real@40c00000
PUBLIC	__real@41c80000
PUBLIC	__real@42c80000
PUBLIC	__xmm@00000001000000570000008900000000
PUBLIC	__xmm@00000002000000190000001100000007
PUBLIC	__xmm@000000020000002f000000c600000002
PUBLIC	__xmm@0000000200000059000000a900000003
EXTRN	??_M@YGXPAXIIP6EX0@Z@Z:PROC			; `eh vector destructor iterator'
EXTRN	??2@YAPAXI@Z:PROC				; operator new
EXTRN	??3@YAXPAXI@Z:PROC				; operator delete
EXTRN	??_V@YAXPAXI@Z:PROC				; operator delete[]
EXTRN	_atexit:PROC
EXTRN	__imp__InitializeCriticalSection@4:PROC
EXTRN	__imp__DeleteCriticalSection@4:PROC
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	_rand:PROC
EXTRN	?Get@Message@@QAEPADH@Z:PROC			; Message::Get
EXTRN	?IsItem@CItem@@QAEHXZ:PROC			; CItem::IsItem
EXTRN	?ItemGetNumberMake@@YAHHH@Z:PROC		; ItemGetNumberMake
EXTRN	?ItemGetDurability@@YAHHHHH@Z:PROC		; ItemGetDurability
EXTRN	?zzzItemLevel@@YAHHHH@Z:PROC			; zzzItemLevel
EXTRN	??1CSkillDelay@@UAE@XZ:PROC			; CSkillDelay::~CSkillDelay
EXTRN	??0CMagicInf@@QAE@XZ:PROC			; CMagicInf::CMagicInf
EXTRN	??1CMagicInf@@UAE@XZ:PROC			; CMagicInf::~CMagicInf
EXTRN	??1TMonsterAIAgro@@UAE@XZ:PROC			; TMonsterAIAgro::~TMonsterAIAgro
EXTRN	?Is380OptionItem@CItemSystemFor380@@QAEHPBVCItem@@@Z:PROC ; CItemSystemFor380::Is380OptionItem
EXTRN	?IsSocketItem@CSocketItems@@QAE_NH@Z:PROC	; CSocketItems::IsSocketItem
EXTRN	?IsDropMap@CSocketItems@@QAEEH@Z:PROC		; CSocketItems::IsDropMap
EXTRN	?GetSphereDrop@CSocketItems@@QAEHH@Z:PROC	; CSocketItems::GetSphereDrop
EXTRN	?CheckWall@MapClass@@QAEHHHHH@Z:PROC		; MapClass::CheckWall
EXTRN	?CheckWall2@MapClass@@QAEEHHHH@Z:PROC		; MapClass::CheckWall2
EXTRN	?MonsterItemDrop@MapClass@@QAEHHHMHHEEEEEHKEPAEE@Z:PROC ; MapClass::MonsterItemDrop
EXTRN	?MoneyItemDrop@MapClass@@QAEHHHH@Z:PROC		; MapClass::MoneyItemDrop
EXTRN	?PathFinding2@MapClass@@QAE_NHHHHPAUPATH_t@@@Z:PROC ; MapClass::PathFinding2
EXTRN	?PathFinding3@MapClass@@QAE_NHHHHPAUPATH_t@@@Z:PROC ; MapClass::PathFinding3
EXTRN	?PathFinding4@MapClass@@QAE_NHHHHPAUPATH_t@@@Z:PROC ; MapClass::PathFinding4
EXTRN	?SetStandAttr@MapClass@@QAEXHH@Z:PROC		; MapClass::SetStandAttr
EXTRN	?ClearStandAttr@MapClass@@QAEXHH@Z:PROC		; MapClass::ClearStandAttr
EXTRN	?GetStandAttr@MapClass@@QAEHHH@Z:PROC		; MapClass::GetStandAttr
EXTRN	?GetAttr@MapClass@@QAEEHH@Z:PROC		; MapClass::GetAttr
EXTRN	?MsgSendV2@@YAXPAUOBJECTSTRUCT@@PAEH@Z:PROC	; MsgSendV2
EXTRN	?ChatSend@@YAXPAUOBJECTSTRUCT@@PAD@Z:PROC	; ChatSend
EXTRN	?PMoveProc@@YAXPAUPMSG_MOVE@@H@Z:PROC		; PMoveProc
EXTRN	?CGAttack@@YAXPAUPMSG_ATTACK@@H@Z:PROC		; CGAttack
EXTRN	?GCActionSend@@YAXPAUOBJECTSTRUCT@@EHH@Z:PROC	; GCActionSend
EXTRN	?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z:PROC ; CGMagicAttack
EXTRN	?GCUseMonsterSkillSend@@YAXPAUOBJECTSTRUCT@@0H@Z:PROC ; GCUseMonsterSkillSend
EXTRN	?CGBeattackRecv@@YAXPAEHH@Z:PROC		; CGBeattackRecv
EXTRN	?CGDurationMagicRecv@@YAXPAUPMSG_DURATION_MAGIC_RECV@@H@Z:PROC ; CGDurationMagicRecv
EXTRN	?gObjClearViewport@@YAXPAUOBJECTSTRUCT@@@Z:PROC	; gObjClearViewport
EXTRN	?gObjMemFree@@YAFH@Z:PROC			; gObjMemFree
EXTRN	?gObjDel@@YAFH@Z:PROC				; gObjDel
EXTRN	?gObjIsConnected@@YAHH@Z:PROC			; gObjIsConnected
EXTRN	?GetPathPacketDirPos@@YAEHH@Z:PROC		; GetPathPacketDirPos
EXTRN	?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z:PROC	; gObjCalDistance
EXTRN	?gObjCheckTileArea@@YAHHHHH@Z:PROC		; gObjCheckTileArea
EXTRN	?gObjMsgProc@@YAXPAUOBJECTSTRUCT@@@Z:PROC	; gObjMsgProc
EXTRN	?gObjBackSpring@@YAHPAUOBJECTSTRUCT@@0@Z:PROC	; gObjBackSpring
EXTRN	?gObjBackSpring2@@YAHPAUOBJECTSTRUCT@@0H@Z:PROC	; gObjBackSpring2
EXTRN	?retResistance@@YAHPAUOBJECTSTRUCT@@H@Z:PROC	; retResistance
EXTRN	?gObjAttack@@YAXPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z:PROC ; gObjAttack
EXTRN	?CreateFrustrum@@YAXHHH@Z:PROC			; CreateFrustrum
EXTRN	?gObjViewportClose@@YAXPAUOBJECTSTRUCT@@@Z:PROC	; gObjViewportClose
EXTRN	?gObjViewportListCreate@@YAXF@Z:PROC		; gObjViewportListCreate
EXTRN	?gObjViewportListProtocolDestroy@@YAXPAUOBJECTSTRUCT@@@Z:PROC ; gObjViewportListProtocolDestroy
EXTRN	?gObjViewportListProtocolCreate@@YAXPAUOBJECTSTRUCT@@@Z:PROC ; gObjViewportListProtocolCreate
EXTRN	?gObjTeleportMagicUse@@YAXHEE@Z:PROC		; gObjTeleportMagicUse
EXTRN	?gObjGetMagic@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z:PROC ; gObjGetMagic
EXTRN	?gObjMonsterCallKill@@YAXH@Z:PROC		; gObjMonsterCallKill
EXTRN	?MakeRewardSetItem@@YAXHEEHH@Z:PROC		; MakeRewardSetItem
EXTRN	?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z:PROC ; gObjGetRandomItemDropLocation
EXTRN	?gObjGetRandomFreeLocation@@YAHHAAE0HHH@Z:PROC	; gObjGetRandomFreeLocation
EXTRN	?gObjUnicornSprite@@YAHPAUOBJECTSTRUCT@@@Z:PROC	; gObjUnicornSprite
EXTRN	?Output@CLogToFile@@QAAXPADZZ:PROC		; CLogToFile::Output
EXTRN	??0CLogToFile@@QAE@QAD0H@Z:PROC			; CLogToFile::CLogToFile
EXTRN	??1CLogToFile@@QAE@XZ:PROC			; CLogToFile::~CLogToFile
EXTRN	?GetPosition@CMonsterSetBase@@QAEHHFAAE0@Z:PROC	; CMonsterSetBase::GetPosition
EXTRN	?GetBoxPosition@CMonsterSetBase@@QAEHHHHHHAAE0@Z:PROC ; CMonsterSetBase::GetBoxPosition
EXTRN	?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z:PROC ; CMonsterAttr::GetAttr
EXTRN	?PHeadSetB@@YAXPAEEH@Z:PROC			; PHeadSetB
EXTRN	?PHeadSetBE@@YAXPAEEH@Z:PROC			; PHeadSetBE
EXTRN	?gBattleSoccerScoreUpdate@@YAHHH@Z:PROC		; gBattleSoccerScoreUpdate
EXTRN	?gCheckGoal@@YAHHHAAH@Z:PROC			; gCheckGoal
EXTRN	?DeleteMercenary@CMercenary@@QAEHH@Z:PROC	; CMercenary::DeleteMercenary
EXTRN	?MercenaryAct@CMercenary@@QAEXH@Z:PROC		; CMercenary::MercenaryAct
EXTRN	?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z:PROC ; ItemSerialCreateSend
EXTRN	?SendBridgeAnyMsg@CBloodCastle@@QAEXPAEHH@Z:PROC ; CBloodCastle::SendBridgeAnyMsg
EXTRN	?SendNoticeMessage@CBloodCastle@@QAEXHPAD@Z:PROC ; CBloodCastle::SendNoticeMessage
EXTRN	?ReleaseCastleBridge@CBloodCastle@@QAEXH@Z:PROC	; CBloodCastle::ReleaseCastleBridge
EXTRN	?CheckMonsterKillCount@CBloodCastle@@QAE_NH@Z:PROC ; CBloodCastle::CheckMonsterKillCount
EXTRN	?CheckBossKillCount@CBloodCastle@@QAE_NH@Z:PROC	; CBloodCastle::CheckBossKillCount
EXTRN	?GetCurrentLiveUserCount@CBloodCastle@@QAEHH@Z:PROC ; CBloodCastle::GetCurrentLiveUserCount
EXTRN	?SetSaintStatue@CBloodCastle@@QAEXH@Z:PROC	; CBloodCastle::SetSaintStatue
EXTRN	?GetBridgeLevel@CBloodCastle@@QAEHH@Z:PROC	; CBloodCastle::GetBridgeLevel
EXTRN	?KalimaGateAct@CKalimaGate@@QAEXH@Z:PROC	; CKalimaGate::KalimaGateAct
EXTRN	?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z:PROC	; CKalimaGate::CreateKalimaGate2
EXTRN	?KalimaGateAct2@CKalimaGate@@QAEXH@Z:PROC	; CKalimaGate::KalimaGateAct2
EXTRN	?GetOccupationState@CCrywolfSync@@QAEHXZ:PROC	; CCrywolfSync::GetOccupationState
EXTRN	?GetCrywolfState@CCrywolfSync@@QAEHXZ:PROC	; CCrywolfSync::GetCrywolfState
EXTRN	?GetGemDropPenaltiyRate@CCrywolfSync@@QAEHXZ:PROC ; CCrywolfSync::GetGemDropPenaltiyRate
EXTRN	?GetMonHPBenefitRate@CCrywolfSync@@QAEHXZ:PROC	; CCrywolfSync::GetMonHPBenefitRate
EXTRN	?GetKundunHPRefillState@CCrywolfSync@@QAEHXZ:PROC ; CCrywolfSync::GetKundunHPRefillState
EXTRN	?CheckMonsterSkill@TMonsterSkillManager@@SAHH@Z:PROC ; TMonsterSkillManager::CheckMonsterSkill
EXTRN	?UseMonsterSkill@TMonsterSkillManager@@SAXHHHHPAVCMagicInf@@@Z:PROC ; TMonsterSkillManager::UseMonsterSkill
EXTRN	?GetItemEx@CMonsterItemMngEx@@QAEPAVCItem@@H@Z:PROC ; CMonsterItemMngEx::GetItemEx
EXTRN	?SearchNDropMonsterItem@CChaosCastle@@QAEXHHH@Z:PROC ; CChaosCastle::SearchNDropMonsterItem
EXTRN	?GetFloor@CChaosCastle@@QAEHH@Z:PROC		; CChaosCastle::GetFloor
EXTRN	?MonsterKill@CQuestInfo@@QAEHPAUOBJECTSTRUCT@@0@Z:PROC ; CQuestInfo::MonsterKill
EXTRN	?MonsterItemDrop@CQuestInfo@@QAEHPAUOBJECTSTRUCT@@@Z:PROC ; CQuestInfo::MonsterItemDrop
EXTRN	?MonsterKill@CQuestInfoEx@@QAEHPAUOBJECTSTRUCT@@0@Z:PROC ; CQuestInfoEx::MonsterKill
EXTRN	?ItemDrop@CIllusionTempleEvent@@QAEXPAUOBJECTSTRUCT@@@Z:PROC ; CIllusionTempleEvent::ItemDrop
EXTRN	?DelNPC@CCastleSiege@@QAEHHHHH@Z:PROC		; CCastleSiege::DelNPC
EXTRN	?DeleteLifeStone@CLifeStone@@QAEHH@Z:PROC	; CLifeStone::DeleteLifeStone
EXTRN	?gObjAddBuffEffect@@YA_NPAUOBJECTSTRUCT@@HEHEHH@Z:PROC ; gObjAddBuffEffect
EXTRN	?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z:PROC ; gObjCheckUsedBuffEffect
EXTRN	?gObjGetTotalValueOfEffect@@YAHPAUOBJECTSTRUCT@@H@Z:PROC ; gObjGetTotalValueOfEffect
EXTRN	?GetRaklionState@CRaklion@@QAEHXZ:PROC		; CRaklion::GetRaklionState
EXTRN	?OpenMonster@EventItemBagManager@@QAEEH@Z:PROC	; EventItemBagManager::OpenMonster
EXTRN	?IsAttackAbleMonster@CImperialGuardian@@QAE_NH@Z:PROC ; CImperialGuardian::IsAttackAbleMonster
EXTRN	?SetTargetMoveAllMonster@CImperialGuardian@@QAEXHH@Z:PROC ; CImperialGuardian::SetTargetMoveAllMonster
EXTRN	?MonsterBaseAct@CImperialGuardian@@QAEXPAUOBJECTSTRUCT@@@Z:PROC ; CImperialGuardian::MonsterBaseAct
EXTRN	?Drop@CElementalSystem@@QAEHPAUOBJECTSTRUCT@@0@Z:PROC ; CElementalSystem::Drop
EXTRN	?SkillBerserker@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z:PROC ; CObjUseSkill::SkillBerserker
EXTRN	??0TMonsterAIUtil@@QAE@XZ:PROC			; TMonsterAIUtil::TMonsterAIUtil
EXTRN	??1TMonsterAIUtil@@UAE@XZ:PROC			; TMonsterAIUtil::~TMonsterAIUtil
EXTRN	?MonsterDieHandle@CDoubleGoerEvent@@QAEXPAUOBJECTSTRUCT@@@Z:PROC ; CDoubleGoerEvent::MonsterDieHandle
EXTRN	?gObjMonsterMove@CDoubleGoerEvent@@QAEXPAUOBJECTSTRUCT@@@Z:PROC ; CDoubleGoerEvent::gObjMonsterMove
EXTRN	?MonsterItemDrop@@YAXPAUOBJECTSTRUCT@@@Z:PROC	; MonsterItemDrop
EXTRN	?GetMoney@MapRateInfo@@QAEMF@Z:PROC		; MapRateInfo::GetMoney
EXTRN	?Run@MonsterMoneyDrop@@QAEHPAUOBJECTSTRUCT@@0@Z:PROC ; MonsterMoneyDrop::Run
EXTRN	?IsObserver@CNewPVP@@QAEHAAUOBJECTSTRUCT@@@Z:PROC ; CNewPVP::IsObserver
EXTRN	??0MonsterSpawnerMng@@QAE@XZ:PROC		; MonsterSpawnerMng::MonsterSpawnerMng
EXTRN	?isEventMonster@MonsterSpawnerMng@@QAE_NF@Z:PROC ; MonsterSpawnerMng::isEventMonster
EXTRN	@__security_check_cookie@4:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	__except_handler4:PROC
EXTRN	__libm_sse2_sqrt_precise:PROC
EXTRN	?lMsg@@3VMessage@@A:BYTE			; lMsg
EXTRN	?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A:BYTE	; ItemAttribute
EXTRN	?LogAdd@@3P6AXPADZZA:DWORD			; LogAdd
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
EXTRN	?g_kItemSystemFor380@@3VCItemSystemFor380@@A:BYTE ; g_kItemSystemFor380
EXTRN	?g_SocketItem@@3VCSocketItems@@A:BYTE		; g_SocketItem
EXTRN	?g_SocketRecipe_DropLevel@@3HA:DWORD		; g_SocketRecipe_DropLevel
EXTRN	?g_SocketRecipe_DropRate@@3HA:DWORD		; g_SocketRecipe_DropRate
EXTRN	?g_SocketMaterial_Lv1@@3HA:DWORD		; g_SocketMaterial_Lv1
EXTRN	?g_SocketMaterial_Lv2@@3HA:DWORD		; g_SocketMaterial_Lv2
EXTRN	?RoadPathTable@@3PAFA:BYTE			; RoadPathTable
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
EXTRN	?m_ObjBill@@3PAVBILL_CLASS@@A:BYTE		; m_ObjBill
EXTRN	?gEnableEventNPCTalk@@3HA:DWORD			; gEnableEventNPCTalk
EXTRN	?gFireCrackerEvent@@3HA:DWORD			; gFireCrackerEvent
EXTRN	?gHeartOfLoveEvent@@3HA:DWORD			; gHeartOfLoveEvent
EXTRN	?gMedalEvent@@3HA:DWORD				; gMedalEvent
EXTRN	?gEventChipEvent@@3HA:DWORD			; gEventChipEvent
EXTRN	?gDevilSquareEvent@@3HA:DWORD			; gDevilSquareEvent
EXTRN	?g_iKundunMarkDropRate@@3HA:DWORD		; g_iKundunMarkDropRate
EXTRN	?g_iMarkOfTheLord@@3HA:DWORD			; g_iMarkOfTheLord
EXTRN	?g_iDarkLordHeartDropRate@@3HA:DWORD		; g_iDarkLordHeartDropRate
EXTRN	?g_iMysteriousBeadDropRate1@@3HA:DWORD		; g_iMysteriousBeadDropRate1
EXTRN	?g_iMysteriousBeadDropRate2@@3HA:DWORD		; g_iMysteriousBeadDropRate2
EXTRN	?gIsItemDropRingOfTransform@@3HA:DWORD		; gIsItemDropRingOfTransform
EXTRN	?MapC@@3PAVMapClass@@A:BYTE			; MapC
EXTRN	?gMAttr@@3VCMonsterAttr@@A:BYTE			; gMAttr
EXTRN	?gMSetBase@@3VCMonsterSetBase@@A:BYTE		; gMSetBase
EXTRN	?gIsDropDarkLordItem@@3HA:DWORD			; gIsDropDarkLordItem
EXTRN	?gSleeveOfLordDropRate@@3HA:DWORD		; gSleeveOfLordDropRate
EXTRN	?gSleeveOfLordDropLevel@@3HA:DWORD		; gSleeveOfLordDropLevel
EXTRN	?gSoulOfDarkHorseDropRate@@3HA:DWORD		; gSoulOfDarkHorseDropRate
EXTRN	?gSoulOfDarkHorseropLevel@@3HA:DWORD		; gSoulOfDarkHorseropLevel
EXTRN	?gSoulOfDarkSpiritDropRate@@3HA:DWORD		; gSoulOfDarkSpiritDropRate
EXTRN	?gSoulOfDarkSpiritDropLevel@@3HA:DWORD		; gSoulOfDarkSpiritDropLevel
EXTRN	?gIsDropGemOfDefend@@3HA:DWORD			; gIsDropGemOfDefend
EXTRN	?gGemOfDefendDropRate@@3HA:DWORD		; gGemOfDefendDropRate
EXTRN	?gGemOfDefendDropLevel@@3HA:DWORD		; gGemOfDefendDropLevel
EXTRN	?g_bRibbonBoxEvent@@3HA:DWORD			; g_bRibbonBoxEvent
EXTRN	?g_iRedRibbonBoxDropLevelMin@@3HA:DWORD		; g_iRedRibbonBoxDropLevelMin
EXTRN	?g_iRedRibbonBoxDropLevelMax@@3HA:DWORD		; g_iRedRibbonBoxDropLevelMax
EXTRN	?g_iRedRibbonBoxDropRate@@3HA:DWORD		; g_iRedRibbonBoxDropRate
EXTRN	?g_iGreenRibbonBoxDropLevelMin@@3HA:DWORD	; g_iGreenRibbonBoxDropLevelMin
EXTRN	?g_iGreenRibbonBoxDropLevelMax@@3HA:DWORD	; g_iGreenRibbonBoxDropLevelMax
EXTRN	?g_iGreenRibbonBoxDropRate@@3HA:DWORD		; g_iGreenRibbonBoxDropRate
EXTRN	?g_iBlueRibbonBoxDropLevelMin@@3HA:DWORD	; g_iBlueRibbonBoxDropLevelMin
EXTRN	?g_iBlueRibbonBoxDropLevelMax@@3HA:DWORD	; g_iBlueRibbonBoxDropLevelMax
EXTRN	?g_iBlueRibbonBoxDropRate@@3HA:DWORD		; g_iBlueRibbonBoxDropRate
EXTRN	?g_bChocolateBoxEvent@@3HA:DWORD		; g_bChocolateBoxEvent
EXTRN	?g_iPinkChocolateBoxDropLevelMin@@3HA:DWORD	; g_iPinkChocolateBoxDropLevelMin
EXTRN	?g_iPinkChocolateBoxDropLevelMax@@3HA:DWORD	; g_iPinkChocolateBoxDropLevelMax
EXTRN	?g_iPinkChocolateBoxDropRate@@3HA:DWORD		; g_iPinkChocolateBoxDropRate
EXTRN	?g_iRedChocolateBoxDropLevelMin@@3HA:DWORD	; g_iRedChocolateBoxDropLevelMin
EXTRN	?g_iRedChocolateBoxDropLevelMax@@3HA:DWORD	; g_iRedChocolateBoxDropLevelMax
EXTRN	?g_iRedChocolateBoxDropRate@@3HA:DWORD		; g_iRedChocolateBoxDropRate
EXTRN	?g_iBlueChocolateBoxDropLevelMin@@3HA:DWORD	; g_iBlueChocolateBoxDropLevelMin
EXTRN	?g_iBlueChocolateBoxDropLevelMax@@3HA:DWORD	; g_iBlueChocolateBoxDropLevelMax
EXTRN	?g_iBlueChocolateBoxDropRate@@3HA:DWORD		; g_iBlueChocolateBoxDropRate
EXTRN	?g_bCandyBoxEvent@@3HA:DWORD			; g_bCandyBoxEvent
EXTRN	?g_iLightPurpleCandyBoxDropLevelMin@@3HA:DWORD	; g_iLightPurpleCandyBoxDropLevelMin
EXTRN	?g_iLightPurpleCandyBoxDropLevelMax@@3HA:DWORD	; g_iLightPurpleCandyBoxDropLevelMax
EXTRN	?g_iLightPurpleCandyBoxDropRate@@3HA:DWORD	; g_iLightPurpleCandyBoxDropRate
EXTRN	?g_iVermilionCandyBoxDropLevelMin@@3HA:DWORD	; g_iVermilionCandyBoxDropLevelMin
EXTRN	?g_iVermilionCandyBoxDropLevelMax@@3HA:DWORD	; g_iVermilionCandyBoxDropLevelMax
EXTRN	?g_iVermilionCandyBoxDropRate@@3HA:DWORD	; g_iVermilionCandyBoxDropRate
EXTRN	?g_iDeepBlueCandyBoxDropLevelMin@@3HA:DWORD	; g_iDeepBlueCandyBoxDropLevelMin
EXTRN	?g_iDeepBlueCandyBoxDropLevelMax@@3HA:DWORD	; g_iDeepBlueCandyBoxDropLevelMax
EXTRN	?g_iDeepBlueCandyBoxDropRate@@3HA:DWORD		; g_iDeepBlueCandyBoxDropRate
EXTRN	?g_bFenrirStuffItemDrop@@3HA:DWORD		; g_bFenrirStuffItemDrop
EXTRN	?g_iFenrirStuff_01_DropLv_Min@@3HA:DWORD	; g_iFenrirStuff_01_DropLv_Min
EXTRN	?g_iFenrirStuff_01_DropLv_Max@@3HA:DWORD	; g_iFenrirStuff_01_DropLv_Max
EXTRN	?g_iFenrirStuff_01_DropMap@@3HA:DWORD		; g_iFenrirStuff_01_DropMap
EXTRN	?g_iFenrirStuff_01_DropRate@@3HA:DWORD		; g_iFenrirStuff_01_DropRate
EXTRN	?g_iFenrirStuff_02_DropLv_Min@@3HA:DWORD	; g_iFenrirStuff_02_DropLv_Min
EXTRN	?g_iFenrirStuff_02_DropLv_Max@@3HA:DWORD	; g_iFenrirStuff_02_DropLv_Max
EXTRN	?g_iFenrirStuff_02_DropMap@@3HA:DWORD		; g_iFenrirStuff_02_DropMap
EXTRN	?g_iFenrirStuff_02_DropRate@@3HA:DWORD		; g_iFenrirStuff_02_DropRate
EXTRN	?g_iFenrirStuff_03_DropLv_Min@@3HA:DWORD	; g_iFenrirStuff_03_DropLv_Min
EXTRN	?g_iFenrirStuff_03_DropLv_Max@@3HA:DWORD	; g_iFenrirStuff_03_DropLv_Max
EXTRN	?g_iFenrirStuff_03_DropMap@@3HA:DWORD		; g_iFenrirStuff_03_DropMap
EXTRN	?g_iFenrirStuff_03_DropRate@@3HA:DWORD		; g_iFenrirStuff_03_DropRate
EXTRN	?g_iCrywolfApplyMvpBenefit@@3HA:DWORD		; g_iCrywolfApplyMvpBenefit
EXTRN	?g_iCrywolfApplyMvpPenalty@@3HA:DWORD		; g_iCrywolfApplyMvpPenalty
EXTRN	?g_bKanturuSpecialItemDropOn@@3HA:DWORD		; g_bKanturuSpecialItemDropOn
EXTRN	?g_iKanturuMoonStoneDropRate@@3HA:DWORD		; g_iKanturuMoonStoneDropRate
EXTRN	?g_iKanturuJewelOfHarmonyDropRate@@3HA:DWORD	; g_iKanturuJewelOfHarmonyDropRate
EXTRN	?g_bHallowinDayEventOn@@3HA:DWORD		; g_bHallowinDayEventOn
EXTRN	?g_iHallowinDayEventItemDropRate@@3HA:DWORD	; g_iHallowinDayEventItemDropRate
EXTRN	?giKundunRefillHP@@3HA:DWORD			; giKundunRefillHP
EXTRN	?giKundunRefillHPTime@@3HA:DWORD		; giKundunRefillHPTime
EXTRN	?giKundunHPLogSaveTime@@3HA:DWORD		; giKundunHPLogSaveTime
EXTRN	?g_CompoundPotionDropOn@@3HA:DWORD		; g_CompoundPotionDropOn
EXTRN	?g_iCompoundPotionLv1DropRate@@3HA:DWORD	; g_iCompoundPotionLv1DropRate
EXTRN	?g_iCompoundPotionLv2DropRate@@3HA:DWORD	; g_iCompoundPotionLv2DropRate
EXTRN	?g_iCompoundPotionLv3DropRate@@3HA:DWORD	; g_iCompoundPotionLv3DropRate
EXTRN	?g_iCompoundPotionLv1DropLevel@@3HA:DWORD	; g_iCompoundPotionLv1DropLevel
EXTRN	?g_iCompoundPotionLv2DropLevel@@3HA:DWORD	; g_iCompoundPotionLv2DropLevel
EXTRN	?g_iCompoundPotionLv3DropLevel@@3HA:DWORD	; g_iCompoundPotionLv3DropLevel
EXTRN	?gItemDropPer@@3HA:DWORD			; gItemDropPer
EXTRN	?gFireCrackerDropRate@@3HA:DWORD		; gFireCrackerDropRate
EXTRN	?gHeartOfLoveDropRate@@3HA:DWORD		; gHeartOfLoveDropRate
EXTRN	?gGoldMedalDropRate@@3HA:DWORD			; gGoldMedalDropRate
EXTRN	?gSilverMedalDropRate@@3HA:DWORD		; gSilverMedalDropRate
EXTRN	?gBoxOfGoldDropRate@@3HA:DWORD			; gBoxOfGoldDropRate
EXTRN	?g_bBloodCastle@@3HA:DWORD			; g_bBloodCastle
EXTRN	?g_iAngelKingsPaperDropRate@@3HA:DWORD		; g_iAngelKingsPaperDropRate
EXTRN	?g_iBloodBoneDropRate@@3HA:DWORD		; g_iBloodBoneDropRate
EXTRN	?gItemDropRingOfTransform@@3HA:DWORD		; gItemDropRingOfTransform
EXTRN	?gQuestNPCTeleportTime@@3HA:DWORD		; gQuestNPCTeleportTime
EXTRN	?g_bIllusionTemple@@3HA:DWORD			; g_bIllusionTemple
EXTRN	?g_OldScrollDropRate@@3HA:DWORD			; g_OldScrollDropRate
EXTRN	?g_CovenantDropRate@@3HA:DWORD			; g_CovenantDropRate
EXTRN	?g_bMaxLevelIllusion@@3HA:DWORD			; g_bMaxLevelIllusion
EXTRN	?g_bSantaRingDrop@@3HA:DWORD			; g_bSantaRingDrop
EXTRN	?g_iSantaRingDropRate@@3HA:DWORD		; g_iSantaRingDropRate
EXTRN	?g_iStoneOfCondorDropRate@@3HA:DWORD		; g_iStoneOfCondorDropRate
EXTRN	?g_bCherryBlossomEvent@@3HA:DWORD		; g_bCherryBlossomEvent
EXTRN	?g_iCherryBlossomDropRate@@3HA:DWORD		; g_iCherryBlossomDropRate
EXTRN	?g_iML_OldScrollDropRate@@3HA:DWORD		; g_iML_OldScrollDropRate
EXTRN	?g_iML_CovenantOfIllusionDropRate@@3HA:DWORD	; g_iML_CovenantOfIllusionDropRate
EXTRN	?g_iML_AngelKingsPaperDropRate@@3HA:DWORD	; g_iML_AngelKingsPaperDropRate
EXTRN	?g_iML_BloodBoneDropRate@@3HA:DWORD		; g_iML_BloodBoneDropRate
EXTRN	?g_iML_EyesOfDevilSquareDropRate@@3HA:DWORD	; g_iML_EyesOfDevilSquareDropRate
EXTRN	?g_iML_KeyOfDevilSquareDropRate@@3HA:DWORD	; g_iML_KeyOfDevilSquareDropRate
EXTRN	?gIsDropSetItemInCastleHuntZone@@3HA:DWORD	; gIsDropSetItemInCastleHuntZone
EXTRN	?gSetItemInCastleHuntZoneDropRate@@3HA:DWORD	; gSetItemInCastleHuntZoneDropRate
EXTRN	?gSetItemInCastleHuntZoneDropLevel@@3HA:DWORD	; gSetItemInCastleHuntZoneDropLevel
EXTRN	?g_iDeathKingBoneRate@@3HA:DWORD		; g_iDeathKingBoneRate
EXTRN	?g_iHellMaineLeatherRate@@3HA:DWORD		; g_iHellMaineLeatherRate
EXTRN	?g_iFlameOfPhoenixRate@@3HA:DWORD		; g_iFlameOfPhoenixRate
EXTRN	?g_iDeathBeamKnightSoulRate@@3HA:DWORD		; g_iDeathBeamKnightSoulRate
EXTRN	?g_MonsterLuckItemRollRate@@3HA:DWORD		; g_MonsterLuckItemRollRate
EXTRN	?g_MonsterSkillItemRollRate@@3HA:DWORD		; g_MonsterSkillItemRollRate
EXTRN	?g_MonsterOptionItemRollRate@@3HA:DWORD		; g_MonsterOptionItemRollRate
EXTRN	?g_ExcDropPerc@@3HA:DWORD			; g_ExcDropPerc
EXTRN	?g_CsNPC_Mercenary@@3VCMercenary@@A:QWORD	; g_CsNPC_Mercenary
EXTRN	?g_BloodCastle@@3VCBloodCastle@@A:BYTE		; g_BloodCastle
EXTRN	?g_KalimaGate@@3VCKalimaGate@@A:BYTE		; g_KalimaGate
EXTRN	?g_CrywolfSync@@3VCCrywolfSync@@A:BYTE		; g_CrywolfSync
EXTRN	?g_MonsterItemMngEx@@3VCMonsterItemMngEx@@A:BYTE ; g_MonsterItemMngEx
EXTRN	?g_ChaosCastle@@3VCChaosCastle@@A:BYTE		; g_ChaosCastle
EXTRN	?g_QuestInfo@@3VCQuestInfo@@A:BYTE		; g_QuestInfo
EXTRN	?gQuestInfoEx@@3VCQuestInfoEx@@A:BYTE		; gQuestInfoEx
EXTRN	?g_IllusionTemple@@3VCIllusionTempleEvent@@A:BYTE ; g_IllusionTemple
EXTRN	?g_CastleSiege@@3VCCastleSiege@@A:BYTE		; g_CastleSiege
EXTRN	?g_CsNPC_LifeStone@@3VCLifeStone@@A:DWORD	; g_CsNPC_LifeStone
EXTRN	?g_Raklion@@3VCRaklion@@A:BYTE			; g_Raklion
EXTRN	?g_EventItemBagManager@@3VEventItemBagManager@@A:BYTE ; g_EventItemBagManager
EXTRN	?g_ImperialGuardian@@3VCImperialGuardian@@A:BYTE ; g_ImperialGuardian
EXTRN	?g_nMysteriousPaperDropRate@@3HA:DWORD		; g_nMysteriousPaperDropRate
EXTRN	?g_ElementalSystem@@3VCElementalSystem@@A:BYTE	; g_ElementalSystem
EXTRN	?gObjUseSkill@@3VCObjUseSkill@@A:DWORD		; gObjUseSkill
EXTRN	?gDoubleGoer@@3VCDoubleGoerEvent@@A:BYTE	; gDoubleGoer
EXTRN	?g_MapRateInfo@@3VMapRateInfo@@A:BYTE		; g_MapRateInfo
EXTRN	?g_MonsterMoneyDrop@@3VMonsterMoneyDrop@@A:BYTE	; g_MonsterMoneyDrop
EXTRN	?g_NewPVP@@3VCNewPVP@@A:BYTE			; g_NewPVP
EXTRN	?m_Instance@MonsterSpawnerMng@@0PAV1@A:DWORD	; MonsterSpawnerMng::m_Instance
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?KUNDUN_EVENT_LOG@@3VCLogToFile@@A DB 010228H DUP (?)	; KUNDUN_EVENT_LOG
?MONSTER_UTIL@@3VTMonsterAIUtil@@A DD 01H DUP (?)	; MONSTER_UTIL
_BSS	ENDS
CRT$XCU	SEGMENT
?KUNDUN_EVENT_LOG$initializer$@@3P6AXXZA DD FLAT:??__EKUNDUN_EVENT_LOG@@YAXXZ ; KUNDUN_EVENT_LOG$initializer$
CRT$XCU	ENDS
;	COMDAT __xmm@0000000200000059000000a900000003
CONST	SEGMENT
__xmm@0000000200000059000000a900000003 DB 03H, 00H, 00H, 00H, 0a9H, 00H, 00H
	DB	00H, 'Y', 00H, 00H, 00H, 02H, 00H, 00H, 00H
CONST	ENDS
;	COMDAT __xmm@000000020000002f000000c600000002
CONST	SEGMENT
__xmm@000000020000002f000000c600000002 DB 02H, 00H, 00H, 00H, 0c6H, 00H, 00H
	DB	00H, '/', 00H, 00H, 00H, 02H, 00H, 00H, 00H
CONST	ENDS
;	COMDAT __xmm@00000002000000190000001100000007
CONST	SEGMENT
__xmm@00000002000000190000001100000007 DB 07H, 00H, 00H, 00H, 011H, 00H, 00H
	DB	00H, 019H, 00H, 00H, 00H, 02H, 00H, 00H, 00H
CONST	ENDS
;	COMDAT __xmm@00000001000000570000008900000000
CONST	SEGMENT
__xmm@00000001000000570000008900000000 DB 00H, 00H, 00H, 00H, 089H, 00H, 00H
	DB	00H, 'W', 00H, 00H, 00H, 01H, 00H, 00H, 00H
CONST	ENDS
;	COMDAT __real@42c80000
CONST	SEGMENT
__real@42c80000 DD 042c80000r			; 100
CONST	ENDS
;	COMDAT __real@41c80000
CONST	SEGMENT
__real@41c80000 DD 041c80000r			; 25
CONST	ENDS
;	COMDAT __real@40c00000
CONST	SEGMENT
__real@40c00000 DD 040c00000r			; 6
CONST	ENDS
;	COMDAT __real@40a00000
CONST	SEGMENT
__real@40a00000 DD 040a00000r			; 5
CONST	ENDS
;	COMDAT __real@3fd3333333333333
CONST	SEGMENT
__real@3fd3333333333333 DQ 03fd3333333333333r	; 0.3
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT ??_C@_0O@PGINOIGE@NPC?5?$CFd?$LH?N?5?$MA?L?$LF?$LP?$AA@
CONST	SEGMENT
??_C@_0O@PGINOIGE@NPC?5?$CFd?$LH?N?5?$MA?L?$LF?$LP?$AA@ DB 'NPC %d', 0b7H
	DB	0ceH, ' ', 0c0H, 0ccH, 0b5H, 0bfH, 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CI@JDPIHCJH@?$FLCastle?5HuntZone?$FN?5Drop?5SetItem?5?$FL@
CONST	SEGMENT
??_C@_0CI@JDPIHCJH@?$FLCastle?5HuntZone?$FN?5Drop?5SetItem?5?$FL@ DB '[Ca'
	DB	'stle HuntZone] Drop SetItem [%s][%s]', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DH@PKHNCCG@?$FLKUNDUN?$FN?$FLAttacker?5Info?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN@
CONST	SEGMENT
??_C@_0DH@PKHNCCG@?$FLKUNDUN?$FN?$FLAttacker?5Info?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN@ DB '['
	DB	'KUNDUN][Attacker Info] [%s][%s] HP:%d MP:%d X:%d Y:%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DI@BCGOHKAP@?$FLKUNDUN?$FN?$FLStatus?5Log?$FN?5HP?3?$CFd?5Refil@
CONST	SEGMENT
??_C@_0DI@BCGOHKAP@?$FLKUNDUN?$FN?$FLStatus?5Log?$FN?5HP?3?$CFd?5Refil@ DB '['
	DB	'KUNDUN][Status Log] HP:%d RefillHP:%d Map:%d X:%d Y:%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DJ@LBLCMLBJ@?$FLKUNDUN?$FN?5HP?5Log?5?9?$DO?5?$FL?$CFd?$FN?H?$LI?$LK?$LJ?5?5?$FL?$CFd@
CONST	SEGMENT
??_C@_0DJ@LBLCMLBJ@?$FLKUNDUN?$FN?5HP?5Log?5?9?$DO?5?$FL?$CFd?$FN?H?$LI?$LK?$LJ?5?5?$FL?$CFd@ DB '['
	DB	'KUNDUN] HP Log -> [%d]', 0c8H, 0b8H, 0baH, 0b9H, '  [%d]', 0c8H
	DB	0b8H, 0baH, 0b9H, 0bdH, 0c3H, 0b0H, 0a3H, '  [%7.0f]', 0c7H, 0f6H
	DB	0c0H, 0e7H, 'HP', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0DD@MDNPGPML@?G?O?F?$KO?5?$LO?F?$MA?L?E?$NL?$MA?$LL?5?$LL?s?A?$KB?$LP?$KB?5?A?V?$LM?$LM?$LP?d?4?5?G?$KK?A@
CONST	SEGMENT
??_C@_0DD@MDNPGPML@?G?O?F?$KO?5?$LO?F?$MA?L?E?$NL?$MA?$LL?5?$LL?s?A?$KB?$LP?$KB?5?A?V?$LM?$LM?$LP?d?4?5?G?$KK?A@ DB 0c7H
	DB	0cfH, 0c6H, 0aeH, ' ', 0beH, 0c6H, 0c0H, 0ccH, 0c5H, 0dbH, 0c0H
	DB	0bbH, ' ', 0bbH, 0f3H, 0c1H, 0a1H, 0bfH, 0a1H, ' ', 0c1H, 0d6H
	DB	0bcH, 0bcH, 0bfH, 0e4H, '. ', 0c7H, 0aaH, 0c1H, 0fcH, 0c7H, 0d1H
	DB	' ', 0b0H, 0e6H, 0c7H, 0b0H, ' ', 0c0H, 0ccH, 0baH, 0a5H, 0c6H
	DB	0aeH, ' ', 0c1H, 0dfH, 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@EEHIDPGB@error?9L3?5?$CFs?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0P@EEHIDPGB@error?9L3?5?$CFs?5?$CFd?$AA@ DB 'error-L3 %s %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DN@OMDKGOEJ@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5B@
CONST	SEGMENT
??_C@_0DN@OMDKGOEJ@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5B@ DB '['
	DB	'Blood Castle] (%d) All of the Boss Monster Terminated -> %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DI@FKJGCAAF@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5M@
CONST	SEGMENT
??_C@_0DI@FKJGCAAF@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5M@ DB '['
	DB	'Blood Castle] (%d) All of the Monster Terminated -> %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EJ@LOBMAKBH@?$FL?5KANTURU?5?$FN?$FL?5Debug?5?9?5m_PosNum?5?$FN?5@
CONST	SEGMENT
??_C@_0EJ@LOBMAKBH@?$FL?5KANTURU?5?$FN?$FL?5Debug?5?9?5m_PosNum?5?$FN?5@ DB '['
	DB	' KANTURU ][ Debug - m_PosNum ] Fail %s(Index:%d) X%d-Y%d -> X'
	DB	'%d-Y%d(%d)', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CA@MINPGEPL@error?9L2?5?3?5Hit?5Damage?5Set?5error?$AA@
CONST	SEGMENT
??_C@_0CA@MINPGEPL@error?9L2?5?3?5Hit?5Damage?5Set?5error?$AA@ DB 'error-'
	DB	'L2 : Hit Damage Set error', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@DOCIPDEL@ERROR?3?5?$CFs?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0N@DOCIPDEL@ERROR?3?5?$CFs?5?$CFd?$AA@ DB 'ERROR: %s %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@OAKCBJLL@gObjMonster?4cpp?$AA@
CONST	SEGMENT
??_C@_0BA@OAKCBJLL@gObjMonster?4cpp?$AA@ DB 'gObjMonster.cpp', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_06EEHCNIJK@Kundun?$AA@
CONST	SEGMENT
??_C@_06EEHCNIJK@Kundun?$AA@ DB 'Kundun', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@BCGMCOPG@?4?2Log?2Event?$AA@
CONST	SEGMENT
??_C@_0M@BCGMCOPG@?4?2Log?2Event?$AA@ DB '.\Log\Event', 00H ; `string'
CONST	ENDS
_DATA	SEGMENT
?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A DD 00H	; gQeustNpcTeleport
	DB	28 DUP(00H)
	DD	0ffffffffH
_DATA	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?getInstance@MonsterSpawnerMng@@SAPAV1@XZ DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?getInstance@MonsterSpawnerMng@@SAPAV1@XZ$0
__ehfuncinfo$?getInstance@MonsterSpawnerMng@@SAPAV1@XZ DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?getInstance@MonsterSpawnerMng@@SAPAV1@XZ
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__sehtable$?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z DD 0fffffffeH
	DD	00H
	DD	0ffffffc4H
	DD	00H
	DD	0fffffffeH
	DD	FLAT:$LN26@gObjMonste
	DD	FLAT:$LN18@gObjMonste
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z$0
__ehfuncinfo$?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__ehfuncinfo$??_EOBJECTSTRUCT@@QAEPAXI@Z DD 019930522H
	DD	00H
	DD	00H
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	05H
xdata$x	ENDS
CRT$XCU	SEGMENT
?gQeustNpcTeleport$initializer$@@3P6AXXZA DD FLAT:??__EgQeustNpcTeleport@@YAXXZ ; gQeustNpcTeleport$initializer$
CRT$XCU	ENDS
CRT$XCU	SEGMENT
?MONSTER_UTIL$initializer$@@3P6AXXZA DD FLAT:??__EMONSTER_UTIL@@YAXXZ ; MONSTER_UTIL$initializer$
CRT$XCU	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??__FMONSTER_UTIL@@YAXXZ
text$yd	SEGMENT
??__FMONSTER_UTIL@@YAXXZ PROC				; `dynamic atexit destructor for 'MONSTER_UTIL'', COMDAT
  00000	b9 00 00 00 00	 mov	 ecx, OFFSET ?MONSTER_UTIL@@3VTMonsterAIUtil@@A
  00005	e9 00 00 00 00	 jmp	 ??1TMonsterAIUtil@@UAE@XZ ; TMonsterAIUtil::~TMonsterAIUtil
??__FMONSTER_UTIL@@YAXXZ ENDP				; `dynamic atexit destructor for 'MONSTER_UTIL''
text$yd	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ??__EMONSTER_UTIL@@YAXXZ
text$di	SEGMENT
??__EMONSTER_UTIL@@YAXXZ PROC				; `dynamic initializer for 'MONSTER_UTIL'', COMDAT

; 70   : static TMonsterAIUtil MONSTER_UTIL;

  00000	b9 00 00 00 00	 mov	 ecx, OFFSET ?MONSTER_UTIL@@3VTMonsterAIUtil@@A
  00005	e8 00 00 00 00	 call	 ??0TMonsterAIUtil@@QAE@XZ ; TMonsterAIUtil::TMonsterAIUtil
  0000a	68 00 00 00 00	 push	 OFFSET ??__FMONSTER_UTIL@@YAXXZ ; `dynamic atexit destructor for 'MONSTER_UTIL''
  0000f	e8 00 00 00 00	 call	 _atexit
  00014	59		 pop	 ecx
  00015	c3		 ret	 0
??__EMONSTER_UTIL@@YAXXZ ENDP				; `dynamic initializer for 'MONSTER_UTIL''
text$di	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.h
;	COMDAT ??__FgQeustNpcTeleport@@YAXXZ
text$yd	SEGMENT
??__FgQeustNpcTeleport@@YAXXZ PROC			; `dynamic atexit destructor for 'gQeustNpcTeleport'', COMDAT

; 61   : 		DeleteCriticalSection(&this->CsRef);

  00000	68 04 00 00 00	 push	 OFFSET ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+4
  00005	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteCriticalSection@4
  0000b	c3		 ret	 0
??__FgQeustNpcTeleport@@YAXXZ ENDP			; `dynamic atexit destructor for 'gQeustNpcTeleport''
text$yd	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.h
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.h
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ??__EgQeustNpcTeleport@@YAXXZ
text$di	SEGMENT
??__EgQeustNpcTeleport@@YAXXZ PROC			; `dynamic initializer for 'gQeustNpcTeleport'', COMDAT
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.h

; 39   : 		InitializeCriticalSection(&this->CsRef);

  00000	68 04 00 00 00	 push	 OFFSET ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+4
  00005	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InitializeCriticalSection@4
  0000b	0f 28 05 00 00
	00 00		 movaps	 xmm0, XMMWORD PTR __xmm@000000020000002f000000c600000002
  00012	0f 11 05 24 00
	00 00		 movups	 XMMWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+36, xmm0
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp

; 69   : CQeustNpcTeleport gQeustNpcTeleport;

  00019	68 00 00 00 00	 push	 OFFSET ??__FgQeustNpcTeleport@@YAXXZ ; `dynamic atexit destructor for 'gQeustNpcTeleport''
  0001e	0f 28 05 00 00
	00 00		 movaps	 xmm0, XMMWORD PTR __xmm@00000001000000570000008900000000
  00025	0f 11 05 34 00
	00 00		 movups	 XMMWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+52, xmm0
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.h

; 40   : 		this->TimeCount = 0;

  0002c	c7 05 1c 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+28, 0
  00036	0f 28 05 00 00
	00 00		 movaps	 xmm0, XMMWORD PTR __xmm@0000000200000059000000a900000003
  0003d	0f 11 05 44 00
	00 00		 movups	 XMMWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+68, xmm0
  00044	0f 28 05 00 00
	00 00		 movaps	 xmm0, XMMWORD PTR __xmm@00000002000000190000001100000007
  0004b	0f 11 05 54 00
	00 00		 movups	 XMMWORD PTR ?gQeustNpcTeleport@@3VCQeustNpcTeleport@@A+84, xmm0
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp

; 69   : CQeustNpcTeleport gQeustNpcTeleport;

  00052	e8 00 00 00 00	 call	 _atexit
  00057	59		 pop	 ecx
  00058	c3		 ret	 0
??__EgQeustNpcTeleport@@YAXXZ ENDP			; `dynamic initializer for 'gQeustNpcTeleport''
text$di	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??__FKUNDUN_EVENT_LOG@@YAXXZ
text$yd	SEGMENT
??__FKUNDUN_EVENT_LOG@@YAXXZ PROC			; `dynamic atexit destructor for 'KUNDUN_EVENT_LOG'', COMDAT
  00000	b9 00 00 00 00	 mov	 ecx, OFFSET ?KUNDUN_EVENT_LOG@@3VCLogToFile@@A ; KUNDUN_EVENT_LOG
  00005	e9 00 00 00 00	 jmp	 ??1CLogToFile@@QAE@XZ	; CLogToFile::~CLogToFile
??__FKUNDUN_EVENT_LOG@@YAXXZ ENDP			; `dynamic atexit destructor for 'KUNDUN_EVENT_LOG''
text$yd	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ??__EKUNDUN_EVENT_LOG@@YAXXZ
text$di	SEGMENT
??__EKUNDUN_EVENT_LOG@@YAXXZ PROC			; `dynamic initializer for 'KUNDUN_EVENT_LOG'', COMDAT

; 68   : CLogToFile KUNDUN_EVENT_LOG(LOG_NAME_KUNDUN, LOG_PATH_KUNDUN, 1);

  00000	6a 01		 push	 1
  00002	68 00 00 00 00	 push	 OFFSET ??_C@_0M@BCGMCOPG@?4?2Log?2Event?$AA@
  00007	68 00 00 00 00	 push	 OFFSET ??_C@_06EEHCNIJK@Kundun?$AA@
  0000c	b9 00 00 00 00	 mov	 ecx, OFFSET ?KUNDUN_EVENT_LOG@@3VCLogToFile@@A ; KUNDUN_EVENT_LOG
  00011	e8 00 00 00 00	 call	 ??0CLogToFile@@QAE@QAD0H@Z ; CLogToFile::CLogToFile
  00016	68 00 00 00 00	 push	 OFFSET ??__FKUNDUN_EVENT_LOG@@YAXXZ ; `dynamic atexit destructor for 'KUNDUN_EVENT_LOG''
  0001b	e8 00 00 00 00	 call	 _atexit
  00020	59		 pop	 ecx
  00021	c3		 ret	 0
??__EKUNDUN_EVENT_LOG@@YAXXZ ENDP			; `dynamic initializer for 'KUNDUN_EVENT_LOG''
text$di	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\monsterspawner.h
;	COMDAT ?getInstance@MonsterSpawnerMng@@SAPAV1@XZ
_TEXT	SEGMENT
$T2 = -16						; size = 4
__$EHRec$ = -12						; size = 12
?getInstance@MonsterSpawnerMng@@SAPAV1@XZ PROC		; MonsterSpawnerMng::getInstance, COMDAT

; 137  : 	static MonsterSpawnerMng* getInstance() {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?getInstance@MonsterSpawnerMng@@SAPAV1@XZ
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	51		 push	 ecx
  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00017	33 c5		 xor	 eax, ebp
  00019	50		 push	 eax
  0001a	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  0001d	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax

; 138  : 		if (m_Instance == NULL) {

  00023	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_Instance@MonsterSpawnerMng@@0PAV1@A ; MonsterSpawnerMng::m_Instance
  00028	85 c0		 test	 eax, eax
  0002a	75 3a		 jne	 SHORT $LN2@getInstanc

; 139  : 			m_Instance = new MonsterSpawnerMng();

  0002c	6a 1c		 push	 28			; 0000001cH
  0002e	e8 00 00 00 00	 call	 ??2@YAPAXI@Z		; operator new
  00033	83 c4 04	 add	 esp, 4
  00036	89 45 f0	 mov	 DWORD PTR $T2[ebp], eax
  00039	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  00040	85 c0		 test	 eax, eax
  00042	74 1b		 je	 SHORT $LN4@getInstanc
  00044	8b c8		 mov	 ecx, eax
  00046	e8 00 00 00 00	 call	 ??0MonsterSpawnerMng@@QAE@XZ ; MonsterSpawnerMng::MonsterSpawnerMng
  0004b	a3 00 00 00 00	 mov	 DWORD PTR ?m_Instance@MonsterSpawnerMng@@0PAV1@A, eax ; MonsterSpawnerMng::m_Instance

; 140  : 		}
; 141  : 		return m_Instance;
; 142  : 	}

  00050	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00053	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0005a	59		 pop	 ecx
  0005b	8b e5		 mov	 esp, ebp
  0005d	5d		 pop	 ebp
  0005e	c3		 ret	 0
$LN4@getInstanc:

; 139  : 			m_Instance = new MonsterSpawnerMng();

  0005f	33 c0		 xor	 eax, eax
  00061	a3 00 00 00 00	 mov	 DWORD PTR ?m_Instance@MonsterSpawnerMng@@0PAV1@A, eax ; MonsterSpawnerMng::m_Instance
$LN2@getInstanc:

; 140  : 		}
; 141  : 		return m_Instance;
; 142  : 	}

  00066	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00069	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00070	59		 pop	 ecx
  00071	8b e5		 mov	 esp, ebp
  00073	5d		 pop	 ebp
  00074	c3		 ret	 0
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?getInstance@MonsterSpawnerMng@@SAPAV1@XZ$0:
  00000	6a 1c		 push	 28			; 0000001cH
  00002	8b 45 f0	 mov	 eax, DWORD PTR $T2[ebp]
  00005	50		 push	 eax
  00006	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  0000b	83 c4 08	 add	 esp, 8
  0000e	c3		 ret	 0
__ehhandler$?getInstance@MonsterSpawnerMng@@SAPAV1@XZ:
  0000f	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00013	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00016	8b 4a f8	 mov	 ecx, DWORD PTR [edx-8]
  00019	33 c8		 xor	 ecx, eax
  0001b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00020	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?getInstance@MonsterSpawnerMng@@SAPAV1@XZ
  00025	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?getInstance@MonsterSpawnerMng@@SAPAV1@XZ ENDP		; MonsterSpawnerMng::getInstance
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\snakebegins.h
;	COMDAT ?IsSnake@SnakeBegins@@QAE_NH@Z
_TEXT	SEGMENT
_MonsterType$ = 8					; size = 4
?IsSnake@SnakeBegins@@QAE_NH@Z PROC			; SnakeBegins::IsSnake, COMDAT
; _this$ = ecx

; 17   : 	bool	IsSnake(int MonsterType) { return MonsterType >= 647 && MonsterType <= 650; };

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	8b 45 08	 mov	 eax, DWORD PTR _MonsterType$[ebp]
  00006	b9 03 00 00 00	 mov	 ecx, 3
  0000b	05 79 fd ff ff	 add	 eax, -647		; fffffd79H
  00010	3b c8		 cmp	 ecx, eax
  00012	1b c0		 sbb	 eax, eax
  00014	40		 inc	 eax
  00015	5d		 pop	 ebp
  00016	c2 04 00	 ret	 4
?IsSnake@SnakeBegins@@QAE_NH@Z ENDP			; SnakeBegins::IsSnake
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\imperialguardian.h
;	COMDAT ?IsEnableEvent@CImperialGuardian@@QAE_NXZ
_TEXT	SEGMENT
?IsEnableEvent@CImperialGuardian@@QAE_NXZ PROC		; CImperialGuardian::IsEnableEvent, COMDAT
; _this$ = ecx

; 81   : 	bool IsEnableEvent() { return this->m_bEnabled; }

  00000	8a 41 11	 mov	 al, BYTE PTR [ecx+17]
  00003	c3		 ret	 0
?IsEnableEvent@CImperialGuardian@@QAE_NXZ ENDP		; CImperialGuardian::IsEnableEvent
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterSelectSkillForMedusa@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_nTargetCnt$1$ = -8					; size = 4
_nSplashTargetCnt$1$ = -4				; size = 4
_lpObj$ = 8						; size = 4
?gObjMonsterSelectSkillForMedusa@@YAHPAUOBJECTSTRUCT@@@Z PROC ; gObjMonsterSelectSkillForMedusa, COMDAT

; 5134 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	53		 push	 ebx

; 5135 : 	int nSkillNumber; 
; 5136 : 	int nSplashTargetCnt;
; 5137 : 	int nObjNum;
; 5138 : 	int nTargetCnt;
; 5139 : 	
; 5140 : 	nTargetCnt = 0;

  00007	8b 5d 08	 mov	 ebx, DWORD PTR _lpObj$[ebp]
  0000a	33 d2		 xor	 edx, edx
  0000c	56		 push	 esi

; 5141 : 	nSplashTargetCnt = 0;

  0000d	33 c9		 xor	 ecx, ecx
  0000f	89 55 f8	 mov	 DWORD PTR _nTargetCnt$1$[ebp], edx
  00012	57		 push	 edi

; 5142 : 	
; 5143 : 	for (int i = 0; i < MAX_VIEWPORT; i++)

  00013	33 ff		 xor	 edi, edi
  00015	89 4d fc	 mov	 DWORD PTR _nSplashTargetCnt$1$[ebp], ecx
  00018	81 c3 4a 0c 00
	00		 add	 ebx, 3146		; 00000c4aH
  0001e	66 90		 npad	 2
$LL4@gObjMonste:

; 5144 : 	{
; 5145 : 		nObjNum = lpObj->VpPlayer2[i].number;

  00020	0f bf 33	 movsx	 esi, WORD PTR [ebx]

; 5146 : 		
; 5147 : 		if (nObjNum < 0)

  00023	85 f6		 test	 esi, esi
  00025	78 5c		 js	 SHORT $LN18@gObjMonste

; 5148 : 		{
; 5149 : 			break;
; 5150 : 		}
; 5151 : 		
; 5152 : 		if (gObj[nObjNum].Type == 1 && gObj[nObjNum].Live)

  00027	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0002d	69 c6 40 27 00
	00		 imul	 eax, esi, 10048
  00033	03 c1		 add	 eax, ecx
  00035	80 78 50 01	 cmp	 BYTE PTR [eax+80], 1
  00039	75 0a		 jne	 SHORT $LN6@gObjMonste
  0003b	80 78 51 00	 cmp	 BYTE PTR [eax+81], 0
  0003f	74 04		 je	 SHORT $LN6@gObjMonste

; 5153 : 		{
; 5154 : 			nTargetCnt++;

  00041	42		 inc	 edx
  00042	89 55 f8	 mov	 DWORD PTR _nTargetCnt$1$[ebp], edx
$LN6@gObjMonste:

; 5155 : 		}
; 5156 : 		
; 5157 : 		int iSkillDistance = gObjCalDistance(&gObj[lpObj->TargetNumber], &gObj[nObjNum]);

  00045	50		 push	 eax
  00046	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00049	0f bf 80 38 06
	00 00		 movsx	 eax, WORD PTR [eax+1592]
  00050	69 c0 40 27 00
	00		 imul	 eax, eax, 10048
  00056	03 c1		 add	 eax, ecx
  00058	50		 push	 eax
  00059	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0005e	83 c4 08	 add	 esp, 8

; 5158 : 		
; 5159 : 		if (iSkillDistance <= 3)

  00061	83 f8 03	 cmp	 eax, 3
  00064	7f 11		 jg	 SHORT $LN2@gObjMonste

; 5160 : 		{
; 5161 : 			if (lpObj->TargetNumber != nObjNum)

  00066	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00069	0f bf 80 38 06
	00 00		 movsx	 eax, WORD PTR [eax+1592]
  00070	3b c6		 cmp	 eax, esi
  00072	74 03		 je	 SHORT $LN2@gObjMonste

; 5162 : 			{
; 5163 : 				nSplashTargetCnt++;

  00074	ff 45 fc	 inc	 DWORD PTR _nSplashTargetCnt$1$[ebp]
$LN2@gObjMonste:

; 5142 : 	
; 5143 : 	for (int i = 0; i < MAX_VIEWPORT; i++)

  00077	8b 55 f8	 mov	 edx, DWORD PTR _nTargetCnt$1$[ebp]
  0007a	47		 inc	 edi
  0007b	83 c3 0c	 add	 ebx, 12			; 0000000cH
  0007e	83 ff 4b	 cmp	 edi, 75			; 0000004bH
  00081	7c 9d		 jl	 SHORT $LL4@gObjMonste
$LN18@gObjMonste:

; 5164 : 			}
; 5165 : 		}
; 5166 : 	}
; 5167 : 	
; 5168 : 	if (nTargetCnt >= 2)

  00083	bf 0a 00 00 00	 mov	 edi, 10			; 0000000aH
  00088	83 fa 02	 cmp	 edx, 2
  0008b	7c 1a		 jl	 SHORT $LN9@gObjMonste

; 5169 : 	{
; 5170 : 		nSkillNumber = rand() % 20 + 1;

  0008d	e8 00 00 00 00	 call	 _rand
  00092	99		 cdq
  00093	b9 14 00 00 00	 mov	 ecx, 20			; 00000014H
  00098	f7 f9		 idiv	 ecx
  0009a	8d 72 01	 lea	 esi, DWORD PTR [edx+1]

; 5171 : 		
; 5172 : 		if (nSkillNumber > 4)

  0009d	83 fe 04	 cmp	 esi, 4
  000a0	7e 1b		 jle	 SHORT $LN12@gObjMonste

; 5173 : 		{
; 5174 : 			nSkillNumber = 4;

  000a2	8d 77 fa	 lea	 esi, DWORD PTR [edi-6]

; 5175 : 		}
; 5176 : 	}
; 5177 : 	else

  000a5	eb 16		 jmp	 SHORT $LN12@gObjMonste
$LN9@gObjMonste:

; 5178 : 	{
; 5179 : 		nSkillNumber = rand() % 10 + 1;

  000a7	e8 00 00 00 00	 call	 _rand
  000ac	99		 cdq
  000ad	f7 ff		 idiv	 edi

; 5180 : 		
; 5181 : 		if (nSkillNumber > 4)

  000af	b8 01 00 00 00	 mov	 eax, 1
  000b4	8d 72 01	 lea	 esi, DWORD PTR [edx+1]
  000b7	83 fe 04	 cmp	 esi, 4
  000ba	0f 4f f0	 cmovg	 esi, eax
$LN12@gObjMonste:

; 5182 : 		{
; 5183 : 			nSkillNumber = 1;
; 5184 : 		}
; 5185 : 	}
; 5186 : 	
; 5187 : 	if (nSplashTargetCnt > 0)

  000bd	8b 4d fc	 mov	 ecx, DWORD PTR _nSplashTargetCnt$1$[ebp]
  000c0	85 c9		 test	 ecx, ecx
  000c2	7e 1f		 jle	 SHORT $LN23@gObjMonste

; 5188 : 	{
; 5189 : 		if (nSplashTargetCnt >= nTargetCnt / 2)

  000c4	8b 45 f8	 mov	 eax, DWORD PTR _nTargetCnt$1$[ebp]
  000c7	99		 cdq
  000c8	2b c2		 sub	 eax, edx
  000ca	d1 f8		 sar	 eax, 1
  000cc	3b c8		 cmp	 ecx, eax
  000ce	7c 13		 jl	 SHORT $LN23@gObjMonste

; 5190 : 		{
; 5191 : 			if (rand() % 10 < 7)

  000d0	e8 00 00 00 00	 call	 _rand
  000d5	99		 cdq
  000d6	f7 ff		 idiv	 edi
  000d8	b8 03 00 00 00	 mov	 eax, 3
  000dd	83 fa 07	 cmp	 edx, 7
  000e0	0f 4c f0	 cmovl	 esi, eax
$LN23@gObjMonste:

; 5192 : 				nSkillNumber = 3;
; 5193 : 		}
; 5194 : 	}
; 5195 : 	return nSkillNumber;

  000e3	5f		 pop	 edi
  000e4	8b c6		 mov	 eax, esi
  000e6	5e		 pop	 esi
  000e7	5b		 pop	 ebx

; 5196 : }

  000e8	8b e5		 mov	 esp, ebp
  000ea	5d		 pop	 ebp
  000eb	c3		 ret	 0
?gObjMonsterSelectSkillForMedusa@@YAHPAUOBJECTSTRUCT@@@Z ENDP ; gObjMonsterSelectSkillForMedusa
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gEventMonsterItemDrop@@YAHPAUOBJECTSTRUCT@@0@Z
_TEXT	SEGMENT
_y$19$ = -16						; size = 4
_x$17$ = -16						; size = 4
_type$39$ = -16						; size = 4
_type$ = -16						; size = 4
_y$18$ = -12						; size = 4
_y$16$ = -12						; size = 4
_y$15$ = -12						; size = 4
_y$14$ = -12						; size = 4
_y$13$ = -12						; size = 4
_y$12$ = -12						; size = 4
_y$11$ = -12						; size = 4
_y$10$ = -12						; size = 4
_y$9$ = -12						; size = 4
_y$8$ = -12						; size = 4
_y$7$ = -12						; size = 4
_y$6$ = -12						; size = 4
_y$5$ = -12						; size = 4
_y$4$ = -12						; size = 4
_y$3$ = -12						; size = 4
_y$2$ = -12						; size = 4
_x$19$ = -12						; size = 4
_x$1$ = -12						; size = 4
_type$38$ = -12						; size = 4
_y$17$ = -8						; size = 4
_y$1$ = -8						; size = 4
_x$18$ = -8						; size = 4
_x$16$ = -8						; size = 4
_x$15$ = -8						; size = 4
_x$7$ = -8						; size = 4
_dur$ = -4						; size = 1
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
?gEventMonsterItemDrop@@YAHPAUOBJECTSTRUCT@@0@Z PROC	; gEventMonsterItemDrop, COMDAT

; 3743 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H

; 3744 : 	int type;
; 3745 : 	int level;
; 3746 : 	int x;
; 3747 : 	int y;
; 3748 : 	BYTE dur=0;
; 3749 : 	int Option1=0;
; 3750 : 	int Option2=0;
; 3751 : 	int Option3=0;
; 3752 : 
; 3753 : 	if ( g_bFenrirStuffItemDrop )

  00006	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bFenrirStuffItemDrop@@3HA, 0 ; g_bFenrirStuffItemDrop
  0000d	53		 push	 ebx
  0000e	56		 push	 esi
  0000f	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00012	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  00017	57		 push	 edi
  00018	c6 45 fc 00	 mov	 BYTE PTR _dur$[ebp], 0
  0001c	0f 84 55 01 00
	00		 je	 $LN14@gEventMons

; 3754 : 	{
; 3755 : 		Option1=0;
; 3756 : 		Option2=0;
; 3757 : 		Option3=0;
; 3758 : 		BOOL bDropStuff=FALSE;
; 3759 : 
; 3760 : 		if ( lpObj->Level >= g_iFenrirStuff_01_DropLv_Min && lpObj->Level <= g_iFenrirStuff_01_DropLv_Max &&
; 3761 : 			lpObj->MapNumber == g_iFenrirStuff_01_DropMap &&

  00022	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  00029	33 ff		 xor	 edi, edi
  0002b	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_01_DropLv_Min@@3HA ; g_iFenrirStuff_01_DropLv_Min
  00031	7c 3c		 jl	 SHORT $LN321@gEventMons
  00033	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_01_DropLv_Max@@3HA ; g_iFenrirStuff_01_DropLv_Max
  00039	7f 34		 jg	 SHORT $LN321@gEventMons
  0003b	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  00042	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_01_DropMap@@3HA ; g_iFenrirStuff_01_DropMap
  00048	75 25		 jne	 SHORT $LN321@gEventMons

; 3762 : 			bDropStuff == FALSE )
; 3763 : 		{
; 3764 : 			if ( (rand()%10000) < g_iFenrirStuff_01_DropRate ) 

  0004a	e8 00 00 00 00	 call	 _rand
  0004f	99		 cdq
  00050	f7 fb		 idiv	 ebx
  00052	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iFenrirStuff_01_DropRate@@3HA ; g_iFenrirStuff_01_DropRate
  00058	7d 15		 jge	 SHORT $LN321@gEventMons

; 3765 : 			{
; 3766 : 				bDropStuff = TRUE;
; 3767 : 				type = ItemGetNumberMake(13, 32);

  0005a	6a 20		 push	 32			; 00000020H
  0005c	6a 0d		 push	 13			; 0000000dH
  0005e	bf 01 00 00 00	 mov	 edi, 1
  00063	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00068	83 c4 08	 add	 esp, 8
  0006b	8b d8		 mov	 ebx, eax
  0006d	eb 03		 jmp	 SHORT $LN8@gEventMons
$LN321@gEventMons:
  0006f	8b 5d f0	 mov	 ebx, DWORD PTR _type$[ebp]
$LN8@gEventMons:

; 3768 : 			}
; 3769 : 		}
; 3770 : 
; 3771 : 		if ( lpObj->Level >= g_iFenrirStuff_02_DropLv_Min && lpObj->Level <= g_iFenrirStuff_02_DropLv_Max &&
; 3772 : 			lpObj->MapNumber == g_iFenrirStuff_02_DropMap &&

  00072	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  00079	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_02_DropLv_Min@@3HA ; g_iFenrirStuff_02_DropLv_Min
  0007f	7c 43		 jl	 SHORT $LN10@gEventMons
  00081	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_02_DropLv_Max@@3HA ; g_iFenrirStuff_02_DropLv_Max
  00087	7f 3b		 jg	 SHORT $LN10@gEventMons
  00089	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  00090	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_02_DropMap@@3HA ; g_iFenrirStuff_02_DropMap
  00096	75 2c		 jne	 SHORT $LN10@gEventMons
  00098	85 ff		 test	 edi, edi
  0009a	75 28		 jne	 SHORT $LN10@gEventMons

; 3773 : 			bDropStuff == FALSE )
; 3774 : 		{
; 3775 : 			if ( (rand()%10000) < g_iFenrirStuff_02_DropRate ) 

  0009c	e8 00 00 00 00	 call	 _rand
  000a1	99		 cdq
  000a2	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  000a7	f7 f9		 idiv	 ecx
  000a9	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iFenrirStuff_02_DropRate@@3HA ; g_iFenrirStuff_02_DropRate
  000af	7d 13		 jge	 SHORT $LN10@gEventMons

; 3776 : 			{
; 3777 : 				bDropStuff = TRUE;
; 3778 : 				type = ItemGetNumberMake(13, 33);

  000b1	6a 21		 push	 33			; 00000021H
  000b3	6a 0d		 push	 13			; 0000000dH
  000b5	bf 01 00 00 00	 mov	 edi, 1
  000ba	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  000bf	83 c4 08	 add	 esp, 8
  000c2	8b d8		 mov	 ebx, eax
$LN10@gEventMons:

; 3779 : 			}
; 3780 : 		}
; 3781 : 
; 3782 : 		if ( lpObj->Level >= g_iFenrirStuff_03_DropLv_Min && lpObj->Level <= g_iFenrirStuff_03_DropLv_Max &&
; 3783 : 			lpObj->MapNumber == g_iFenrirStuff_03_DropMap &&

  000c4	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  000cb	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_03_DropLv_Min@@3HA ; g_iFenrirStuff_03_DropLv_Min
  000d1	7c 40		 jl	 SHORT $LN12@gEventMons
  000d3	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_03_DropLv_Max@@3HA ; g_iFenrirStuff_03_DropLv_Max
  000d9	7f 38		 jg	 SHORT $LN12@gEventMons
  000db	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  000e2	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iFenrirStuff_03_DropMap@@3HA ; g_iFenrirStuff_03_DropMap
  000e8	75 29		 jne	 SHORT $LN12@gEventMons
  000ea	85 ff		 test	 edi, edi
  000ec	75 29		 jne	 SHORT $LN299@gEventMons

; 3784 : 			bDropStuff == FALSE )
; 3785 : 		{
; 3786 : 			if ( (rand()%10000) < g_iFenrirStuff_03_DropRate ) 

  000ee	e8 00 00 00 00	 call	 _rand
  000f3	99		 cdq
  000f4	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  000f9	f7 fb		 idiv	 ebx
  000fb	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iFenrirStuff_03_DropRate@@3HA ; g_iFenrirStuff_03_DropRate
  00101	7d 74		 jge	 SHORT $LN14@gEventMons

; 3787 : 			{
; 3788 : 				bDropStuff = TRUE;
; 3789 : 				type = ItemGetNumberMake(13, 34);

  00103	6a 22		 push	 34			; 00000022H
  00105	6a 0d		 push	 13			; 0000000dH
  00107	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0010c	83 c4 08	 add	 esp, 8
  0010f	8b d8		 mov	 ebx, eax

; 3790 : 			}
; 3791 : 		}
; 3792 : 
; 3793 : 		if ( bDropStuff )

  00111	eb 04		 jmp	 SHORT $LN299@gEventMons
$LN12@gEventMons:
  00113	85 ff		 test	 edi, edi
  00115	74 5b		 je	 SHORT $LN364@gEventMons
$LN299@gEventMons:

; 3794 : 		{
; 3795 : 			level = 0;
; 3796 : 			x = lpObj->X;
; 3797 : 			y = lpObj->Y;
; 3798 : 			dur = 1;
; 3799 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3800 : 			
; 3801 : 			if( ItemAttribute[type].MondownFlag != 0 )

  00117	6b c3 70	 imul	 eax, ebx, 112
  0011a	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  0011e	80 b8 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+39], 0
  00125	74 4b		 je	 SHORT $LN364@gEventMons

; 3802 : 			{
; 3803 : 				ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  00127	6a 00		 push	 0
  00129	6a 00		 push	 0
  0012b	6a 00		 push	 0
  0012d	6a 00		 push	 0
  0012f	56		 push	 esi
  00130	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00135	83 c4 04	 add	 esp, 4
  00138	50		 push	 eax
  00139	6a 00		 push	 0
  0013b	6a 00		 push	 0
  0013d	6a 00		 push	 0
  0013f	6a 01		 push	 1
  00141	6a 00		 push	 0
$LN376@gEventMons:
  00143	53		 push	 ebx
$LN373@gEventMons:
  00144	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  0014b	50		 push	 eax
  0014c	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  00153	50		 push	 eax
$LN374@gEventMons:
  00154	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  0015b	50		 push	 eax
  0015c	ff 36		 push	 DWORD PTR [esi]
  0015e	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  00163	83 c4 3c	 add	 esp, 60			; 0000003cH

; 3804 : 					Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3805 : 
; 3806 : 				return TRUE;

  00166	b8 01 00 00 00	 mov	 eax, 1
  0016b	5f		 pop	 edi
  0016c	5e		 pop	 esi
  0016d	5b		 pop	 ebx

; 5066 : }

  0016e	8b e5		 mov	 esp, ebp
  00170	5d		 pop	 ebp
  00171	c3		 ret	 0
$LN364@gEventMons:
  00172	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN14@gEventMons:

; 3807 : 			}
; 3808 : 		}
; 3809 : 	}
; 3810 : 
; 3811 : 	int SphereDrop = 0;
; 3812 : 	SphereDrop = g_SocketItem.GetSphereDrop(lpObj->Level);

  00177	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  0017e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketItem@@3VCSocketItems@@A ; g_SocketItem
  00183	50		 push	 eax
  00184	e8 00 00 00 00	 call	 ?GetSphereDrop@CSocketItems@@QAEHH@Z ; CSocketItems::GetSphereDrop
  00189	8b f8		 mov	 edi, eax

; 3813 : 
; 3814 : 	if ( SphereDrop != -1 )

  0018b	83 ff ff	 cmp	 edi, -1
  0018e	74 2b		 je	 SHORT $LN16@gEventMons

; 3815 : 	{
; 3816 : 		int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3817 : 		
; 3818 : 		if( ItemAttribute[SphereDrop].MondownFlag != 0 )

  00190	6b cf 70	 imul	 ecx, edi, 112
  00193	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  0019a	74 1f		 je	 SHORT $LN16@gEventMons
$LN378@gEventMons:

; 3819 : 		{
; 3820 : 			ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, lpObj->X, lpObj->Y, SphereDrop, 0, 1,

  0019c	6a 00		 push	 0
  0019e	6a 00		 push	 0
  001a0	6a 00		 push	 0
  001a2	6a 00		 push	 0
  001a4	56		 push	 esi
  001a5	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  001aa	83 c4 04	 add	 esp, 4
  001ad	50		 push	 eax
  001ae	6a 00		 push	 0
  001b0	6a 00		 push	 0
  001b2	6a 00		 push	 0
  001b4	6a 01		 push	 1
  001b6	6a 00		 push	 0
  001b8	57		 push	 edi

; 3821 : 				0, 0, 0, iMaxHitUser, 0, 0);
; 3822 : 			return TRUE;

  001b9	eb 89		 jmp	 SHORT $LN373@gEventMons
$LN16@gEventMons:

; 3823 : 		}
; 3824 : 	}
; 3825 : 
; 3826 : 	if ( g_CompoundPotionDropOn == TRUE )

  001bb	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?g_CompoundPotionDropOn@@3HA, 1 ; g_CompoundPotionDropOn
  001c2	0f 85 83 00 00
	00		 jne	 $LN23@gEventMons

; 3827 : 	{
; 3828 : 		BOOL bDropStuff = FALSE;
; 3829 : 		int iType = 0;
; 3830 : 
; 3831 : 		if ( lpObj->Level >= g_iCompoundPotionLv1DropLevel && (rand()%10000) <= g_iCompoundPotionLv1DropRate &&

  001c8	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  001cf	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iCompoundPotionLv1DropLevel@@3HA ; g_iCompoundPotionLv1DropLevel
  001d5	7c 14		 jl	 SHORT $LN301@gEventMons
  001d7	e8 00 00 00 00	 call	 _rand
  001dc	99		 cdq
  001dd	f7 fb		 idiv	 ebx
  001df	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCompoundPotionLv1DropRate@@3HA ; g_iCompoundPotionLv1DropRate
  001e5	7f 04		 jg	 SHORT $LN301@gEventMons

; 3832 : 			bDropStuff == FALSE )
; 3833 : 		{
; 3834 : 			bDropStuff = TRUE;
; 3835 : 			iType = ItemGetNumberMake(14, 38);

  001e7	6a 26		 push	 38			; 00000026H

; 3836 : 		}
; 3837 : 
; 3838 : 		if ( bDropStuff == FALSE && lpObj->Level >= g_iCompoundPotionLv2DropLevel && (rand()%10000) <= g_iCompoundPotionLv2DropRate  )

  001e9	eb 44		 jmp	 SHORT $LN368@gEventMons
$LN301@gEventMons:
  001eb	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  001f2	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iCompoundPotionLv2DropLevel@@3HA ; g_iCompoundPotionLv2DropLevel
  001f8	7c 14		 jl	 SHORT $LN304@gEventMons
  001fa	e8 00 00 00 00	 call	 _rand
  001ff	99		 cdq
  00200	f7 fb		 idiv	 ebx
  00202	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCompoundPotionLv2DropRate@@3HA ; g_iCompoundPotionLv2DropRate
  00208	7f 04		 jg	 SHORT $LN304@gEventMons

; 3839 : 		{
; 3840 : 			bDropStuff = TRUE;
; 3841 : 			iType = ItemGetNumberMake(14, 39);

  0020a	6a 27		 push	 39			; 00000027H

; 3842 : 		}
; 3843 : 		
; 3844 : 
; 3845 : 		if ( !bDropStuff )

  0020c	eb 21		 jmp	 SHORT $LN368@gEventMons
$LN304@gEventMons:

; 3846 : 		{
; 3847 : 			if ( lpObj->Level >= g_iCompoundPotionLv3DropLevel && (rand()%10000) <= g_iCompoundPotionLv3DropRate )

  0020e	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  00215	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iCompoundPotionLv3DropLevel@@3HA ; g_iCompoundPotionLv3DropLevel
  0021b	7c 2e		 jl	 SHORT $LN23@gEventMons
  0021d	e8 00 00 00 00	 call	 _rand
  00222	99		 cdq
  00223	f7 fb		 idiv	 ebx
  00225	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCompoundPotionLv3DropRate@@3HA ; g_iCompoundPotionLv3DropRate
  0022b	7f 1e		 jg	 SHORT $LN23@gEventMons

; 3848 : 			{
; 3849 : 				bDropStuff = TRUE;
; 3850 : 				iType = ItemGetNumberMake(14, 40);

  0022d	6a 28		 push	 40			; 00000028H
$LN368@gEventMons:
  0022f	6a 0e		 push	 14			; 0000000eH
  00231	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00236	8b f8		 mov	 edi, eax
  00238	83 c4 08	 add	 esp, 8

; 3851 : 			}
; 3852 : 		}
; 3853 : 
; 3854 : 		if ( bDropStuff == 1 )
; 3855 : 		{
; 3856 : 			int level = 0;
; 3857 : 			int dur = 1;
; 3858 : 			int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3859 : 			
; 3860 : 			if( ItemAttribute[iType].MondownFlag != 0 )

  0023b	6b c7 70	 imul	 eax, edi, 112
  0023e	80 b8 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+39], 0
  00245	0f 85 51 ff ff
	ff		 jne	 $LN378@gEventMons
$LN23@gEventMons:

; 3861 : 			{
; 3862 : 				ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, lpObj->X, lpObj->Y, iType, level, dur,
; 3863 : 					0,0,0, iMaxHitUser, 0, 0);
; 3864 : 
; 3865 : 				return TRUE;
; 3866 : 			}
; 3867 : 		}
; 3868 : 	}
; 3869 : 
; 3870 : 	if ( gIsItemDropRingOfTransform )

  0024b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gIsItemDropRingOfTransform@@3HA, 0 ; gIsItemDropRingOfTransform
  00252	0f 84 d1 00 00
	00		 je	 $LN30@gEventMons

; 3871 : 	{
; 3872 : 		if ( (rand()%10000) < gItemDropRingOfTransform )

  00258	e8 00 00 00 00	 call	 _rand
  0025d	99		 cdq
  0025e	f7 fb		 idiv	 ebx
  00260	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gItemDropRingOfTransform@@3HA ; gItemDropRingOfTransform
  00266	0f 8d bd 00 00
	00		 jge	 $LN30@gEventMons

; 3873 : 		{
; 3874 : 			LPMONSTER_ATTRIBUTE lpattr = gMAttr.GetAttr(lpObj->Class);

  0026c	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  00273	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  00278	50		 push	 eax
  00279	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr

; 3875 : 
; 3876 : 			if ( lpattr )

  0027e	85 c0		 test	 eax, eax
  00280	0f 84 a3 00 00
	00		 je	 $LN30@gEventMons

; 3877 : 			{
; 3878 : 				int level = lpattr->m_Level;

  00286	8b 48 44	 mov	 ecx, DWORD PTR [eax+68]

; 3879 : 				int callbead_level = 0;
; 3880 : 
; 3881 : 				if ( level < 0 )

  00289	33 c0		 xor	 eax, eax
  0028b	85 c9		 test	 ecx, ecx
  0028d	0f 48 c8	 cmovs	 ecx, eax

; 3882 : 					level = 0;
; 3883 : 
; 3884 : 				callbead_level = level / 10;

  00290	b8 67 66 66 66	 mov	 eax, 1717986919		; 66666667H
  00295	f7 e9		 imul	 ecx
  00297	c1 fa 02	 sar	 edx, 2
  0029a	8b fa		 mov	 edi, edx
  0029c	c1 ef 1f	 shr	 edi, 31			; 0000001fH
  0029f	03 fa		 add	 edi, edx

; 3885 : 
; 3886 : 				if ( callbead_level > 0 )

  002a1	85 ff		 test	 edi, edi
  002a3	7e 01		 jle	 SHORT $LN28@gEventMons

; 3887 : 					callbead_level--;

  002a5	4f		 dec	 edi
$LN28@gEventMons:

; 3888 : 
; 3889 : 				if ( callbead_level > 5 )

  002a6	b8 05 00 00 00	 mov	 eax, 5
  002ab	3b f8		 cmp	 edi, eax
  002ad	0f 4f f8	 cmovg	 edi, eax

; 3890 : 					callbead_level = 5;
; 3891 : 
; 3892 : 				dur = (BYTE)(rand()%100+100.0f);

  002b0	e8 00 00 00 00	 call	 _rand
  002b5	99		 cdq
  002b6	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  002bb	f7 f9		 idiv	 ecx

; 3893 : 				x = lpObj->X;
; 3894 : 				y = lpObj->Y;
; 3895 : 				level = callbead_level;
; 3896 : 				type = ItemGetNumberMake(13, 10);

  002bd	6a 0a		 push	 10			; 0000000aH
  002bf	6a 0d		 push	 13			; 0000000dH
  002c1	66 0f 6e c2	 movd	 xmm0, edx
  002c5	0f 5b c0	 cvtdq2ps xmm0, xmm0
  002c8	f3 0f 58 05 00
	00 00 00	 addss	 xmm0, DWORD PTR __real@42c80000
  002d0	f3 0f 2c c0	 cvttss2si eax, xmm0
  002d4	88 45 fc	 mov	 BYTE PTR _dur$[ebp], al
  002d7	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  002de	89 45 f4	 mov	 DWORD PTR _x$1$[ebp], eax
  002e1	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  002e8	89 45 f8	 mov	 DWORD PTR _y$1$[ebp], eax
  002eb	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  002f0	8b d8		 mov	 ebx, eax
  002f2	83 c4 08	 add	 esp, 8

; 3897 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3898 : 				
; 3899 : 				if( ItemAttribute[type].MondownFlag != 0 )

  002f5	6b cb 70	 imul	 ecx, ebx, 112
  002f8	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  002ff	74 28		 je	 SHORT $LN30@gEventMons

; 3900 : 				{
; 3901 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  00301	6a 00		 push	 0
  00303	6a 00		 push	 0
  00305	6a 00		 push	 0
  00307	6a 00		 push	 0
  00309	56		 push	 esi
  0030a	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  0030f	83 c4 04	 add	 esp, 4
  00312	50		 push	 eax
  00313	6a 00		 push	 0
  00315	6a 00		 push	 0
  00317	6a 00		 push	 0
  00319	ff 75 fc	 push	 DWORD PTR _dur$[ebp]
  0031c	57		 push	 edi
  0031d	53		 push	 ebx
  0031e	ff 75 f8	 push	 DWORD PTR _y$1$[ebp]
  00321	ff 75 f4	 push	 DWORD PTR _x$1$[ebp]

; 3902 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 3903 : 
; 3904 : 					return TRUE;

  00324	e9 2b fe ff ff	 jmp	 $LN374@gEventMons
$LN30@gEventMons:

; 3905 : 				}
; 3906 : 			}
; 3907 : 		}
; 3908 : 	}
; 3909 : 
; 3910 : 	if ( gFireCrackerEvent ) 

  00329	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gFireCrackerEvent@@3HA, 0 ; gFireCrackerEvent
  00330	0f 84 93 00 00
	00		 je	 $LN327@gEventMons

; 3911 : 	{
; 3912 : 		if ( lpObj->MapNumber < 7 )

  00336	80 be 23 01 00
	00 07		 cmp	 BYTE PTR [esi+291], 7
  0033d	0f 83 86 00 00
	00		 jae	 $LN327@gEventMons

; 3913 : 		{
; 3914 : 			LPMONSTER_ATTRIBUTE lpattr = gMAttr.GetAttr(lpObj->Class);

  00343	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  0034a	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  0034f	50		 push	 eax
  00350	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr

; 3915 : 
; 3916 : 			if ( lpattr )

  00355	85 c0		 test	 eax, eax
  00357	74 70		 je	 SHORT $LN327@gEventMons

; 3917 : 			{
; 3918 : 				if ( lpattr->m_Level >= 17 )

  00359	83 78 44 11	 cmp	 DWORD PTR [eax+68], 17	; 00000011H
  0035d	7c 6a		 jl	 SHORT $LN327@gEventMons

; 3919 : 				{
; 3920 : 					if ( (rand()%10000) < gFireCrackerDropRate )

  0035f	e8 00 00 00 00	 call	 _rand
  00364	99		 cdq
  00365	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  0036a	f7 fb		 idiv	 ebx
  0036c	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gFireCrackerDropRate@@3HA ; gFireCrackerDropRate
  00372	7d 5a		 jge	 SHORT $LN36@gEventMons

; 3921 : 					{
; 3922 : 						dur = 1;
; 3923 : 						x = lpObj->X;
; 3924 : 						y = lpObj->Y;

  00374	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  0037b	0f b6 9e 20 01
	00 00		 movzx	 ebx, BYTE PTR [esi+288]

; 3925 : 						level = 2;
; 3926 : 						type = ItemGetNumberMake(14, 11);

  00382	6a 0b		 push	 11			; 0000000bH
  00384	6a 0e		 push	 14			; 0000000eH
  00386	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  0038a	89 45 f4	 mov	 DWORD PTR _y$2$[ebp], eax
  0038d	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00392	8b f8		 mov	 edi, eax
  00394	83 c4 08	 add	 esp, 8

; 3927 : 						int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3928 : 						
; 3929 : 						if( ItemAttribute[type].MondownFlag != 0 )

  00397	6b cf 70	 imul	 ecx, edi, 112
  0039a	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  003a1	74 26		 je	 SHORT $LN327@gEventMons

; 3930 : 						{
; 3931 : 							ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  003a3	6a 00		 push	 0
  003a5	6a 00		 push	 0
  003a7	6a 00		 push	 0
  003a9	6a 00		 push	 0
  003ab	56		 push	 esi
  003ac	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  003b1	83 c4 04	 add	 esp, 4
  003b4	50		 push	 eax
  003b5	6a 00		 push	 0
  003b7	6a 00		 push	 0
  003b9	6a 00		 push	 0
  003bb	6a 01		 push	 1
  003bd	6a 02		 push	 2
  003bf	57		 push	 edi
  003c0	ff 75 f4	 push	 DWORD PTR _y$2$[ebp]
  003c3	53		 push	 ebx

; 3932 : 								Option1,Option2,Option3, MaxHitUser, 0, 0);
; 3933 : 
; 3934 : 							return TRUE;

  003c4	e9 8b fd ff ff	 jmp	 $LN374@gEventMons
$LN327@gEventMons:
  003c9	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN36@gEventMons:

; 3935 : 						}
; 3936 : 					}
; 3937 : 				}
; 3938 : 			}
; 3939 : 		}
; 3940 : 	}
; 3941 : 
; 3942 : 	if ( gHeartOfLoveEvent )

  003ce	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gHeartOfLoveEvent@@3HA, 0 ; gHeartOfLoveEvent
  003d5	0f 84 8e 00 00
	00		 je	 $LN42@gEventMons

; 3943 : 	{
; 3944 : 		
; 3945 : 		if( lpObj->MapNumber < 7 )

  003db	80 be 23 01 00
	00 07		 cmp	 BYTE PTR [esi+291], 7
  003e2	0f 83 81 00 00
	00		 jae	 $LN42@gEventMons

; 3946 : 		{
; 3947 : 			LPMONSTER_ATTRIBUTE lpattr = gMAttr.GetAttr(lpObj->Class);

  003e8	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  003ef	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  003f4	50		 push	 eax
  003f5	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr

; 3948 : 
; 3949 : 			if ( lpattr )

  003fa	85 c0		 test	 eax, eax
  003fc	74 6b		 je	 SHORT $LN42@gEventMons

; 3950 : 			{
; 3951 : 				if ( lpattr->m_Level >=17 )

  003fe	83 78 44 11	 cmp	 DWORD PTR [eax+68], 17	; 00000011H
  00402	7c 65		 jl	 SHORT $LN42@gEventMons

; 3952 : 				{
; 3953 : 					if ( (rand()%10000) < gHeartOfLoveDropRate )

  00404	e8 00 00 00 00	 call	 _rand
  00409	99		 cdq
  0040a	f7 fb		 idiv	 ebx
  0040c	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gHeartOfLoveDropRate@@3HA ; gHeartOfLoveDropRate
  00412	7d 55		 jge	 SHORT $LN42@gEventMons

; 3954 : 					{
; 3955 : 						dur = 1;
; 3956 : 						x = lpObj->X;
; 3957 : 						y = lpObj->Y;

  00414	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  0041b	0f b6 9e 20 01
	00 00		 movzx	 ebx, BYTE PTR [esi+288]

; 3958 : 						level = 3;
; 3959 : 						type = ItemGetNumberMake(14, 11);

  00422	6a 0b		 push	 11			; 0000000bH
  00424	6a 0e		 push	 14			; 0000000eH
  00426	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  0042a	89 45 f4	 mov	 DWORD PTR _y$3$[ebp], eax
  0042d	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00432	8b f8		 mov	 edi, eax
  00434	83 c4 08	 add	 esp, 8

; 3960 : 						int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3961 : 						
; 3962 : 						if( ItemAttribute[type].MondownFlag != 0 )

  00437	6b cf 70	 imul	 ecx, edi, 112
  0043a	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00441	74 26		 je	 SHORT $LN42@gEventMons
$LN381@gEventMons:

; 3963 : 						{
; 3964 : 							ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  00443	6a 00		 push	 0
  00445	6a 00		 push	 0
  00447	6a 00		 push	 0
  00449	6a 00		 push	 0
  0044b	56		 push	 esi
  0044c	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00451	83 c4 04	 add	 esp, 4
  00454	50		 push	 eax
  00455	6a 00		 push	 0
  00457	6a 00		 push	 0
  00459	6a 00		 push	 0
  0045b	6a 01		 push	 1
  0045d	6a 03		 push	 3
  0045f	57		 push	 edi
  00460	ff 75 f4	 push	 DWORD PTR _y$3$[ebp]
  00463	53		 push	 ebx

; 3965 : 								Option1,Option2,Option3, MaxHitUser, 0, 0);
; 3966 : 
; 3967 : 							return TRUE;

  00464	e9 eb fc ff ff	 jmp	 $LN374@gEventMons
$LN42@gEventMons:

; 3968 : 						}
; 3969 : 					}
; 3970 : 				}
; 3971 : 			}
; 3972 : 		}
; 3973 : 	}
; 3974 : 	
; 3975 : 	if ( gMedalEvent )

  00469	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gMedalEvent@@3HA, 0 ; gMedalEvent
  00470	0f 84 02 01 00
	00		 je	 $LN331@gEventMons

; 3976 : 	{
; 3977 : 		if ( lpObj->MapNumber == 1 || lpObj->MapNumber == 2 )

  00476	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  0047c	3c 01		 cmp	 al, 1
  0047e	0f 84 8a 00 00
	00		 je	 $LN46@gEventMons
  00484	3c 02		 cmp	 al, 2
  00486	0f 84 82 00 00
	00		 je	 $LN46@gEventMons

; 3994 : 				}
; 3995 : 			}
; 3996 : 		}
; 3997 : 		else if ( lpObj->MapNumber == 4 || lpObj->MapNumber == 7 || lpObj->MapNumber == 8 )

  0048c	3c 04		 cmp	 al, 4
  0048e	74 0c		 je	 SHORT $LN50@gEventMons
  00490	3c 07		 cmp	 al, 7
  00492	74 08		 je	 SHORT $LN50@gEventMons
  00494	3c 08		 cmp	 al, 8
  00496	0f 85 dc 00 00
	00		 jne	 $LN331@gEventMons
$LN50@gEventMons:

; 3998 : 		{
; 3999 : 			if ( (rand()%10000) < gGoldMedalDropRate )

  0049c	e8 00 00 00 00	 call	 _rand
  004a1	99		 cdq
  004a2	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  004a7	f7 fb		 idiv	 ebx
  004a9	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gGoldMedalDropRate@@3HA ; gGoldMedalDropRate
  004af	0f 8d c8 00 00
	00		 jge	 $LN48@gEventMons

; 4000 : 			{
; 4001 : 				dur = 1;
; 4002 : 				x = lpObj->X;
; 4003 : 				y = lpObj->Y;

  004b5	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  004bc	0f b6 9e 20 01
	00 00		 movzx	 ebx, BYTE PTR [esi+288]

; 4004 : 				level = 6;
; 4005 : 				type = ItemGetNumberMake(14, 11);

  004c3	6a 0b		 push	 11			; 0000000bH
  004c5	6a 0e		 push	 14			; 0000000eH
  004c7	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  004cb	89 45 f4	 mov	 DWORD PTR _y$4$[ebp], eax
  004ce	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  004d3	8b f8		 mov	 edi, eax
  004d5	83 c4 08	 add	 esp, 8

; 4006 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4007 : 				
; 4008 : 				if( ItemAttribute[type].MondownFlag != 0 )

  004d8	6b cf 70	 imul	 ecx, edi, 112
  004db	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  004e2	0f 84 90 00 00
	00		 je	 $LN331@gEventMons

; 4009 : 				{
; 4010 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  004e8	6a 00		 push	 0
  004ea	6a 00		 push	 0
  004ec	6a 00		 push	 0
  004ee	6a 00		 push	 0
  004f0	56		 push	 esi
  004f1	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  004f6	83 c4 04	 add	 esp, 4
  004f9	50		 push	 eax
  004fa	6a 00		 push	 0
  004fc	6a 00		 push	 0
  004fe	6a 00		 push	 0
  00500	6a 01		 push	 1
  00502	6a 06		 push	 6
  00504	57		 push	 edi
  00505	ff 75 f4	 push	 DWORD PTR _y$4$[ebp]
  00508	53		 push	 ebx

; 4011 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4012 : 
; 4013 : 					return TRUE;

  00509	e9 46 fc ff ff	 jmp	 $LN374@gEventMons
$LN46@gEventMons:

; 3978 : 		{
; 3979 : 			if ( (rand()%10000) < gSilverMedalDropRate )

  0050e	e8 00 00 00 00	 call	 _rand
  00513	99		 cdq
  00514	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  00519	f7 fb		 idiv	 ebx
  0051b	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gSilverMedalDropRate@@3HA ; gSilverMedalDropRate
  00521	7d 5a		 jge	 SHORT $LN48@gEventMons

; 3980 : 			{
; 3981 : 				dur = 1;
; 3982 : 				x = lpObj->X;
; 3983 : 				y = lpObj->Y;

  00523	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  0052a	0f b6 9e 20 01
	00 00		 movzx	 ebx, BYTE PTR [esi+288]

; 3984 : 				level = 5;
; 3985 : 				type = ItemGetNumberMake(14, 11);

  00531	6a 0b		 push	 11			; 0000000bH
  00533	6a 0e		 push	 14			; 0000000eH
  00535	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  00539	89 45 f4	 mov	 DWORD PTR _y$5$[ebp], eax
  0053c	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00541	8b f8		 mov	 edi, eax
  00543	83 c4 08	 add	 esp, 8

; 3986 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3987 : 				
; 3988 : 				if( ItemAttribute[type].MondownFlag != 0 )

  00546	6b cf 70	 imul	 ecx, edi, 112
  00549	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00550	74 26		 je	 SHORT $LN331@gEventMons

; 3989 : 				{
; 3990 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  00552	6a 00		 push	 0
  00554	6a 00		 push	 0
  00556	6a 00		 push	 0
  00558	6a 00		 push	 0
  0055a	56		 push	 esi
  0055b	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00560	83 c4 04	 add	 esp, 4
  00563	50		 push	 eax
  00564	6a 00		 push	 0
  00566	6a 00		 push	 0
  00568	6a 00		 push	 0
  0056a	6a 01		 push	 1
  0056c	6a 05		 push	 5
  0056e	57		 push	 edi
  0056f	ff 75 f4	 push	 DWORD PTR _y$5$[ebp]
  00572	53		 push	 ebx

; 3991 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 3992 : 
; 3993 : 					return TRUE;

  00573	e9 dc fb ff ff	 jmp	 $LN374@gEventMons
$LN331@gEventMons:
  00578	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN48@gEventMons:

; 4014 : 				}
; 4015 : 			}
; 4016 : 		}
; 4017 : 	}
; 4018 : 
; 4019 : 	if ( gEventChipEvent )

  0057d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gEventChipEvent@@3HA, 0 ; gEventChipEvent
  00584	74 65		 je	 SHORT $LN55@gEventMons

; 4020 : 	{
; 4021 : 		if ( (rand()%10000) < gBoxOfGoldDropRate )

  00586	e8 00 00 00 00	 call	 _rand
  0058b	99		 cdq
  0058c	f7 fb		 idiv	 ebx
  0058e	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gBoxOfGoldDropRate@@3HA ; gBoxOfGoldDropRate
  00594	7d 55		 jge	 SHORT $LN55@gEventMons

; 4022 : 		{
; 4023 : 			dur = 1;
; 4024 : 			x = lpObj->X;
; 4025 : 			y = lpObj->Y;

  00596	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  0059d	0f b6 9e 20 01
	00 00		 movzx	 ebx, BYTE PTR [esi+288]

; 4026 : 			level = 7;
; 4027 : 			type = ItemGetNumberMake(14, 11);

  005a4	6a 0b		 push	 11			; 0000000bH
  005a6	6a 0e		 push	 14			; 0000000eH
  005a8	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  005ac	89 45 f4	 mov	 DWORD PTR _y$6$[ebp], eax
  005af	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  005b4	8b f8		 mov	 edi, eax
  005b6	83 c4 08	 add	 esp, 8

; 4028 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4029 : 			
; 4030 : 			if( ItemAttribute[type].MondownFlag != 0 )

  005b9	6b cf 70	 imul	 ecx, edi, 112
  005bc	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  005c3	74 26		 je	 SHORT $LN55@gEventMons
$LN382@gEventMons:

; 4031 : 			{
; 4032 : 				ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  005c5	6a 00		 push	 0
  005c7	6a 00		 push	 0
  005c9	6a 00		 push	 0
  005cb	6a 00		 push	 0
  005cd	56		 push	 esi
  005ce	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  005d3	83 c4 04	 add	 esp, 4
  005d6	50		 push	 eax
  005d7	6a 00		 push	 0
  005d9	6a 00		 push	 0
  005db	6a 00		 push	 0
  005dd	6a 01		 push	 1
  005df	6a 07		 push	 7
  005e1	57		 push	 edi
  005e2	ff 75 f4	 push	 DWORD PTR _y$6$[ebp]
  005e5	53		 push	 ebx

; 4033 : 					Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4034 : 
; 4035 : 				return TRUE;

  005e6	e9 69 fb ff ff	 jmp	 $LN374@gEventMons
$LN55@gEventMons:

; 4036 : 			}
; 4037 : 		}
; 4038 : 	}
; 4039 : 
; 4040 : 	if ( (rand()%10000) < g_iKundunMarkDropRate )

  005eb	e8 00 00 00 00	 call	 _rand
  005f0	99		 cdq
  005f1	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  005f6	f7 fb		 idiv	 ebx
  005f8	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iKundunMarkDropRate@@3HA ; g_iKundunMarkDropRate
  005fe	0f 8d f3 00 00
	00		 jge	 $LN73@gEventMons

; 4041 : 	{
; 4042 : 		Option1=0;
; 4043 : 		Option2=0;
; 4044 : 		Option3=0;
; 4045 : 		dur = 1;
; 4046 : 		x = lpObj->X;

  00604	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  0060b	89 45 f8	 mov	 DWORD PTR _x$7$[ebp], eax

; 4047 : 		y = lpObj->Y;

  0060e	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  00615	89 45 f4	 mov	 DWORD PTR _y$7$[ebp], eax

; 4048 : 		level = 0;
; 4049 : 
; 4050 : 		if ( lpObj->Level < 25 )

  00618	0f b7 86 96 00
	00 00		 movzx	 eax, WORD PTR [esi+150]
  0061f	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  00623	66 83 f8 19	 cmp	 ax, 25			; 00000019H
  00627	0f 8c 5e 11 00
	00		 jl	 $LN277@gEventMons

; 4051 : 			level = 0;
; 4052 : 		else if ( lpObj->Level < 47 )

  0062d	66 83 f8 2f	 cmp	 ax, 47			; 0000002fH
  00631	7d 07		 jge	 SHORT $LN59@gEventMons

; 4053 : 			level = 1;

  00633	bf 01 00 00 00	 mov	 edi, 1
  00638	eb 5e		 jmp	 SHORT $LN72@gEventMons
$LN59@gEventMons:

; 4054 : 		else if ( lpObj->Level < 66 )

  0063a	66 83 f8 42	 cmp	 ax, 66			; 00000042H
  0063e	7d 07		 jge	 SHORT $LN61@gEventMons

; 4055 : 			level = 2;

  00640	bf 02 00 00 00	 mov	 edi, 2
  00645	eb 51		 jmp	 SHORT $LN72@gEventMons
$LN61@gEventMons:

; 4056 : 		else if ( lpObj->Level < 78 )

  00647	66 83 f8 4e	 cmp	 ax, 78			; 0000004eH
  0064b	7d 07		 jge	 SHORT $LN63@gEventMons

; 4057 : 			level = 3;

  0064d	bf 03 00 00 00	 mov	 edi, 3
  00652	eb 44		 jmp	 SHORT $LN72@gEventMons
$LN63@gEventMons:

; 4058 : 		else if ( lpObj->Level < 84 )

  00654	66 83 f8 54	 cmp	 ax, 84			; 00000054H
  00658	7d 07		 jge	 SHORT $LN65@gEventMons

; 4059 : 			level = 4;

  0065a	bf 04 00 00 00	 mov	 edi, 4
  0065f	eb 37		 jmp	 SHORT $LN72@gEventMons
$LN65@gEventMons:

; 4060 : 		else if ( lpObj->Level < 92 )

  00661	66 83 f8 5c	 cmp	 ax, 92			; 0000005cH
  00665	7d 07		 jge	 SHORT $LN67@gEventMons

; 4061 : 			level = 5;

  00667	bf 05 00 00 00	 mov	 edi, 5
  0066c	eb 2a		 jmp	 SHORT $LN72@gEventMons
$LN67@gEventMons:

; 4062 : 		else if ( lpObj->Level < 114 )

  0066e	66 83 f8 72	 cmp	 ax, 114			; 00000072H
  00672	7d 07		 jge	 SHORT $LN69@gEventMons

; 4063 : 			level = 6;

  00674	bf 06 00 00 00	 mov	 edi, 6
  00679	eb 1d		 jmp	 SHORT $LN72@gEventMons
$LN69@gEventMons:

; 4064 : 		else if ( lpObj->Level > 115 && lpObj->Level < MAX_CHAR_LEVEL+1 )

  0067b	66 83 f8 73	 cmp	 ax, 115			; 00000073H
  0067f	0f 8e 06 11 00
	00		 jle	 $LN277@gEventMons
  00685	b9 91 01 00 00	 mov	 ecx, 401		; 00000191H
  0068a	66 3b c1	 cmp	 ax, cx
  0068d	0f 8d f8 10 00
	00		 jge	 $LN277@gEventMons

; 4065 : 			level = 7;

  00693	bf 07 00 00 00	 mov	 edi, 7
$LN72@gEventMons:

; 4066 : 
; 4067 : 		if ( level == 0 )
; 4068 : 			return FALSE;
; 4069 : 
; 4070 : #ifdef __NOVUS__
; 4071 : 		if( level < 7 )
; 4072 : 		{
; 4073 : 			return FALSE;
; 4074 : 		}
; 4075 : #endif
; 4076 : 
; 4077 : 		type = ItemGetNumberMake(14, 29);

  00698	6a 1d		 push	 29			; 0000001dH
  0069a	6a 0e		 push	 14			; 0000000eH
  0069c	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  006a1	8b d8		 mov	 ebx, eax
  006a3	83 c4 08	 add	 esp, 8

; 4078 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4079 : 
; 4080 : 		if( ItemAttribute[type].MondownFlag != 0 )

  006a6	6b cb 70	 imul	 ecx, ebx, 112
  006a9	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  006b0	74 40		 je	 SHORT $LN367@gEventMons

; 4081 : 		{
; 4082 : 			ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  006b2	6a 00		 push	 0
  006b4	6a 00		 push	 0
  006b6	6a 00		 push	 0
  006b8	6a 00		 push	 0
  006ba	56		 push	 esi
  006bb	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  006c0	83 c4 04	 add	 esp, 4
  006c3	50		 push	 eax
  006c4	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  006cb	6a 00		 push	 0
  006cd	6a 00		 push	 0
  006cf	6a 00		 push	 0
  006d1	6a 01		 push	 1
  006d3	57		 push	 edi
  006d4	53		 push	 ebx
  006d5	ff 75 f4	 push	 DWORD PTR _y$7$[ebp]
  006d8	ff 75 f8	 push	 DWORD PTR _x$7$[ebp]
  006db	50		 push	 eax
  006dc	ff 36		 push	 DWORD PTR [esi]

; 5055 : 				{
; 5056 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  006de	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  006e3	83 c4 3c	 add	 esp, 60			; 0000003cH

; 5057 : 						Option1,Option2,Option3, iMaxHitUser, 0, 0);
; 5058 : 					return TRUE;

  006e6	b8 01 00 00 00	 mov	 eax, 1
  006eb	5f		 pop	 edi
  006ec	5e		 pop	 esi
  006ed	5b		 pop	 ebx

; 5066 : }

  006ee	8b e5		 mov	 esp, ebp
  006f0	5d		 pop	 ebp
  006f1	c3		 ret	 0
$LN367@gEventMons:
  006f2	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN73@gEventMons:

; 4083 : 				Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4084 : 
; 4085 : 			return TRUE;
; 4086 : 		}
; 4087 : 	}
; 4088 : 
; 4089 : 	if ( (rand()%10000) < g_iMarkOfTheLord )

  006f7	e8 00 00 00 00	 call	 _rand
  006fc	99		 cdq
  006fd	f7 fb		 idiv	 ebx
  006ff	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iMarkOfTheLord@@3HA ; g_iMarkOfTheLord
  00705	7d 38		 jge	 SHORT $LN75@gEventMons

; 4090 : 	{
; 4091 : 		Option1=0;
; 4092 : 		Option2=0;
; 4093 : 		Option3=0;
; 4094 : 		level = 3;
; 4095 : 		dur = 1;
; 4096 : 		x = lpObj->X;
; 4097 : 		y = lpObj->Y;

  00707	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  0070e	0f b6 9e 20 01
	00 00		 movzx	 ebx, BYTE PTR [esi+288]

; 4098 : 		type = ItemGetNumberMake(14, 21);

  00715	6a 15		 push	 21			; 00000015H
  00717	6a 0e		 push	 14			; 0000000eH
  00719	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  0071d	89 45 f4	 mov	 DWORD PTR _y$8$[ebp], eax
  00720	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00725	8b f8		 mov	 edi, eax
  00727	83 c4 08	 add	 esp, 8

; 4099 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4100 : 		
; 4101 : 		if( ItemAttribute[type].MondownFlag != 0 )

  0072a	6b cf 70	 imul	 ecx, edi, 112
  0072d	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00734	0f 85 09 fd ff
	ff		 jne	 $LN381@gEventMons
  0073a	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN75@gEventMons:

; 4102 : 		{
; 4103 : 			ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4104 : 				Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4105 : 
; 4106 : 			return TRUE;
; 4107 : 		}
; 4108 : 	}
; 4109 : 
; 4110 : 	if ( gIsDropDarkLordItem )

  0073f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gIsDropDarkLordItem@@3HA, 0 ; gIsDropDarkLordItem
  00746	0f 84 f5 00 00
	00		 je	 $LN85@gEventMons

; 4111 : 	{
; 4112 : 		if ( lpObj->Level >= gSleeveOfLordDropLevel )

  0074c	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  00753	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?gSleeveOfLordDropLevel@@3HA ; gSleeveOfLordDropLevel
  00759	7c 4d		 jl	 SHORT $LN79@gEventMons

; 4113 : 		{
; 4114 : 			if ( (rand()%10000) < gSleeveOfLordDropRate)

  0075b	e8 00 00 00 00	 call	 _rand
  00760	99		 cdq
  00761	f7 fb		 idiv	 ebx
  00763	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gSleeveOfLordDropRate@@3HA ; gSleeveOfLordDropRate
  00769	7d 3d		 jge	 SHORT $LN79@gEventMons

; 4115 : 			{
; 4116 : 				type = ItemGetNumberMake(13,14);

  0076b	6a 0e		 push	 14			; 0000000eH
  0076d	6a 0d		 push	 13			; 0000000dH
  0076f	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00774	8b f8		 mov	 edi, eax
  00776	83 c4 08	 add	 esp, 8

; 4117 : 				level = 1;
; 4118 : 				x = lpObj->X;
; 4119 : 				y = lpObj->Y;
; 4120 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4121 : 				
; 4122 : 				if( ItemAttribute[type].MondownFlag != 0 )

  00779	6b cf 70	 imul	 ecx, edi, 112
  0077c	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00783	74 23		 je	 SHORT $LN79@gEventMons
$LN379@gEventMons:

; 4123 : 				{
; 4124 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  00785	6a 00		 push	 0
  00787	6a 00		 push	 0
  00789	6a 00		 push	 0
  0078b	6a 00		 push	 0
  0078d	56		 push	 esi
  0078e	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00793	83 c4 04	 add	 esp, 4
  00796	50		 push	 eax
  00797	6a 00		 push	 0
  00799	6a 00		 push	 0
  0079b	6a 00		 push	 0
  0079d	ff 75 fc	 push	 DWORD PTR _dur$[ebp]
  007a0	6a 01		 push	 1
  007a2	57		 push	 edi

; 4125 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4126 : 					return TRUE;

  007a3	e9 9c f9 ff ff	 jmp	 $LN373@gEventMons
$LN79@gEventMons:

; 4127 : 				}
; 4128 : 			}
; 4129 : 		}
; 4130 : 
; 4131 : 		if ( lpObj->Level >= gSoulOfDarkHorseropLevel )

  007a8	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  007af	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?gSoulOfDarkHorseropLevel@@3HA ; gSoulOfDarkHorseropLevel
  007b5	7c 4d		 jl	 SHORT $LN82@gEventMons

; 4132 : 		{
; 4133 : 			if ( (rand()%10000) < gSoulOfDarkHorseDropRate)

  007b7	e8 00 00 00 00	 call	 _rand
  007bc	99		 cdq
  007bd	f7 fb		 idiv	 ebx
  007bf	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gSoulOfDarkHorseDropRate@@3HA ; gSoulOfDarkHorseDropRate
  007c5	7d 3d		 jge	 SHORT $LN82@gEventMons

; 4134 : 			{
; 4135 : 				type = ItemGetNumberMake(13,31);

  007c7	6a 1f		 push	 31			; 0000001fH
  007c9	6a 0d		 push	 13			; 0000000dH
  007cb	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  007d0	8b f8		 mov	 edi, eax
  007d2	83 c4 08	 add	 esp, 8

; 4136 : 				level = 0;
; 4137 : 				x = lpObj->X;
; 4138 : 				y = lpObj->Y;
; 4139 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4140 : 				
; 4141 : 				if( ItemAttribute[type].MondownFlag != 0 )

  007d5	6b cf 70	 imul	 ecx, edi, 112
  007d8	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  007df	74 23		 je	 SHORT $LN82@gEventMons
$LN380@gEventMons:

; 4142 : 				{
; 4143 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  007e1	6a 00		 push	 0
  007e3	6a 00		 push	 0
  007e5	6a 00		 push	 0
  007e7	6a 00		 push	 0
  007e9	56		 push	 esi
  007ea	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  007ef	83 c4 04	 add	 esp, 4
  007f2	50		 push	 eax
  007f3	6a 00		 push	 0
  007f5	6a 00		 push	 0
  007f7	6a 00		 push	 0
  007f9	ff 75 fc	 push	 DWORD PTR _dur$[ebp]
  007fc	6a 00		 push	 0
  007fe	57		 push	 edi

; 4144 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4145 : 
; 4146 : 					return TRUE;

  007ff	e9 40 f9 ff ff	 jmp	 $LN373@gEventMons
$LN82@gEventMons:

; 4147 : 				}
; 4148 : 			}
; 4149 : 		}
; 4150 : 
; 4151 : 		if ( lpObj->Level >= gSoulOfDarkSpiritDropLevel )

  00804	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  0080b	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?gSoulOfDarkSpiritDropLevel@@3HA ; gSoulOfDarkSpiritDropLevel
  00811	7c 2e		 jl	 SHORT $LN85@gEventMons

; 4152 : 		{
; 4153 : 			if ( (rand()%10000) < gSoulOfDarkSpiritDropRate )

  00813	e8 00 00 00 00	 call	 _rand
  00818	99		 cdq
  00819	f7 fb		 idiv	 ebx
  0081b	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gSoulOfDarkSpiritDropRate@@3HA ; gSoulOfDarkSpiritDropRate
  00821	7d 1e		 jge	 SHORT $LN85@gEventMons

; 4154 : 			{
; 4155 : 				type = ItemGetNumberMake(13,31);

  00823	6a 1f		 push	 31			; 0000001fH
  00825	6a 0d		 push	 13			; 0000000dH
  00827	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0082c	8b f8		 mov	 edi, eax
  0082e	83 c4 08	 add	 esp, 8

; 4156 : 				level = 1;
; 4157 : 				x = lpObj->X;
; 4158 : 				y = lpObj->Y;
; 4159 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4160 : 
; 4161 : 				if( ItemAttribute[type].MondownFlag != 0 )

  00831	6b cf 70	 imul	 ecx, edi, 112
  00834	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  0083b	0f 85 44 ff ff
	ff		 jne	 $LN379@gEventMons
$LN85@gEventMons:

; 4162 : 				{
; 4163 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4164 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4165 : 
; 4166 : 					return TRUE;
; 4167 : 				}
; 4168 : 			}
; 4169 : 		}
; 4170 : 	}
; 4171 : 
; 4172 : 	if ( gIsDropGemOfDefend )

  00841	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gIsDropGemOfDefend@@3HA, 0 ; gIsDropGemOfDefend
  00848	74 4b		 je	 SHORT $LN91@gEventMons

; 4173 : 	{
; 4174 : 		if ( lpObj->MapNumber != MAP_INDEX_KALIMA7 && lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE )

  0084a	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  00850	3c 24		 cmp	 al, 36			; 00000024H
  00852	74 04		 je	 SHORT $LN87@gEventMons
  00854	3c 1f		 cmp	 al, 31			; 0000001fH
  00856	75 3d		 jne	 SHORT $LN91@gEventMons
$LN87@gEventMons:

; 4175 : 		{
; 4176 : 		}
; 4177 : 		else
; 4178 : 		{
; 4179 : 			if ( lpObj->Level >= gGemOfDefendDropLevel )

  00858	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  0085f	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?gGemOfDefendDropLevel@@3HA ; gGemOfDefendDropLevel
  00865	7c 2e		 jl	 SHORT $LN91@gEventMons

; 4180 : 			{
; 4181 : 				if ( (rand()%10000)< gGemOfDefendDropRate )

  00867	e8 00 00 00 00	 call	 _rand
  0086c	99		 cdq
  0086d	f7 fb		 idiv	 ebx
  0086f	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gGemOfDefendDropRate@@3HA ; gGemOfDefendDropRate
  00875	7d 1e		 jge	 SHORT $LN91@gEventMons

; 4182 : 				{
; 4183 : 					type = ItemGetNumberMake(14,31);

  00877	6a 1f		 push	 31			; 0000001fH
  00879	6a 0e		 push	 14			; 0000000eH
  0087b	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00880	8b f8		 mov	 edi, eax
  00882	83 c4 08	 add	 esp, 8

; 4184 : 					level = 0;
; 4185 : 					x = lpObj->X;
; 4186 : 					y = lpObj->Y;
; 4187 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4188 : 
; 4189 : 					if( ItemAttribute[type].MondownFlag != 0 )

  00885	6b cf 70	 imul	 ecx, edi, 112
  00888	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  0088f	0f 85 4c ff ff
	ff		 jne	 $LN380@gEventMons
$LN91@gEventMons:

; 4190 : 					{
; 4191 : 						ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4192 : 							Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4193 : 
; 4194 : 						return TRUE;
; 4195 : 					}
; 4196 : 				}
; 4197 : 			}
; 4198 : 		}
; 4199 : 	}
; 4200 : 
; 4201 : 	if( lpObj->MapNumber == MAP_INDEX_BARRACKS )

  00895	80 be 23 01 00
	00 29		 cmp	 BYTE PTR [esi+291], 41	; 00000029H
  0089c	75 2e		 jne	 SHORT $LN94@gEventMons

; 4202 : 	{
; 4203 : 		if( rand() % 10000 < g_iStoneOfCondorDropRate )

  0089e	e8 00 00 00 00	 call	 _rand
  008a3	99		 cdq
  008a4	f7 fb		 idiv	 ebx
  008a6	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iStoneOfCondorDropRate@@3HA ; g_iStoneOfCondorDropRate
  008ac	7d 1e		 jge	 SHORT $LN94@gEventMons

; 4204 : 		{
; 4205 : 			type = ItemGetNumberMake(13,52);

  008ae	6a 34		 push	 52			; 00000034H
  008b0	6a 0d		 push	 13			; 0000000dH
  008b2	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  008b7	8b f8		 mov	 edi, eax
  008b9	83 c4 08	 add	 esp, 8

; 4206 : 			level = 0;
; 4207 : 			x = lpObj->X;
; 4208 : 			y = lpObj->Y;
; 4209 : 
; 4210 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4211 : 
; 4212 : 			if( ItemAttribute[type].MondownFlag != 0 )

  008bc	6b cf 70	 imul	 ecx, edi, 112
  008bf	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  008c6	0f 85 15 ff ff
	ff		 jne	 $LN380@gEventMons
$LN94@gEventMons:

; 4213 : 			{
; 4214 : 				ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4215 : 					Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4216 : 				return TRUE;
; 4217 : 			}
; 4218 : 		}
; 4219 : 	}
; 4220 : 
; 4221 : 	if ( g_bKanturuSpecialItemDropOn )

  008cc	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bKanturuSpecialItemDropOn@@3HA, 0 ; g_bKanturuSpecialItemDropOn
  008d3	74 77		 je	 SHORT $LN102@gEventMons

; 4222 : 	{
; 4223 : 		if ( lpObj->MapNumber == MAP_INDEX_KANTURU2 )

  008d5	80 be 23 01 00
	00 26		 cmp	 BYTE PTR [esi+291], 38	; 00000026H
  008dc	75 2e		 jne	 SHORT $LN98@gEventMons

; 4224 : 		{
; 4225 : 			if ( (rand()%10000) < g_iKanturuMoonStoneDropRate )

  008de	e8 00 00 00 00	 call	 _rand
  008e3	99		 cdq
  008e4	f7 fb		 idiv	 ebx
  008e6	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iKanturuMoonStoneDropRate@@3HA ; g_iKanturuMoonStoneDropRate
  008ec	7d 1e		 jge	 SHORT $LN98@gEventMons

; 4226 : 			{
; 4227 : 				type = ItemGetNumberMake(13,38);	// Moon Stone

  008ee	6a 26		 push	 38			; 00000026H
  008f0	6a 0d		 push	 13			; 0000000dH
  008f2	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  008f7	8b f8		 mov	 edi, eax
  008f9	83 c4 08	 add	 esp, 8

; 4228 : 				level = 0;
; 4229 : 				x = lpObj->X;
; 4230 : 				y = lpObj->Y;
; 4231 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4232 : 
; 4233 : 				if( ItemAttribute[type].MondownFlag != 0 )

  008fc	6b cf 70	 imul	 ecx, edi, 112
  008ff	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00906	0f 85 d5 fe ff
	ff		 jne	 $LN380@gEventMons
$LN98@gEventMons:

; 4234 : 				{
; 4235 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4236 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4237 : 
; 4238 : 					return TRUE;
; 4239 : 				}
; 4240 : 			}
; 4241 : 		}
; 4242 : 
; 4243 : 		if ( lpObj->MapNumber == MAP_INDEX_KANTURU1 ||
; 4244 : 			 lpObj->MapNumber == MAP_INDEX_KANTURU2 ||

  0090c	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  00912	3c 25		 cmp	 al, 37			; 00000025H
  00914	74 08		 je	 SHORT $LN100@gEventMons
  00916	3c 26		 cmp	 al, 38			; 00000026H
  00918	74 04		 je	 SHORT $LN100@gEventMons
  0091a	3c 27		 cmp	 al, 39			; 00000027H
  0091c	75 2e		 jne	 SHORT $LN102@gEventMons
$LN100@gEventMons:

; 4245 : 			 lpObj->MapNumber == MAP_INDEX_KANTURU_BOSS )
; 4246 : 		{
; 4247 : 			if ( (rand()%10000) < g_iKanturuJewelOfHarmonyDropRate )

  0091e	e8 00 00 00 00	 call	 _rand
  00923	99		 cdq
  00924	f7 fb		 idiv	 ebx
  00926	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iKanturuJewelOfHarmonyDropRate@@3HA ; g_iKanturuJewelOfHarmonyDropRate
  0092c	7d 1e		 jge	 SHORT $LN102@gEventMons

; 4248 : 			{
; 4249 : 				type = ItemGetNumberMake(14,41);

  0092e	6a 29		 push	 41			; 00000029H
  00930	6a 0e		 push	 14			; 0000000eH
  00932	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00937	8b f8		 mov	 edi, eax
  00939	83 c4 08	 add	 esp, 8

; 4250 : 				level = 0;
; 4251 : 				x = lpObj->X;
; 4252 : 				y = lpObj->Y;
; 4253 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4254 : 
; 4255 : 				if( ItemAttribute[type].MondownFlag != 0 )

  0093c	6b cf 70	 imul	 ecx, edi, 112
  0093f	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00946	0f 85 95 fe ff
	ff		 jne	 $LN380@gEventMons
$LN102@gEventMons:

; 4256 : 				{
; 4257 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4258 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4259 : 
; 4260 : 					return TRUE;
; 4261 : 				}
; 4262 : 			}
; 4263 : 		}
; 4264 : 	}
; 4265 : 
; 4266 : #if (GS_CASTLE == 1)
; 4267 : 
; 4268 : 
; 4269 : #define TRIAL_ANC_RATE 10000
; 4270 : 
; 4271 : 	if( gIsDropSetItemInCastleHuntZone != FALSE)

  0094c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gIsDropSetItemInCastleHuntZone@@3HA, 0 ; gIsDropSetItemInCastleHuntZone
  00953	0f 84 a0 00 00
	00		 je	 $LN107@gEventMons

; 4272 : 	{
; 4273 : 
; 4274 : 		if( lpObj->MapNumber != MAP_INDEX_CASTLEHUNTZONE )

  00959	80 be 23 01 00
	00 1f		 cmp	 BYTE PTR [esi+291], 31	; 0000001fH
  00960	0f 85 93 00 00
	00		 jne	 $LN107@gEventMons

; 4275 : 		{
; 4276 : 		}
; 4277 : 		else
; 4278 : 		{
; 4279 : 			if( lpObj->Level >= gSetItemInCastleHuntZoneDropLevel &&

  00966	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  0096d	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?gSetItemInCastleHuntZoneDropLevel@@3HA ; gSetItemInCastleHuntZoneDropLevel
  00973	0f 8c 80 00 00
	00		 jl	 $LN107@gEventMons
  00979	e8 00 00 00 00	 call	 _rand
  0097e	99		 cdq
  0097f	f7 fb		 idiv	 ebx
  00981	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?gSetItemInCastleHuntZoneDropRate@@3HA ; gSetItemInCastleHuntZoneDropRate
  00987	7d 70		 jge	 SHORT $LN107@gEventMons

; 4280 : 				rand() % TRIAL_ANC_RATE < gSetItemInCastleHuntZoneDropRate )
; 4281 : 			{
; 4282 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00989	56		 push	 esi
  0098a	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  0098f	8b f8		 mov	 edi, eax
  00991	83 c4 04	 add	 esp, 4

; 4283 : 
; 4284 : 				if(OBJMAX_RANGE(MaxHitUser) != FALSE)

  00994	85 ff		 test	 edi, edi
  00996	78 61		 js	 SHORT $LN107@gEventMons
  00998	33 c9		 xor	 ecx, ecx
  0099a	81 ff eb 2c 00
	00		 cmp	 edi, 11499		; 00002cebH
  009a0	0f 9e c1	 setle	 cl
  009a3	85 c9		 test	 ecx, ecx
  009a5	74 52		 je	 SHORT $LN107@gEventMons

; 4285 : 				{
; 4286 : 					LogAddTD("[Castle HuntZone] Drop SetItem [%s][%s]",gObj[MaxHitUser].AccountID,gObj[MaxHitUser].Name);

  009a7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009ad	69 d7 40 27 00
	00		 imul	 edx, edi, 10048
  009b3	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  009b6	03 c2		 add	 eax, edx
  009b8	50		 push	 eax
  009b9	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  009bc	03 c2		 add	 eax, edx
  009be	50		 push	 eax
  009bf	68 00 00 00 00	 push	 OFFSET ??_C@_0CI@JDPIHCJH@?$FLCastle?5HuntZone?$FN?5Drop?5SetItem?5?$FL@
  009c4	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 4287 : 					MakeRewardSetItem(MaxHitUser,lpObj->X,lpObj->Y,0,lpObj->MapNumber);

  009ca	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  009d1	50		 push	 eax
  009d2	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  009d9	6a 00		 push	 0
  009db	50		 push	 eax
  009dc	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  009e3	50		 push	 eax
  009e4	57		 push	 edi
  009e5	e8 00 00 00 00	 call	 ?MakeRewardSetItem@@YAXHEEHH@Z ; MakeRewardSetItem
  009ea	83 c4 20	 add	 esp, 32			; 00000020H
  009ed	b8 01 00 00 00	 mov	 eax, 1
  009f2	5f		 pop	 edi
  009f3	5e		 pop	 esi
  009f4	5b		 pop	 ebx

; 5066 : }

  009f5	8b e5		 mov	 esp, ebp
  009f7	5d		 pop	 ebp
  009f8	c3		 ret	 0
$LN107@gEventMons:

; 4288 : 					return TRUE;
; 4289 : 				}
; 4290 : 			}
; 4291 : 		}
; 4292 : 	}
; 4293 : 
; 4294 : #endif
; 4295 : 
; 4296 : 	if ( lpObj->MapNumber == MAP_INDEX_AIDA || lpObj->MapNumber == MAP_INDEX_CRYWOLF_FIRSTZONE)

  009f9	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  009ff	3c 21		 cmp	 al, 33			; 00000021H
  00a01	74 04		 je	 SHORT $LN109@gEventMons
  00a03	3c 22		 cmp	 al, 34			; 00000022H
  00a05	75 5d		 jne	 SHORT $LN115@gEventMons
$LN109@gEventMons:

; 4297 : 	{
; 4298 : 		bool bDropMysteriousBead = false;
; 4299 : 
; 4300 : 		switch ( lpObj->Class )

  00a07	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  00a0e	05 d0 fe ff ff	 add	 eax, -304		; fffffed0H
  00a13	83 f8 09	 cmp	 eax, 9
  00a16	77 4c		 ja	 SHORT $LN115@gEventMons
  00a18	0f b6 80 00 00
	00 00		 movzx	 eax, BYTE PTR $LN319@gEventMons[eax]
  00a1f	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN396@gEventMons[eax*4]
$LN110@gEventMons:

; 4301 : 		{
; 4302 : 			case 304:	case 305:	case 306:
; 4303 : 			case 307:	case 308:	case 309:
; 4304 : 				if ( (rand()%10000) < g_iMysteriousBeadDropRate1 )

  00a26	e8 00 00 00 00	 call	 _rand
  00a2b	99		 cdq
  00a2c	f7 fb		 idiv	 ebx
  00a2e	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iMysteriousBeadDropRate1@@3HA ; g_iMysteriousBeadDropRate1

; 4305 : 					bDropMysteriousBead = true;
; 4306 : 				break;

  00a34	eb 0e		 jmp	 SHORT $LN370@gEventMons
$LN112@gEventMons:

; 4307 : 
; 4308 : 			case 310:	case 311:	case 312:	case 313:
; 4309 : 				if ( (rand()%10000) < g_iMysteriousBeadDropRate2 )

  00a36	e8 00 00 00 00	 call	 _rand
  00a3b	99		 cdq
  00a3c	f7 fb		 idiv	 ebx
  00a3e	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iMysteriousBeadDropRate2@@3HA ; g_iMysteriousBeadDropRate2
$LN370@gEventMons:
  00a44	7d 1e		 jge	 SHORT $LN115@gEventMons

; 4310 : 					bDropMysteriousBead = true;
; 4311 : 				break;
; 4312 : 		}
; 4313 : 
; 4314 : 		if ( bDropMysteriousBead == true )
; 4315 : 		{
; 4316 : 			type = ItemGetNumberMake(12,26);

  00a46	6a 1a		 push	 26			; 0000001aH
  00a48	6a 0c		 push	 12			; 0000000cH
  00a4a	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00a4f	8b f8		 mov	 edi, eax
  00a51	83 c4 08	 add	 esp, 8

; 4317 : 			level = 0;
; 4318 : 			x = lpObj->X;
; 4319 : 			y = lpObj->Y;
; 4320 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4321 : 
; 4322 : 			if( ItemAttribute[type].MondownFlag != 0 )

  00a54	6b cf 70	 imul	 ecx, edi, 112
  00a57	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00a5e	0f 85 7d fd ff
	ff		 jne	 $LN380@gEventMons
$LN115@gEventMons:

; 4323 : 			{
; 4324 : 				ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4325 : 					Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4326 : 
; 4327 : 				return TRUE;
; 4328 : 			}
; 4329 : 		}
; 4330 : 	}
; 4331 : 
; 4332 : 	if ( gDevilSquareEvent )

  00a64	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gDevilSquareEvent@@3HA, 0 ; gDevilSquareEvent
  00a6b	0f 84 be 00 00
	00		 je	 $LN121@gEventMons

; 4333 : 	{
; 4334 : 		if( DS_MAP_RANGE( lpObj->MapNumber ) == FALSE )

  00a71	8a 8e 23 01 00
	00		 mov	 cl, BYTE PTR [esi+291]
  00a77	80 f9 09	 cmp	 cl, 9
  00a7a	0f 84 af 00 00
	00		 je	 $LN121@gEventMons
  00a80	33 c0		 xor	 eax, eax
  00a82	80 f9 20	 cmp	 cl, 32			; 00000020H
  00a85	0f 94 c0	 sete	 al
  00a88	85 c0		 test	 eax, eax
  00a8a	0f 85 9f 00 00
	00		 jne	 $LN121@gEventMons

; 4335 : 		{
; 4336 : 			if( rand() % 10000 <  g_iML_EyesOfDevilSquareDropRate &&

  00a90	e8 00 00 00 00	 call	 _rand
  00a95	99		 cdq
  00a96	f7 fb		 idiv	 ebx
  00a98	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iML_EyesOfDevilSquareDropRate@@3HA ; g_iML_EyesOfDevilSquareDropRate
  00a9e	7d 42		 jge	 SHORT $LN119@gEventMons
  00aa0	66 83 be 96 00
	00 00 5a	 cmp	 WORD PTR [esi+150], 90	; 0000005aH
  00aa8	7c 38		 jl	 SHORT $LN119@gEventMons

; 4337 : 				lpObj->Level >= 90 )
; 4338 : 			{
; 4339 : 				Option1 = 0;
; 4340 : 				Option2 = 0;
; 4341 : 				Option3 = 0;
; 4342 : 				dur = 1;
; 4343 : 				level = 7;
; 4344 : 				x = lpObj->X;
; 4345 : 				y = lpObj->Y;

  00aaa	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  00ab1	0f b6 9e 20 01
	00 00		 movzx	 ebx, BYTE PTR [esi+288]

; 4346 : 				type = ItemGetNumberMake(14,17);

  00ab8	6a 11		 push	 17			; 00000011H
  00aba	6a 0e		 push	 14			; 0000000eH
  00abc	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  00ac0	89 45 f4	 mov	 DWORD PTR _y$9$[ebp], eax
  00ac3	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00ac8	8b f8		 mov	 edi, eax
  00aca	83 c4 08	 add	 esp, 8

; 4347 : 
; 4348 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4349 : 
; 4350 : 				if( ItemAttribute[type].MondownFlag != 0 )

  00acd	6b cf 70	 imul	 ecx, edi, 112
  00ad0	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00ad7	0f 85 e8 fa ff
	ff		 jne	 $LN382@gEventMons
  00add	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN119@gEventMons:

; 4351 : 				{
; 4352 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4353 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4354 : 					return TRUE;
; 4355 : 				}
; 4356 : 			}
; 4357 : 
; 4358 : 			if( rand() % 10000 < g_iML_KeyOfDevilSquareDropRate &&

  00ae2	e8 00 00 00 00	 call	 _rand
  00ae7	99		 cdq
  00ae8	f7 fb		 idiv	 ebx
  00aea	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iML_KeyOfDevilSquareDropRate@@3HA ; g_iML_KeyOfDevilSquareDropRate
  00af0	7d 3d		 jge	 SHORT $LN121@gEventMons
  00af2	66 83 be 96 00
	00 00 5a	 cmp	 WORD PTR [esi+150], 90	; 0000005aH
  00afa	7c 33		 jl	 SHORT $LN121@gEventMons

; 4359 : 				lpObj->Level >= 90 )
; 4360 : 			{
; 4361 : 				Option1 = 0;
; 4362 : 				Option2 = 0;
; 4363 : 				Option3 = 0;
; 4364 : 				dur = 1;
; 4365 : 				level = 7;
; 4366 : 				x = lpObj->X;
; 4367 : 				y = lpObj->Y;

  00afc	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  00b03	0f b6 9e 20 01
	00 00		 movzx	 ebx, BYTE PTR [esi+288]

; 4368 : 				type = ItemGetNumberMake(14,18);

  00b0a	6a 12		 push	 18			; 00000012H
  00b0c	6a 0e		 push	 14			; 0000000eH
  00b0e	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  00b12	89 45 f4	 mov	 DWORD PTR _y$10$[ebp], eax
  00b15	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00b1a	8b f8		 mov	 edi, eax
  00b1c	83 c4 08	 add	 esp, 8

; 4369 : 
; 4370 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4371 : 
; 4372 : 				if( ItemAttribute[type].MondownFlag != 0 )

  00b1f	6b cf 70	 imul	 ecx, edi, 112
  00b22	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00b29	0f 85 96 fa ff
	ff		 jne	 $LN382@gEventMons
$LN121@gEventMons:

; 4373 : 				{
; 4374 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4375 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4376 : 					return TRUE;
; 4377 : 				}
; 4378 : 			}
; 4379 : 		}
; 4380 : 	}
; 4381 : 
; 4382 : 	if ( g_bIllusionTemple )

  00b2f	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bIllusionTemple@@3HA, 0 ; g_bIllusionTemple
  00b36	0f 84 db 00 00
	00		 je	 $LN352@gEventMons

; 4383 : 	{
; 4384 : 		if( IT_MAP_RANGE( lpObj->MapNumber ) == FALSE )

  00b3c	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  00b42	3c 2d		 cmp	 al, 45			; 0000002dH
  00b44	72 0f		 jb	 SHORT $LN307@gEventMons
  00b46	b1 32		 mov	 cl, 50			; 00000032H
  00b48	3a c8		 cmp	 cl, al
  00b4a	1b c0		 sbb	 eax, eax
  00b4c	83 c0 01	 add	 eax, 1
  00b4f	0f 85 c2 00 00
	00		 jne	 $LN352@gEventMons
$LN307@gEventMons:

; 4385 : 		{
; 4386 : 			if( rand() % 10000 < g_iML_OldScrollDropRate &&

  00b55	e8 00 00 00 00	 call	 _rand
  00b5a	99		 cdq
  00b5b	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  00b60	f7 fb		 idiv	 ebx
  00b62	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iML_OldScrollDropRate@@3HA ; g_iML_OldScrollDropRate
  00b68	7d 64		 jge	 SHORT $LN125@gEventMons
  00b6a	66 83 be 96 00
	00 00 60	 cmp	 WORD PTR [esi+150], 96	; 00000060H
  00b72	7c 5a		 jl	 SHORT $LN125@gEventMons

; 4387 : 				lpObj->Level >= 96 )
; 4388 : 			{
; 4389 : 				Option1 = 0;
; 4390 : 				Option2 = 0;
; 4391 : 				Option3 = 0;
; 4392 : 				dur = 0;
; 4393 : 				level = 6;
; 4394 : 				x = lpObj->X;
; 4395 : 				y = lpObj->Y;

  00b74	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  00b7b	0f b6 9e 20 01
	00 00		 movzx	 ebx, BYTE PTR [esi+288]

; 4396 : 				type = ItemGetNumberMake(13,49);

  00b82	6a 31		 push	 49			; 00000031H
  00b84	6a 0d		 push	 13			; 0000000dH
  00b86	c6 45 fc 00	 mov	 BYTE PTR _dur$[ebp], 0
  00b8a	89 45 f4	 mov	 DWORD PTR _y$11$[ebp], eax
  00b8d	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00b92	8b f8		 mov	 edi, eax
  00b94	83 c4 08	 add	 esp, 8

; 4397 : 
; 4398 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4399 : 
; 4400 : 				if( ItemAttribute[type].MondownFlag != 0 )

  00b97	6b cf 70	 imul	 ecx, edi, 112
  00b9a	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00ba1	74 26		 je	 SHORT $LN353@gEventMons
$LN383@gEventMons:

; 4401 : 				{
; 4402 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  00ba3	6a 00		 push	 0
  00ba5	6a 00		 push	 0
  00ba7	6a 00		 push	 0
  00ba9	6a 00		 push	 0
  00bab	56		 push	 esi
  00bac	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00bb1	83 c4 04	 add	 esp, 4
  00bb4	50		 push	 eax
  00bb5	6a 00		 push	 0
  00bb7	6a 00		 push	 0
  00bb9	6a 00		 push	 0
  00bbb	6a 00		 push	 0
  00bbd	6a 06		 push	 6
  00bbf	57		 push	 edi
  00bc0	ff 75 f4	 push	 DWORD PTR _y$11$[ebp]
  00bc3	53		 push	 ebx

; 4403 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4404 : 					return TRUE;

  00bc4	e9 8b f5 ff ff	 jmp	 $LN374@gEventMons
$LN353@gEventMons:
  00bc9	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN125@gEventMons:

; 4405 : 				}
; 4406 : 			}
; 4407 : 
; 4408 : 			if( rand() % 10000 < g_iML_CovenantOfIllusionDropRate &&

  00bce	e8 00 00 00 00	 call	 _rand
  00bd3	99		 cdq
  00bd4	f7 fb		 idiv	 ebx
  00bd6	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iML_CovenantOfIllusionDropRate@@3HA ; g_iML_CovenantOfIllusionDropRate
  00bdc	7d 3e		 jge	 SHORT $LN127@gEventMons
  00bde	66 83 be 96 00
	00 00 60	 cmp	 WORD PTR [esi+150], 96	; 00000060H
  00be6	7c 34		 jl	 SHORT $LN127@gEventMons

; 4409 : 				lpObj->Level >= 96 )
; 4410 : 			{
; 4411 : 				Option1 = 0;
; 4412 : 				Option2 = 0;
; 4413 : 				Option3 = 0;
; 4414 : 				dur = 0;
; 4415 : 				level = 6;
; 4416 : 				x = lpObj->X;
; 4417 : 				y = lpObj->Y;

  00be8	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  00bef	0f b6 9e 20 01
	00 00		 movzx	 ebx, BYTE PTR [esi+288]

; 4418 : 				type = ItemGetNumberMake(13,50);

  00bf6	6a 32		 push	 50			; 00000032H
  00bf8	6a 0d		 push	 13			; 0000000dH
  00bfa	c6 45 fc 00	 mov	 BYTE PTR _dur$[ebp], 0
  00bfe	89 45 f4	 mov	 DWORD PTR _y$12$[ebp], eax
  00c01	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00c06	8b f8		 mov	 edi, eax
  00c08	83 c4 08	 add	 esp, 8

; 4419 : 
; 4420 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4421 : 
; 4422 : 				if( ItemAttribute[type].MondownFlag != 0 )

  00c0b	6b cf 70	 imul	 ecx, edi, 112
  00c0e	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00c15	75 8c		 jne	 SHORT $LN383@gEventMons
$LN352@gEventMons:
  00c17	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN127@gEventMons:

; 4423 : 				{
; 4424 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4425 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4426 : 					return TRUE;
; 4427 : 				}
; 4428 : 			}
; 4429 : 		}
; 4430 : 	}
; 4431 : 
; 4432 : 	if ( g_bBloodCastle )

  00c1c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_bBloodCastle@@3HA ; g_bBloodCastle
  00c22	85 c9		 test	 ecx, ecx
  00c24	0f 84 8e 02 00
	00		 je	 $LN169@gEventMons

; 4433 : 	{
; 4434 : 		if( BC_MAP_RANGE( lpObj->MapNumber ) == FALSE )

  00c2a	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  00c30	3c 34		 cmp	 al, 52			; 00000034H
  00c32	0f 84 db 00 00
	00		 je	 $LN133@gEventMons
  00c38	3c 0b		 cmp	 al, 11			; 0000000bH
  00c3a	72 0f		 jb	 SHORT $LN308@gEventMons
  00c3c	b2 11		 mov	 dl, 17			; 00000011H
  00c3e	3a d0		 cmp	 dl, al
  00c40	1b c0		 sbb	 eax, eax
  00c42	83 c0 01	 add	 eax, 1
  00c45	0f 85 c8 00 00
	00		 jne	 $LN133@gEventMons
$LN308@gEventMons:

; 4435 : 		{
; 4436 : 			if( rand() % 10000 < g_iML_AngelKingsPaperDropRate &&

  00c4b	e8 00 00 00 00	 call	 _rand
  00c50	99		 cdq
  00c51	f7 fb		 idiv	 ebx
  00c53	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iML_AngelKingsPaperDropRate@@3HA ; g_iML_AngelKingsPaperDropRate
  00c59	7d 64		 jge	 SHORT $LN131@gEventMons
  00c5b	66 83 be 96 00
	00 00 5a	 cmp	 WORD PTR [esi+150], 90	; 0000005aH
  00c63	7c 5a		 jl	 SHORT $LN131@gEventMons

; 4437 : 				lpObj->Level >= 90 )
; 4438 : 			{
; 4439 : 				Option1 = 0;
; 4440 : 				Option2 = 0;
; 4441 : 				Option3 = 0;
; 4442 : 				dur = 1;
; 4443 : 				level = 8;
; 4444 : 				x = lpObj->X;
; 4445 : 				y = lpObj->Y;

  00c65	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  00c6c	0f b6 9e 20 01
	00 00		 movzx	 ebx, BYTE PTR [esi+288]

; 4446 : 				type = ItemGetNumberMake(13,16);

  00c73	6a 10		 push	 16			; 00000010H
  00c75	6a 0d		 push	 13			; 0000000dH
  00c77	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  00c7b	89 45 f4	 mov	 DWORD PTR _y$13$[ebp], eax
  00c7e	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00c83	8b f8		 mov	 edi, eax
  00c85	83 c4 08	 add	 esp, 8

; 4447 : 
; 4448 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4449 : 
; 4450 : 				if( ItemAttribute[type].MondownFlag != 0 )

  00c88	6b cf 70	 imul	 ecx, edi, 112
  00c8b	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00c92	74 26		 je	 SHORT $LN349@gEventMons
$LN384@gEventMons:

; 4451 : 				{
; 4452 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  00c94	6a 00		 push	 0
  00c96	6a 00		 push	 0
  00c98	6a 00		 push	 0
  00c9a	6a 00		 push	 0
  00c9c	56		 push	 esi
  00c9d	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00ca2	83 c4 04	 add	 esp, 4
  00ca5	50		 push	 eax
  00ca6	6a 00		 push	 0
  00ca8	6a 00		 push	 0
  00caa	6a 00		 push	 0
  00cac	6a 01		 push	 1
  00cae	6a 08		 push	 8
  00cb0	57		 push	 edi
  00cb1	ff 75 f4	 push	 DWORD PTR _y$13$[ebp]
  00cb4	53		 push	 ebx

; 4453 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4454 : 					return TRUE;

  00cb5	e9 9a f4 ff ff	 jmp	 $LN374@gEventMons
$LN349@gEventMons:
  00cba	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN131@gEventMons:

; 4455 : 				}
; 4456 : 			}
; 4457 : 
; 4458 : 			if( rand() % 10000 < g_iML_BloodBoneDropRate &&

  00cbf	e8 00 00 00 00	 call	 _rand
  00cc4	99		 cdq
  00cc5	f7 fb		 idiv	 ebx
  00cc7	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iML_BloodBoneDropRate@@3HA ; g_iML_BloodBoneDropRate
  00ccd	7d 3e		 jge	 SHORT $LN322@gEventMons
  00ccf	66 83 be 96 00
	00 00 5a	 cmp	 WORD PTR [esi+150], 90	; 0000005aH
  00cd7	7c 34		 jl	 SHORT $LN322@gEventMons

; 4459 : 				lpObj->Level >= 90 )
; 4460 : 			{
; 4461 : 				Option1 = 0;
; 4462 : 				Option2 = 0;
; 4463 : 				Option3 = 0;
; 4464 : 				dur = 1;
; 4465 : 				level = 8;
; 4466 : 				x = lpObj->X;
; 4467 : 				y = lpObj->Y;

  00cd9	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  00ce0	0f b6 9e 20 01
	00 00		 movzx	 ebx, BYTE PTR [esi+288]

; 4468 : 				type = ItemGetNumberMake(13,17);

  00ce7	6a 11		 push	 17			; 00000011H
  00ce9	6a 0d		 push	 13			; 0000000dH
  00ceb	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  00cef	89 45 f4	 mov	 DWORD PTR _y$14$[ebp], eax
  00cf2	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00cf7	8b f8		 mov	 edi, eax
  00cf9	83 c4 08	 add	 esp, 8

; 4469 : 
; 4470 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4471 : 
; 4472 : 				if( ItemAttribute[type].MondownFlag != 0 )

  00cfc	6b cf 70	 imul	 ecx, edi, 112
  00cff	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00d06	75 8c		 jne	 SHORT $LN384@gEventMons
  00d08	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN322@gEventMons:

; 4473 : 				{
; 4474 : 					ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4475 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4476 : 					return TRUE;

  00d0d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_bBloodCastle@@3HA ; g_bBloodCastle
$LN133@gEventMons:

; 4477 : 				}
; 4478 : 			}
; 4479 : 		}
; 4480 : 	}
; 4481 : 
; 4482 : 	if ( g_bBloodCastle )

  00d13	85 c9		 test	 ecx, ecx
  00d15	0f 84 9d 01 00
	00		 je	 $LN169@gEventMons

; 4483 : 	{
; 4484 : 		if ( !BC_MAP_RANGE(lpObj->MapNumber ) )

  00d1b	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  00d21	3c 34		 cmp	 al, 52			; 00000034H
  00d23	0f 84 8f 01 00
	00		 je	 $LN169@gEventMons
  00d29	3c 0b		 cmp	 al, 11			; 0000000bH
  00d2b	72 0f		 jb	 SHORT $LN309@gEventMons
  00d2d	b1 11		 mov	 cl, 17			; 00000011H
  00d2f	3a c8		 cmp	 cl, al
  00d31	1b c0		 sbb	 eax, eax
  00d33	83 c0 01	 add	 eax, 1
  00d36	0f 85 7c 01 00
	00		 jne	 $LN169@gEventMons
$LN309@gEventMons:

; 4485 : 		{
; 4486 : 			Option1=0;
; 4487 : 			Option2=0;
; 4488 : 			Option3=0;
; 4489 : 
; 4490 : 			if ( (rand()%10000) < g_iAngelKingsPaperDropRate )

  00d3c	e8 00 00 00 00	 call	 _rand
  00d41	99		 cdq
  00d42	f7 fb		 idiv	 ebx
  00d44	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iAngelKingsPaperDropRate@@3HA ; g_iAngelKingsPaperDropRate
  00d4a	0f 8d be 00 00
	00		 jge	 $LN152@gEventMons

; 4491 : 			{
; 4492 : 				dur = 1;
; 4493 : 				x = lpObj->X;

  00d50	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  00d57	89 45 f8	 mov	 DWORD PTR _x$15$[ebp], eax

; 4494 : 				y = lpObj->Y;

  00d5a	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  00d61	89 45 f4	 mov	 DWORD PTR _y$15$[ebp], eax

; 4495 : 
; 4496 : 				if ( lpObj->Level < 32 )

  00d64	0f b7 86 96 00
	00 00		 movzx	 eax, WORD PTR [esi+150]
  00d6b	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  00d6f	66 83 f8 20	 cmp	 ax, 32			; 00000020H
  00d73	7d 07		 jge	 SHORT $LN137@gEventMons

; 4497 : 					level = 1;

  00d75	bf 01 00 00 00	 mov	 edi, 1
  00d7a	eb 4c		 jmp	 SHORT $LN310@gEventMons
$LN137@gEventMons:

; 4498 : 				else if ( lpObj->Level < 45 )

  00d7c	66 83 f8 2d	 cmp	 ax, 45			; 0000002dH
  00d80	7d 07		 jge	 SHORT $LN139@gEventMons

; 4499 : 					level = 2;

  00d82	bf 02 00 00 00	 mov	 edi, 2
  00d87	eb 3f		 jmp	 SHORT $LN310@gEventMons
$LN139@gEventMons:

; 4500 : 				else if ( lpObj->Level < 57 )

  00d89	66 83 f8 39	 cmp	 ax, 57			; 00000039H
  00d8d	7d 07		 jge	 SHORT $LN141@gEventMons

; 4501 : 					level = 3;

  00d8f	bf 03 00 00 00	 mov	 edi, 3
  00d94	eb 32		 jmp	 SHORT $LN310@gEventMons
$LN141@gEventMons:

; 4502 : 				else if ( lpObj->Level < 68 )

  00d96	66 83 f8 44	 cmp	 ax, 68			; 00000044H
  00d9a	7d 07		 jge	 SHORT $LN143@gEventMons

; 4503 : 					level = 4;

  00d9c	bf 04 00 00 00	 mov	 edi, 4
  00da1	eb 25		 jmp	 SHORT $LN310@gEventMons
$LN143@gEventMons:

; 4504 : 				else if ( lpObj->Level < 76 )

  00da3	66 83 f8 4c	 cmp	 ax, 76			; 0000004cH
  00da7	7d 07		 jge	 SHORT $LN145@gEventMons

; 4505 : 					level = 5;

  00da9	bf 05 00 00 00	 mov	 edi, 5
  00dae	eb 18		 jmp	 SHORT $LN310@gEventMons
$LN145@gEventMons:

; 4506 : 				else if ( lpObj->Level < 84 )

  00db0	66 83 f8 54	 cmp	 ax, 84			; 00000054H
  00db4	7d 07		 jge	 SHORT $LN147@gEventMons

; 4507 : 					level = 6;

  00db6	bf 06 00 00 00	 mov	 edi, 6
  00dbb	eb 0b		 jmp	 SHORT $LN310@gEventMons
$LN147@gEventMons:

; 4508 : 				else if ( lpObj->Level < 90 )

  00dbd	66 83 f8 5a	 cmp	 ax, 90			; 0000005aH
  00dc1	7d 4b		 jge	 SHORT $LN152@gEventMons

; 4509 : 					level = 7;

  00dc3	bf 07 00 00 00	 mov	 edi, 7
$LN310@gEventMons:

; 4510 : 				else
; 4511 : 					level = 8;
; 4512 : 
; 4513 : 				if( level != 8 )
; 4514 : 				{
; 4515 : 					type = ItemGetNumberMake(13,16);

  00dc8	6a 10		 push	 16			; 00000010H
  00dca	6a 0d		 push	 13			; 0000000dH
  00dcc	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00dd1	8b d8		 mov	 ebx, eax
  00dd3	83 c4 08	 add	 esp, 8

; 4516 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4517 : 
; 4518 : 					if( ItemAttribute[type].MondownFlag != 0 )

  00dd6	6b cb 70	 imul	 ecx, ebx, 112
  00dd9	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00de0	74 27		 je	 SHORT $LN347@gEventMons
$LN385@gEventMons:

; 4519 : 					{
; 4520 : 						ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  00de2	6a 00		 push	 0
  00de4	6a 00		 push	 0
  00de6	6a 00		 push	 0
  00de8	6a 00		 push	 0
  00dea	56		 push	 esi
  00deb	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00df0	83 c4 04	 add	 esp, 4
  00df3	50		 push	 eax
  00df4	6a 00		 push	 0
  00df6	6a 00		 push	 0
  00df8	6a 00		 push	 0
  00dfa	6a 01		 push	 1
  00dfc	57		 push	 edi
  00dfd	53		 push	 ebx
  00dfe	ff 75 f4	 push	 DWORD PTR _y$15$[ebp]
  00e01	ff 75 f8	 push	 DWORD PTR _x$15$[ebp]

; 4521 : 							Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4522 : 						return TRUE;

  00e04	e9 4b f3 ff ff	 jmp	 $LN374@gEventMons
$LN347@gEventMons:
  00e09	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN152@gEventMons:

; 4523 : 					}
; 4524 : 				}
; 4525 : 			}
; 4526 : 
; 4527 : 			if ( (rand()%10000) < g_iBloodBoneDropRate )

  00e0e	e8 00 00 00 00	 call	 _rand
  00e13	99		 cdq
  00e14	f7 fb		 idiv	 ebx
  00e16	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iBloodBoneDropRate@@3HA ; g_iBloodBoneDropRate
  00e1c	0f 8d 96 00 00
	00		 jge	 $LN169@gEventMons

; 4528 : 			{
; 4529 : 				dur = 1;
; 4530 : 				x = lpObj->X;

  00e22	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  00e29	89 45 f8	 mov	 DWORD PTR _x$16$[ebp], eax

; 4531 : 				y = lpObj->Y;

  00e2c	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  00e33	89 45 f4	 mov	 DWORD PTR _y$16$[ebp], eax

; 4532 : 
; 4533 : 				if ( lpObj->Level < 32 )

  00e36	0f b7 86 96 00
	00 00		 movzx	 eax, WORD PTR [esi+150]
  00e3d	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  00e41	66 83 f8 20	 cmp	 ax, 32			; 00000020H
  00e45	7d 07		 jge	 SHORT $LN154@gEventMons

; 4534 : 					level = 1;

  00e47	bf 01 00 00 00	 mov	 edi, 1
  00e4c	eb 4c		 jmp	 SHORT $LN311@gEventMons
$LN154@gEventMons:

; 4535 : 				else if ( lpObj->Level < 45 )

  00e4e	66 83 f8 2d	 cmp	 ax, 45			; 0000002dH
  00e52	7d 07		 jge	 SHORT $LN156@gEventMons

; 4536 : 					level = 2;

  00e54	bf 02 00 00 00	 mov	 edi, 2
  00e59	eb 3f		 jmp	 SHORT $LN311@gEventMons
$LN156@gEventMons:

; 4537 : 				else if ( lpObj->Level < 57 )

  00e5b	66 83 f8 39	 cmp	 ax, 57			; 00000039H
  00e5f	7d 07		 jge	 SHORT $LN158@gEventMons

; 4538 : 					level = 3;

  00e61	bf 03 00 00 00	 mov	 edi, 3
  00e66	eb 32		 jmp	 SHORT $LN311@gEventMons
$LN158@gEventMons:

; 4539 : 				else if ( lpObj->Level < 68 )

  00e68	66 83 f8 44	 cmp	 ax, 68			; 00000044H
  00e6c	7d 07		 jge	 SHORT $LN160@gEventMons

; 4540 : 					level = 4;

  00e6e	bf 04 00 00 00	 mov	 edi, 4
  00e73	eb 25		 jmp	 SHORT $LN311@gEventMons
$LN160@gEventMons:

; 4541 : 				else if ( lpObj->Level < 76 )

  00e75	66 83 f8 4c	 cmp	 ax, 76			; 0000004cH
  00e79	7d 07		 jge	 SHORT $LN162@gEventMons

; 4542 : 					level = 5;

  00e7b	bf 05 00 00 00	 mov	 edi, 5
  00e80	eb 18		 jmp	 SHORT $LN311@gEventMons
$LN162@gEventMons:

; 4543 : 				else if ( lpObj->Level < 84 )

  00e82	66 83 f8 54	 cmp	 ax, 84			; 00000054H
  00e86	7d 07		 jge	 SHORT $LN164@gEventMons

; 4544 : 					level = 6;

  00e88	bf 06 00 00 00	 mov	 edi, 6
  00e8d	eb 0b		 jmp	 SHORT $LN311@gEventMons
$LN164@gEventMons:

; 4545 : 				else if ( lpObj->Level < 90 )

  00e8f	66 83 f8 5a	 cmp	 ax, 90			; 0000005aH
  00e93	7d 23		 jge	 SHORT $LN169@gEventMons

; 4546 : 					level = 7;

  00e95	bf 07 00 00 00	 mov	 edi, 7
$LN311@gEventMons:

; 4547 : 				else
; 4548 : 					level = 8;
; 4549 : 
; 4550 : 				if( level != 8 )
; 4551 : 				{
; 4552 : 					type = ItemGetNumberMake(13,17);

  00e9a	6a 11		 push	 17			; 00000011H
  00e9c	6a 0d		 push	 13			; 0000000dH
  00e9e	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00ea3	8b d8		 mov	 ebx, eax
  00ea5	83 c4 08	 add	 esp, 8

; 4553 : 					int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4554 : 
; 4555 : 					if( ItemAttribute[type].MondownFlag != 0 )

  00ea8	6b cb 70	 imul	 ecx, ebx, 112
  00eab	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00eb2	0f 85 2a ff ff
	ff		 jne	 $LN385@gEventMons
$LN169@gEventMons:

; 4556 : 					{
; 4557 : 						ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4558 : 							Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4559 : 						return TRUE;
; 4560 : 					}
; 4561 : 				}
; 4562 : 			}
; 4563 : 		}
; 4564 : 	}
; 4565 : 
; 4566 : 	if ( (rand()%10000) < g_iDarkLordHeartDropRate )

  00eb8	e8 00 00 00 00	 call	 _rand
  00ebd	99		 cdq
  00ebe	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  00ec3	f7 fb		 idiv	 ebx
  00ec5	8b 7d 0c	 mov	 edi, DWORD PTR _lpTargetObj$[ebp]
  00ec8	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iDarkLordHeartDropRate@@3HA ; g_iDarkLordHeartDropRate
  00ece	7d 56		 jge	 SHORT $LN173@gEventMons

; 4567 : 	{
; 4568 : 		int iDropRate = 0;
; 4569 : 
; 4570 : 		if ( lpTargetObj->MapNumber == 0 || lpTargetObj->MapNumber == 3 || lpTargetObj->MapNumber == 2 )

  00ed0	8a 87 23 01 00
	00		 mov	 al, BYTE PTR [edi+291]
  00ed6	84 c0		 test	 al, al
  00ed8	74 08		 je	 SHORT $LN172@gEventMons
  00eda	3c 03		 cmp	 al, 3
  00edc	74 04		 je	 SHORT $LN172@gEventMons
  00ede	3c 02		 cmp	 al, 2
  00ee0	75 44		 jne	 SHORT $LN173@gEventMons
$LN172@gEventMons:

; 4571 : 		{
; 4572 : 			type = ItemGetNumberMake(14,11);

  00ee2	6a 0b		 push	 11			; 0000000bH
  00ee4	6a 0e		 push	 14			; 0000000eH
  00ee6	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00eeb	8b d8		 mov	 ebx, eax

; 4573 : 			level = 13;
; 4574 : 			x = lpObj->X;
; 4575 : 			y = lpObj->Y;
; 4576 : 			dur = 0;

  00eed	c6 45 fc 00	 mov	 BYTE PTR _dur$[ebp], 0

; 4577 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4578 : 
; 4579 : 			if( ItemAttribute[type].MondownFlag != 0 )

  00ef1	6b cb 70	 imul	 ecx, ebx, 112
  00ef4	83 c4 08	 add	 esp, 8
  00ef7	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00efe	74 21		 je	 SHORT $LN356@gEventMons

; 4580 : 			{
; 4581 : 				ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  00f00	6a 00		 push	 0
  00f02	6a 00		 push	 0
  00f04	6a 00		 push	 0
  00f06	6a 00		 push	 0
  00f08	56		 push	 esi
  00f09	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00f0e	83 c4 04	 add	 esp, 4
  00f11	50		 push	 eax
  00f12	6a 00		 push	 0
  00f14	6a 00		 push	 0
  00f16	6a 00		 push	 0
  00f18	6a 00		 push	 0
  00f1a	6a 0d		 push	 13			; 0000000dH

; 4582 : 					Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4583 : 
; 4584 : 				return TRUE;

  00f1c	e9 22 f2 ff ff	 jmp	 $LN376@gEventMons
$LN356@gEventMons:
  00f21	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN173@gEventMons:

; 4585 : 			}
; 4586 : 		}
; 4587 : 	}
; 4588 : 
; 4589 : 	if ( g_bRibbonBoxEvent )

  00f26	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bRibbonBoxEvent@@3HA, 0 ; g_bRibbonBoxEvent
  00f2d	0f 84 e7 00 00
	00		 je	 $LN185@gEventMons

; 4590 : 	{
; 4591 : 		if ( lpObj->Level >= g_iRedRibbonBoxDropLevelMin && lpObj->Level <= g_iRedRibbonBoxDropLevelMax )

  00f33	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  00f3a	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iRedRibbonBoxDropLevelMin@@3HA ; g_iRedRibbonBoxDropLevelMin
  00f40	0f 8c 86 00 00
	00		 jl	 $LN175@gEventMons
  00f46	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iRedRibbonBoxDropLevelMax@@3HA ; g_iRedRibbonBoxDropLevelMax
  00f4c	7f 7e		 jg	 SHORT $LN175@gEventMons

; 4592 : 		{
; 4593 : 			if ( (rand()%10000) < g_iRedRibbonBoxDropRate )

  00f4e	e8 00 00 00 00	 call	 _rand
  00f53	99		 cdq
  00f54	f7 fb		 idiv	 ebx
  00f56	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iRedRibbonBoxDropRate@@3HA ; g_iRedRibbonBoxDropRate
  00f5c	0f 8d b8 00 00
	00		 jge	 $LN185@gEventMons

; 4594 : 			{
; 4595 : 				type = ItemGetNumberMake(12,32);

  00f62	6a 20		 push	 32			; 00000020H
$LN386@gEventMons:
  00f64	6a 0c		 push	 12			; 0000000cH
  00f66	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00f6b	8b d8		 mov	 ebx, eax
  00f6d	83 c4 08	 add	 esp, 8

; 4596 : 				level = 0;
; 4597 : 				x = lpObj->X;
; 4598 : 				y = lpObj->Y;
; 4599 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4600 : 
; 4601 : 				if( ItemAttribute[type].MondownFlag != 0 )

  00f70	6b cb 70	 imul	 ecx, ebx, 112
  00f73	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  00f7a	0f 84 9a 00 00
	00		 je	 $LN185@gEventMons
$LN387@gEventMons:

; 4602 : 				{
; 4603 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpTargetObj->MapNumber, x, y, type, level, dur,

  00f80	6a 00		 push	 0
  00f82	6a 00		 push	 0
  00f84	6a 00		 push	 0
  00f86	6a 00		 push	 0
  00f88	56		 push	 esi
  00f89	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00f8e	83 c4 04	 add	 esp, 4
  00f91	50		 push	 eax
  00f92	6a 00		 push	 0
  00f94	6a 00		 push	 0
  00f96	6a 00		 push	 0
  00f98	ff 75 fc	 push	 DWORD PTR _dur$[ebp]
  00f9b	6a 00		 push	 0
$LN388@gEventMons:
  00f9d	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  00fa4	53		 push	 ebx
  00fa5	50		 push	 eax
  00fa6	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  00fad	50		 push	 eax
  00fae	0f b6 87 23 01
	00 00		 movzx	 eax, BYTE PTR [edi+291]
$LN389@gEventMons:
  00fb5	50		 push	 eax
  00fb6	ff 37		 push	 DWORD PTR [edi]
  00fb8	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  00fbd	83 c4 3c	 add	 esp, 60			; 0000003cH
  00fc0	b8 01 00 00 00	 mov	 eax, 1
  00fc5	5f		 pop	 edi
  00fc6	5e		 pop	 esi
  00fc7	5b		 pop	 ebx

; 5066 : }

  00fc8	8b e5		 mov	 esp, ebp
  00fca	5d		 pop	 ebp
  00fcb	c3		 ret	 0
$LN175@gEventMons:

; 4604 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4605 : 
; 4606 : 					return TRUE;
; 4607 : 				}
; 4608 : 			}
; 4609 : 		}
; 4610 : 		else if ( lpObj->Level >= g_iGreenRibbonBoxDropLevelMin && lpObj->Level <= g_iGreenRibbonBoxDropLevelMax )

  00fcc	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iGreenRibbonBoxDropLevelMin@@3HA ; g_iGreenRibbonBoxDropLevelMin
  00fd2	7c 1f		 jl	 SHORT $LN179@gEventMons
  00fd4	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iGreenRibbonBoxDropLevelMax@@3HA ; g_iGreenRibbonBoxDropLevelMax
  00fda	7f 17		 jg	 SHORT $LN179@gEventMons

; 4611 : 		{
; 4612 : 			if ( (rand()%10000) < g_iGreenRibbonBoxDropRate )

  00fdc	e8 00 00 00 00	 call	 _rand
  00fe1	99		 cdq
  00fe2	f7 fb		 idiv	 ebx
  00fe4	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iGreenRibbonBoxDropRate@@3HA ; g_iGreenRibbonBoxDropRate
  00fea	7d 2e		 jge	 SHORT $LN185@gEventMons

; 4613 : 			{
; 4614 : 				type = ItemGetNumberMake(12,33);

  00fec	6a 21		 push	 33			; 00000021H

; 4615 : 				level = 0;
; 4616 : 				x = lpObj->X;
; 4617 : 				y = lpObj->Y;
; 4618 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4619 : 
; 4620 : 				if( ItemAttribute[type].MondownFlag != 0 )
; 4621 : 				{
; 4622 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpTargetObj->MapNumber, x, y, type, level, dur,
; 4623 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4624 : 
; 4625 : 					return TRUE;

  00fee	e9 71 ff ff ff	 jmp	 $LN386@gEventMons
$LN179@gEventMons:

; 4626 : 				}
; 4627 : 			}
; 4628 : 		}
; 4629 : 		else if ( lpObj->Level >= g_iBlueRibbonBoxDropLevelMin && lpObj->Level <= g_iBlueRibbonBoxDropLevelMax )

  00ff3	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iBlueRibbonBoxDropLevelMin@@3HA ; g_iBlueRibbonBoxDropLevelMin
  00ff9	7c 1f		 jl	 SHORT $LN185@gEventMons
  00ffb	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iBlueRibbonBoxDropLevelMax@@3HA ; g_iBlueRibbonBoxDropLevelMax
  01001	7f 17		 jg	 SHORT $LN185@gEventMons

; 4630 : 		{
; 4631 : 			if ( (rand()%10000) < g_iBlueRibbonBoxDropRate )

  01003	e8 00 00 00 00	 call	 _rand
  01008	99		 cdq
  01009	f7 fb		 idiv	 ebx
  0100b	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iBlueRibbonBoxDropRate@@3HA ; g_iBlueRibbonBoxDropRate
  01011	7d 07		 jge	 SHORT $LN185@gEventMons

; 4632 : 			{
; 4633 : 				type = ItemGetNumberMake(12,34);

  01013	6a 22		 push	 34			; 00000022H

; 4634 : 				level = 0;
; 4635 : 				x = lpObj->X;
; 4636 : 				y = lpObj->Y;
; 4637 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4638 : 
; 4639 : 				if( ItemAttribute[type].MondownFlag != 0 )
; 4640 : 				{
; 4641 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpTargetObj->MapNumber, x, y, type, level, dur,
; 4642 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4643 : 
; 4644 : 					return TRUE;

  01015	e9 4a ff ff ff	 jmp	 $LN386@gEventMons
$LN185@gEventMons:

; 4645 : 				}
; 4646 : 			}
; 4647 : 		}
; 4648 : 	}
; 4649 : 
; 4650 : 	if ( g_bChocolateBoxEvent )

  0101a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bChocolateBoxEvent@@3HA, 0 ; g_bChocolateBoxEvent
  01021	74 52		 je	 SHORT $LN362@gEventMons

; 4651 : 	{
; 4652 : 		if ( lpObj->Level >= g_iPinkChocolateBoxDropLevelMin && lpObj->Level <= g_iPinkChocolateBoxDropLevelMax )

  01023	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  0102a	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iPinkChocolateBoxDropLevelMin@@3HA ; g_iPinkChocolateBoxDropLevelMin
  01030	0f 8c c4 00 00
	00		 jl	 $LN187@gEventMons
  01036	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iPinkChocolateBoxDropLevelMax@@3HA ; g_iPinkChocolateBoxDropLevelMax
  0103c	0f 8f b8 00 00
	00		 jg	 $LN187@gEventMons

; 4653 : 		{
; 4654 : 			if ( (rand()%10000) < g_iPinkChocolateBoxDropRate )

  01042	e8 00 00 00 00	 call	 _rand
  01047	99		 cdq
  01048	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  0104d	f7 fb		 idiv	 ebx
  0104f	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iPinkChocolateBoxDropRate@@3HA ; g_iPinkChocolateBoxDropRate
  01055	7d 23		 jge	 SHORT $LN197@gEventMons

; 4655 : 			{
; 4656 : 				type = ItemGetNumberMake(14,32);

  01057	6a 20		 push	 32			; 00000020H
$LN390@gEventMons:
  01059	6a 0e		 push	 14			; 0000000eH
  0105b	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  01060	8b d8		 mov	 ebx, eax
  01062	83 c4 08	 add	 esp, 8

; 4657 : 				level = 0;
; 4658 : 				x = lpObj->X;
; 4659 : 				y = lpObj->Y;
; 4660 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4661 : 
; 4662 : 				if( ItemAttribute[type].MondownFlag != 0 )

  01065	6b cb 70	 imul	 ecx, ebx, 112
  01068	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  0106f	0f 85 0b ff ff
	ff		 jne	 $LN387@gEventMons
$LN362@gEventMons:
  01075	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN197@gEventMons:

; 4706 : 				}
; 4707 : 			}
; 4708 : 		}
; 4709 : 	}
; 4710 : 
; 4711 : 	if ( g_bCandyBoxEvent )

  0107a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bCandyBoxEvent@@3HA, 0 ; g_bCandyBoxEvent
  01081	0f 84 29 01 00
	00		 je	 $LN209@gEventMons

; 4712 : 	{
; 4713 : 		if ( lpObj->Level >= g_iLightPurpleCandyBoxDropLevelMin && lpObj->Level <= g_iLightPurpleCandyBoxDropLevelMax )

  01087	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  0108e	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iLightPurpleCandyBoxDropLevelMin@@3HA ; g_iLightPurpleCandyBoxDropLevelMin
  01094	0f 8c c8 00 00
	00		 jl	 $LN199@gEventMons
  0109a	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iLightPurpleCandyBoxDropLevelMax@@3HA ; g_iLightPurpleCandyBoxDropLevelMax
  010a0	0f 8f bc 00 00
	00		 jg	 $LN199@gEventMons

; 4714 : 		{
; 4715 : 			if ( (rand()%10000) < g_iLightPurpleCandyBoxDropRate )

  010a6	e8 00 00 00 00	 call	 _rand
  010ab	99		 cdq
  010ac	f7 fb		 idiv	 ebx
  010ae	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iLightPurpleCandyBoxDropRate@@3HA ; g_iLightPurpleCandyBoxDropRate
  010b4	0f 8d f6 00 00
	00		 jge	 $LN209@gEventMons

; 4716 : 			{
; 4717 : 				type = ItemGetNumberMake(14,32);

  010ba	6a 20		 push	 32			; 00000020H
$LN391@gEventMons:
  010bc	6a 0e		 push	 14			; 0000000eH
  010be	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  010c3	8b d8		 mov	 ebx, eax
  010c5	83 c4 08	 add	 esp, 8

; 4718 : 				level = 1;
; 4719 : 				x = lpObj->X;
; 4720 : 				y = lpObj->Y;
; 4721 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4722 : 
; 4723 : 				if( ItemAttribute[type].MondownFlag != 0 )

  010c8	6b cb 70	 imul	 ecx, ebx, 112
  010cb	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  010d2	0f 84 d8 00 00
	00		 je	 $LN209@gEventMons

; 4724 : 				{
; 4725 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpTargetObj->MapNumber, x, y, type, level, dur,

  010d8	6a 00		 push	 0
  010da	6a 00		 push	 0
  010dc	6a 00		 push	 0
  010de	6a 00		 push	 0
  010e0	56		 push	 esi
  010e1	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  010e6	83 c4 04	 add	 esp, 4
  010e9	50		 push	 eax
  010ea	6a 00		 push	 0
  010ec	6a 00		 push	 0
  010ee	6a 00		 push	 0
  010f0	ff 75 fc	 push	 DWORD PTR _dur$[ebp]
  010f3	6a 01		 push	 1

; 4726 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4727 : 
; 4728 : 					return TRUE;

  010f5	e9 a3 fe ff ff	 jmp	 $LN388@gEventMons
$LN187@gEventMons:

; 4663 : 				{
; 4664 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpTargetObj->MapNumber, x, y, type, level, dur,
; 4665 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4666 : 
; 4667 : 					return TRUE;
; 4668 : 				}
; 4669 : 			}
; 4670 : 		}
; 4671 : 		else if ( lpObj->Level >= g_iRedChocolateBoxDropLevelMin && lpObj->Level <= g_iRedChocolateBoxDropLevelMax )

  010fa	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iRedChocolateBoxDropLevelMin@@3HA ; g_iRedChocolateBoxDropLevelMin
  01100	7c 28		 jl	 SHORT $LN191@gEventMons
  01102	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iRedChocolateBoxDropLevelMax@@3HA ; g_iRedChocolateBoxDropLevelMax
  01108	7f 20		 jg	 SHORT $LN191@gEventMons

; 4672 : 		{
; 4673 : 			if ( (rand()%10000) < g_iRedChocolateBoxDropRate )

  0110a	e8 00 00 00 00	 call	 _rand
  0110f	99		 cdq
  01110	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  01115	f7 fb		 idiv	 ebx
  01117	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iRedChocolateBoxDropRate@@3HA ; g_iRedChocolateBoxDropRate
  0111d	0f 8d 57 ff ff
	ff		 jge	 $LN197@gEventMons

; 4674 : 			{
; 4675 : 				type = ItemGetNumberMake(14,33);

  01123	6a 21		 push	 33			; 00000021H

; 4676 : 				level = 0;
; 4677 : 				x = lpObj->X;
; 4678 : 				y = lpObj->Y;
; 4679 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4680 : 
; 4681 : 				if( ItemAttribute[type].MondownFlag != 0 )
; 4682 : 				{
; 4683 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpTargetObj->MapNumber, x, y, type, level, dur,
; 4684 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4685 : 
; 4686 : 					return TRUE;

  01125	e9 2f ff ff ff	 jmp	 $LN390@gEventMons
$LN191@gEventMons:

; 4687 : 				}
; 4688 : 			}
; 4689 : 		}
; 4690 : 		else if ( lpObj->Level >= g_iBlueChocolateBoxDropLevelMin && lpObj->Level <= g_iBlueChocolateBoxDropLevelMax )

  0112a	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iBlueChocolateBoxDropLevelMin@@3HA ; g_iBlueChocolateBoxDropLevelMin
  01130	0f 8c 3f ff ff
	ff		 jl	 $LN362@gEventMons
  01136	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iBlueChocolateBoxDropLevelMax@@3HA ; g_iBlueChocolateBoxDropLevelMax
  0113c	0f 8f 33 ff ff
	ff		 jg	 $LN362@gEventMons

; 4691 : 		{
; 4692 : 			if ( (rand()%10000) < g_iBlueChocolateBoxDropRate )

  01142	e8 00 00 00 00	 call	 _rand
  01147	99		 cdq
  01148	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  0114d	f7 fb		 idiv	 ebx
  0114f	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iBlueChocolateBoxDropRate@@3HA ; g_iBlueChocolateBoxDropRate
  01155	0f 8d 1f ff ff
	ff		 jge	 $LN197@gEventMons

; 4693 : 			{
; 4694 : 				type = ItemGetNumberMake(14,34);

  0115b	6a 22		 push	 34			; 00000022H

; 4695 : 				level = 0;
; 4696 : 				x = lpObj->X;
; 4697 : 				y = lpObj->Y;
; 4698 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4699 : 
; 4700 : 				if( ItemAttribute[type].MondownFlag != 0 )
; 4701 : 				{
; 4702 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpTargetObj->MapNumber, x, y, type, level, dur,
; 4703 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4704 : 
; 4705 : 					return TRUE;

  0115d	e9 f7 fe ff ff	 jmp	 $LN390@gEventMons
$LN199@gEventMons:

; 4729 : 				}
; 4730 : 			}
; 4731 : 		}
; 4732 : 		else if ( lpObj->Level >= g_iVermilionCandyBoxDropLevelMin && lpObj->Level <= g_iVermilionCandyBoxDropLevelMax )

  01162	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iVermilionCandyBoxDropLevelMin@@3HA ; g_iVermilionCandyBoxDropLevelMin
  01168	7c 1f		 jl	 SHORT $LN203@gEventMons
  0116a	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iVermilionCandyBoxDropLevelMax@@3HA ; g_iVermilionCandyBoxDropLevelMax
  01170	7f 17		 jg	 SHORT $LN203@gEventMons

; 4733 : 		{
; 4734 : 			if ( (rand()%10000) < g_iVermilionCandyBoxDropRate )

  01172	e8 00 00 00 00	 call	 _rand
  01177	99		 cdq
  01178	f7 fb		 idiv	 ebx
  0117a	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iVermilionCandyBoxDropRate@@3HA ; g_iVermilionCandyBoxDropRate
  01180	7d 2e		 jge	 SHORT $LN209@gEventMons

; 4735 : 			{
; 4736 : 				type = ItemGetNumberMake(14,33);

  01182	6a 21		 push	 33			; 00000021H

; 4737 : 				level = 1;
; 4738 : 				x = lpObj->X;
; 4739 : 				y = lpObj->Y;
; 4740 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4741 : 
; 4742 : 				if( ItemAttribute[type].MondownFlag != 0 )
; 4743 : 				{
; 4744 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpTargetObj->MapNumber, x, y, type, level, dur,
; 4745 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4746 : 
; 4747 : 					return TRUE;

  01184	e9 33 ff ff ff	 jmp	 $LN391@gEventMons
$LN203@gEventMons:

; 4748 : 				}
; 4749 : 			}
; 4750 : 		}
; 4751 : 		else if ( lpObj->Level >= g_iDeepBlueCandyBoxDropLevelMin && lpObj->Level <= g_iDeepBlueCandyBoxDropLevelMax )

  01189	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iDeepBlueCandyBoxDropLevelMin@@3HA ; g_iDeepBlueCandyBoxDropLevelMin
  0118f	7c 1f		 jl	 SHORT $LN209@gEventMons
  01191	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_iDeepBlueCandyBoxDropLevelMax@@3HA ; g_iDeepBlueCandyBoxDropLevelMax
  01197	7f 17		 jg	 SHORT $LN209@gEventMons

; 4752 : 		{
; 4753 : 			if ( (rand()%10000) < g_iDeepBlueCandyBoxDropRate )

  01199	e8 00 00 00 00	 call	 _rand
  0119e	99		 cdq
  0119f	f7 fb		 idiv	 ebx
  011a1	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iDeepBlueCandyBoxDropRate@@3HA ; g_iDeepBlueCandyBoxDropRate
  011a7	7d 07		 jge	 SHORT $LN209@gEventMons

; 4754 : 			{
; 4755 : 				type = ItemGetNumberMake(14,34);

  011a9	6a 22		 push	 34			; 00000022H

; 4756 : 				level = 1;
; 4757 : 				x = lpObj->X;
; 4758 : 				y = lpObj->Y;
; 4759 : 				int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4760 : 
; 4761 : 				if( ItemAttribute[type].MondownFlag != 0 )
; 4762 : 				{
; 4763 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpTargetObj->MapNumber, x, y, type, level, dur,
; 4764 : 						Option1,Option2,Option3, MaxHitUser, 0, 0);
; 4765 : 
; 4766 : 					return TRUE;

  011ab	e9 0c ff ff ff	 jmp	 $LN391@gEventMons
$LN209@gEventMons:

; 4767 : 				}
; 4768 : 			}
; 4769 : 		}
; 4770 : 	}
; 4771 : 
; 4772 : 	if ( g_bHallowinDayEventOn )

  011b0	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bHallowinDayEventOn@@3HA, 0 ; g_bHallowinDayEventOn
  011b7	0f 84 bb 00 00
	00		 je	 $LN338@gEventMons

; 4773 : 	{
; 4774 : 		bool bIsBossMonster = false;
; 4775 : 
; 4776 : 		if ( lpObj->m_Index == 349 || lpObj->m_Index == 364 || lpObj->m_Index == 361 ||
; 4777 : 			 lpObj->m_Index == 362 || lpObj->m_Index == 363 )

  011bd	8b 06		 mov	 eax, DWORD PTR [esi]
  011bf	3d 5d 01 00 00	 cmp	 eax, 349		; 0000015dH
  011c4	0f 84 ae 00 00
	00		 je	 $LN338@gEventMons
  011ca	3d 6c 01 00 00	 cmp	 eax, 364		; 0000016cH
  011cf	0f 84 a3 00 00
	00		 je	 $LN338@gEventMons
  011d5	3d 69 01 00 00	 cmp	 eax, 361		; 00000169H
  011da	0f 84 98 00 00
	00		 je	 $LN338@gEventMons
  011e0	3d 6a 01 00 00	 cmp	 eax, 362		; 0000016aH
  011e5	0f 84 8d 00 00
	00		 je	 $LN338@gEventMons
  011eb	3d 6b 01 00 00	 cmp	 eax, 363		; 0000016bH
  011f0	0f 84 82 00 00
	00		 je	 $LN338@gEventMons

; 4778 : 			bIsBossMonster = true;
; 4779 : 
; 4780 : 		if ( !bIsBossMonster )
; 4781 : 		{
; 4782 : 			if ( (rand()%10000) < g_iHallowinDayEventItemDropRate &&

  011f6	e8 00 00 00 00	 call	 _rand
  011fb	99		 cdq
  011fc	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  01201	f7 fb		 idiv	 ebx
  01203	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iHallowinDayEventItemDropRate@@3HA ; g_iHallowinDayEventItemDropRate
  01209	7d 72		 jge	 SHORT $LN215@gEventMons
  0120b	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  01212	40		 inc	 eax
  01213	50		 push	 eax
  01214	6a 2d		 push	 45			; 0000002dH
  01216	6a 0e		 push	 14			; 0000000eH
  01218	e8 00 00 00 00	 call	 ?zzzItemLevel@@YAHHHH@Z	; zzzItemLevel
  0121d	83 c4 0c	 add	 esp, 12			; 0000000cH
  01220	85 c0		 test	 eax, eax
  01222	74 59		 je	 SHORT $LN215@gEventMons

; 4783 : 				 zzzItemLevel(14,45,lpObj->Level + 1) )
; 4784 : 			{
; 4785 : 				type = ItemGetNumberMake(14,45);

  01224	6a 2d		 push	 45			; 0000002dH
  01226	6a 0e		 push	 14			; 0000000eH
  01228	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0122d	8b d8		 mov	 ebx, eax
  0122f	83 c4 08	 add	 esp, 8

; 4786 : 				level = 0;
; 4787 : 				x = lpObj->X;
; 4788 : 				y = lpObj->Y;
; 4789 : 				int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4790 : 	
; 4791 : 				if( ItemAttribute[type].MondownFlag != 0 )

  01232	6b cb 70	 imul	 ecx, ebx, 112
  01235	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  0123c	74 3a		 je	 SHORT $LN338@gEventMons
$LN392@gEventMons:

; 4792 : 				{
; 4793 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  0123e	6a 00		 push	 0
  01240	6a 00		 push	 0
  01242	6a 00		 push	 0
  01244	6a 00		 push	 0
  01246	56		 push	 esi
  01247	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  0124c	83 c4 04	 add	 esp, 4
  0124f	50		 push	 eax
  01250	6a 00		 push	 0
  01252	6a 00		 push	 0
  01254	6a 00		 push	 0
  01256	ff 75 fc	 push	 DWORD PTR _dur$[ebp]
$LN393@gEventMons:
  01259	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  01260	6a 00		 push	 0
  01262	53		 push	 ebx
  01263	50		 push	 eax
  01264	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  0126b	50		 push	 eax
  0126c	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]

; 4794 : 						Option1,Option2,Option3, iMaxHitUser, 0, 0);
; 4795 : 					return TRUE;

  01273	e9 3d fd ff ff	 jmp	 $LN389@gEventMons
$LN338@gEventMons:
  01278	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN215@gEventMons:

; 4796 : 				}
; 4797 : 			}
; 4798 : 		}
; 4799 : 	}
; 4800 : 
; 4801 : 	if ( g_bSantaRingDrop )

  0127d	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bSantaRingDrop@@3HA, 0 ; g_bSantaRingDrop
  01284	0f 84 9a 00 00
	00		 je	 $LN221@gEventMons

; 4802 : 	{
; 4803 : 		bool bIsBossMonster = false;
; 4804 : 
; 4805 : 		if ( lpObj->m_Index == 349 || lpObj->m_Index == 364 || lpObj->m_Index == 361 ||
; 4806 : 			 lpObj->m_Index == 362 || lpObj->m_Index == 363 )

  0128a	8b 06		 mov	 eax, DWORD PTR [esi]
  0128c	3d 5d 01 00 00	 cmp	 eax, 349		; 0000015dH
  01291	0f 84 8d 00 00
	00		 je	 $LN221@gEventMons
  01297	3d 6c 01 00 00	 cmp	 eax, 364		; 0000016cH
  0129c	0f 84 82 00 00
	00		 je	 $LN221@gEventMons
  012a2	3d 69 01 00 00	 cmp	 eax, 361		; 00000169H
  012a7	74 7b		 je	 SHORT $LN221@gEventMons
  012a9	3d 6a 01 00 00	 cmp	 eax, 362		; 0000016aH
  012ae	74 74		 je	 SHORT $LN221@gEventMons
  012b0	3d 6b 01 00 00	 cmp	 eax, 363		; 0000016bH
  012b5	74 6d		 je	 SHORT $LN221@gEventMons

; 4807 : 			bIsBossMonster = true;
; 4808 : 
; 4809 : 		if ( !bIsBossMonster )
; 4810 : 		{
; 4811 : 			if ( (rand()%10000) < g_iSantaRingDropRate )

  012b7	e8 00 00 00 00	 call	 _rand
  012bc	99		 cdq
  012bd	f7 fb		 idiv	 ebx
  012bf	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iSantaRingDropRate@@3HA ; g_iSantaRingDropRate
  012c5	7d 5d		 jge	 SHORT $LN221@gEventMons

; 4812 : 			{
; 4813 : 				type = ItemGetNumberMake(13,41);

  012c7	6a 29		 push	 41			; 00000029H
  012c9	6a 0d		 push	 13			; 0000000dH
  012cb	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  012d0	8b d8		 mov	 ebx, eax

; 4814 : 				level = 0;
; 4815 : 				dur = 100;

  012d2	c6 45 fc 64	 mov	 BYTE PTR _dur$[ebp], 100 ; 00000064H

; 4816 : 				x = lpObj->X;
; 4817 : 				y = lpObj->Y;
; 4818 : 				int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4819 : 	
; 4820 : 				if( ItemAttribute[type].MondownFlag != 0 )

  012d6	6b cb 70	 imul	 ecx, ebx, 112
  012d9	83 c4 08	 add	 esp, 8
  012dc	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  012e3	74 3f		 je	 SHORT $LN221@gEventMons

; 4821 : 				{
; 4822 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  012e5	6a 00		 push	 0
  012e7	6a 00		 push	 0
  012e9	6a 00		 push	 0
  012eb	6a 00		 push	 0
  012ed	56		 push	 esi
  012ee	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  012f3	83 c4 04	 add	 esp, 4
  012f6	50		 push	 eax
  012f7	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  012fe	6a 00		 push	 0
  01300	6a 00		 push	 0
  01302	6a 00		 push	 0
  01304	6a 64		 push	 100			; 00000064H
  01306	6a 00		 push	 0
  01308	53		 push	 ebx
  01309	50		 push	 eax
  0130a	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  01311	50		 push	 eax
  01312	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  01319	50		 push	 eax
  0131a	ff 37		 push	 DWORD PTR [edi]
  0131c	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  01321	83 c4 3c	 add	 esp, 60			; 0000003cH
$LN221@gEventMons:

; 4823 : 						Option1,Option2,Option3, iMaxHitUser, 0, 0);
; 4824 : 				}
; 4825 : 			}
; 4826 : 		}
; 4827 : 	}
; 4828 : 
; 4829 : 	if( g_bIllusionTemple )

  01324	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bIllusionTemple@@3HA, 0 ; g_bIllusionTemple
  0132b	0f 84 c3 01 00
	00		 je	 $LN341@gEventMons

; 4830 : 	{
; 4831 : 		if( IT_MAP_RANGE(lpObj->MapNumber) == FALSE )

  01331	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  01337	3c 2d		 cmp	 al, 45			; 0000002dH
  01339	72 0f		 jb	 SHORT $LN314@gEventMons
  0133b	b1 32		 mov	 cl, 50			; 00000032H
  0133d	3a c8		 cmp	 cl, al
  0133f	1b c0		 sbb	 eax, eax
  01341	83 c0 01	 add	 eax, 1
  01344	0f 85 aa 01 00
	00		 jne	 $LN341@gEventMons
$LN314@gEventMons:

; 4832 : 		{
; 4833 : 			Option1 = 0;
; 4834 : 			Option2 = 0;
; 4835 : 			Option3 = 0;
; 4836 : 
; 4837 : 			if( rand() %10000 < g_OldScrollDropRate )

  0134a	e8 00 00 00 00	 call	 _rand
  0134f	99		 cdq
  01350	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  01355	f7 fb		 idiv	 ebx
  01357	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_OldScrollDropRate@@3HA ; g_OldScrollDropRate
  0135d	0f 8d c1 00 00
	00		 jge	 $LN239@gEventMons

; 4838 : 			{
; 4839 : 				dur = 0;
; 4840 : 				x = lpObj->X;

  01363	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  0136a	89 45 f0	 mov	 DWORD PTR _x$17$[ebp], eax

; 4841 : 				y = lpObj->Y;

  0136d	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  01374	89 45 f8	 mov	 DWORD PTR _y$17$[ebp], eax

; 4842 : 
; 4843 : 				if( lpObj->Level >= 66 )

  01377	0f b7 86 96 00
	00 00		 movzx	 eax, WORD PTR [esi+150]
  0137e	c6 45 fc 00	 mov	 BYTE PTR _dur$[ebp], 0
  01382	66 83 f8 42	 cmp	 ax, 66			; 00000042H
  01386	0f 8c 98 00 00
	00		 jl	 $LN239@gEventMons

; 4844 : 				{
; 4845 : 					if( lpObj->Level < 72 )

  0138c	66 83 f8 48	 cmp	 ax, 72			; 00000048H
  01390	7d 07		 jge	 SHORT $LN226@gEventMons

; 4846 : 						level = 1;

  01392	bb 01 00 00 00	 mov	 ebx, 1
  01397	eb 3b		 jmp	 SHORT $LN315@gEventMons
$LN226@gEventMons:

; 4847 : 					else if( lpObj->Level < 78 )

  01399	66 83 f8 4e	 cmp	 ax, 78			; 0000004eH
  0139d	7d 07		 jge	 SHORT $LN228@gEventMons

; 4848 : 						level = 2;

  0139f	bb 02 00 00 00	 mov	 ebx, 2
  013a4	eb 2e		 jmp	 SHORT $LN315@gEventMons
$LN228@gEventMons:

; 4849 : 					else if( lpObj->Level < 84 )

  013a6	66 83 f8 54	 cmp	 ax, 84			; 00000054H
  013aa	7d 07		 jge	 SHORT $LN230@gEventMons

; 4850 : 						level = 3;

  013ac	bb 03 00 00 00	 mov	 ebx, 3
  013b1	eb 21		 jmp	 SHORT $LN315@gEventMons
$LN230@gEventMons:

; 4851 : 					else if( lpObj->Level < 90 )

  013b3	66 83 f8 5a	 cmp	 ax, 90			; 0000005aH
  013b7	7d 07		 jge	 SHORT $LN232@gEventMons

; 4852 : 						level = 4;

  013b9	bb 04 00 00 00	 mov	 ebx, 4
  013be	eb 14		 jmp	 SHORT $LN315@gEventMons
$LN232@gEventMons:

; 4853 : 					else if( lpObj->Level < 96 )

  013c0	66 83 f8 60	 cmp	 ax, 96			; 00000060H
  013c4	7c 09		 jl	 SHORT $LN371@gEventMons

; 4854 : 						level = 5;
; 4855 : 					else
; 4856 : 						if( g_bMaxLevelIllusion )

  013c6	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bMaxLevelIllusion@@3HA, 0 ; g_bMaxLevelIllusion
  013cd	75 55		 jne	 SHORT $LN239@gEventMons
$LN371@gEventMons:

; 4857 : 							level = 6;
; 4858 : 						else
; 4859 : 							level = 5;

  013cf	bb 05 00 00 00	 mov	 ebx, 5
$LN315@gEventMons:

; 4860 : 
; 4861 : 					if( level != 6 )
; 4862 : 					{
; 4863 : 						type = ItemGetNumberMake(13,49);

  013d4	6a 31		 push	 49			; 00000031H
  013d6	6a 0d		 push	 13			; 0000000dH
  013d8	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 4864 : 
; 4865 : 						int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4866 : 	
; 4867 : 						if( ItemAttribute[type].MondownFlag != 0 )

  013dd	6b c8 70	 imul	 ecx, eax, 112
  013e0	83 c4 08	 add	 esp, 8
  013e3	89 45 f4	 mov	 DWORD PTR _type$38$[ebp], eax
  013e6	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  013ed	74 30		 je	 SHORT $LN342@gEventMons

; 4868 : 						{
; 4869 : 							ItemSerialCreateSend(lpTargetObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  013ef	6a 00		 push	 0
  013f1	6a 00		 push	 0
  013f3	6a 00		 push	 0
  013f5	6a 00		 push	 0
  013f7	56		 push	 esi
  013f8	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  013fd	83 c4 04	 add	 esp, 4
  01400	50		 push	 eax
  01401	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  01408	6a 00		 push	 0
  0140a	6a 00		 push	 0
  0140c	6a 00		 push	 0
  0140e	6a 00		 push	 0
  01410	53		 push	 ebx
  01411	ff 75 f4	 push	 DWORD PTR _type$38$[ebp]
  01414	ff 75 f8	 push	 DWORD PTR _y$17$[ebp]
  01417	ff 75 f0	 push	 DWORD PTR _x$17$[ebp]

; 4870 : 								Option1,Option2,Option3, iMaxHitUser, 0, 0);
; 4871 : 							return TRUE;

  0141a	e9 96 fb ff ff	 jmp	 $LN389@gEventMons
$LN342@gEventMons:
  0141f	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN239@gEventMons:

; 4872 : 						}
; 4873 : 					}
; 4874 : 				}
; 4875 : 			}
; 4876 : 
; 4877 : 			if( rand() %10000 < g_CovenantDropRate )

  01424	e8 00 00 00 00	 call	 _rand
  01429	99		 cdq
  0142a	f7 fb		 idiv	 ebx
  0142c	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_CovenantDropRate@@3HA ; g_CovenantDropRate
  01432	0f 8d c1 00 00
	00		 jge	 $LN255@gEventMons

; 4878 : 			{
; 4879 : 				dur = 0;
; 4880 : 				x = lpObj->X;

  01438	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  0143f	89 45 f8	 mov	 DWORD PTR _x$18$[ebp], eax

; 4881 : 				y = lpObj->Y;

  01442	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  01449	89 45 f4	 mov	 DWORD PTR _y$18$[ebp], eax

; 4882 : 
; 4883 : 				if( lpObj->Level >= 70 )

  0144c	0f b7 86 96 00
	00 00		 movzx	 eax, WORD PTR [esi+150]
  01453	c6 45 fc 00	 mov	 BYTE PTR _dur$[ebp], 0
  01457	66 83 f8 46	 cmp	 ax, 70			; 00000046H
  0145b	0f 8c 98 00 00
	00		 jl	 $LN255@gEventMons

; 4884 : 				{
; 4885 : 					if( lpObj->Level < 76 )

  01461	66 83 f8 4c	 cmp	 ax, 76			; 0000004cH
  01465	7d 07		 jge	 SHORT $LN242@gEventMons

; 4886 : 						level = 1;

  01467	bb 01 00 00 00	 mov	 ebx, 1
  0146c	eb 3b		 jmp	 SHORT $LN316@gEventMons
$LN242@gEventMons:

; 4887 : 					else if( lpObj->Level < 82 )

  0146e	66 83 f8 52	 cmp	 ax, 82			; 00000052H
  01472	7d 07		 jge	 SHORT $LN244@gEventMons

; 4888 : 						level = 2;

  01474	bb 02 00 00 00	 mov	 ebx, 2
  01479	eb 2e		 jmp	 SHORT $LN316@gEventMons
$LN244@gEventMons:

; 4889 : 					else if( lpObj->Level < 88 )

  0147b	66 83 f8 58	 cmp	 ax, 88			; 00000058H
  0147f	7d 07		 jge	 SHORT $LN246@gEventMons

; 4890 : 						level = 3;

  01481	bb 03 00 00 00	 mov	 ebx, 3
  01486	eb 21		 jmp	 SHORT $LN316@gEventMons
$LN246@gEventMons:

; 4891 : 					else if( lpObj->Level < 94 )

  01488	66 83 f8 5e	 cmp	 ax, 94			; 0000005eH
  0148c	7d 07		 jge	 SHORT $LN248@gEventMons

; 4892 : 						level = 4;

  0148e	bb 04 00 00 00	 mov	 ebx, 4
  01493	eb 14		 jmp	 SHORT $LN316@gEventMons
$LN248@gEventMons:

; 4893 : 					else if( lpObj->Level < 100 )

  01495	66 83 f8 64	 cmp	 ax, 100			; 00000064H
  01499	7c 09		 jl	 SHORT $LN372@gEventMons

; 4894 : 						level = 5;
; 4895 : 					else
; 4896 : 						if( g_bMaxLevelIllusion )

  0149b	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bMaxLevelIllusion@@3HA, 0 ; g_bMaxLevelIllusion
  014a2	75 55		 jne	 SHORT $LN255@gEventMons
$LN372@gEventMons:

; 4897 : 							level = 6;
; 4898 : 						else
; 4899 : 							level = 5;

  014a4	bb 05 00 00 00	 mov	 ebx, 5
$LN316@gEventMons:

; 4900 : 
; 4901 : 					if( level != 6 )
; 4902 : 					{
; 4903 : 						type = ItemGetNumberMake(13,50);

  014a9	6a 32		 push	 50			; 00000032H
  014ab	6a 0d		 push	 13			; 0000000dH
  014ad	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 4904 : 
; 4905 : 						int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4906 : 	
; 4907 : 						if( ItemAttribute[type].MondownFlag != 0 )

  014b2	6b c8 70	 imul	 ecx, eax, 112
  014b5	83 c4 08	 add	 esp, 8
  014b8	89 45 f0	 mov	 DWORD PTR _type$39$[ebp], eax
  014bb	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  014c2	74 30		 je	 SHORT $LN341@gEventMons

; 4908 : 						{
; 4909 : 							ItemSerialCreateSend(lpTargetObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  014c4	6a 00		 push	 0
  014c6	6a 00		 push	 0
  014c8	6a 00		 push	 0
  014ca	6a 00		 push	 0
  014cc	56		 push	 esi
  014cd	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  014d2	83 c4 04	 add	 esp, 4
  014d5	50		 push	 eax
  014d6	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  014dd	6a 00		 push	 0
  014df	6a 00		 push	 0
  014e1	6a 00		 push	 0
  014e3	6a 00		 push	 0
  014e5	53		 push	 ebx
  014e6	ff 75 f0	 push	 DWORD PTR _type$39$[ebp]
  014e9	ff 75 f4	 push	 DWORD PTR _y$18$[ebp]
  014ec	ff 75 f8	 push	 DWORD PTR _x$18$[ebp]

; 4910 : 								Option1,Option2,Option3, iMaxHitUser, 0, 0);
; 4911 : 							return TRUE;

  014ef	e9 c1 fa ff ff	 jmp	 $LN389@gEventMons
$LN341@gEventMons:
  014f4	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN255@gEventMons:

; 4912 : 						}
; 4913 : 					}
; 4914 : 				}
; 4915 : 			}
; 4916 : 		}
; 4917 : 	}
; 4918 : 
; 4919 : 	if( g_bCherryBlossomEvent )

  014f9	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_bCherryBlossomEvent@@3HA, 0 ; g_bCherryBlossomEvent
  01500	74 53		 je	 SHORT $LN261@gEventMons

; 4920 : 	{
; 4921 : 		bool bIsBossMonster = false;
; 4922 : 
; 4923 : 		if ( lpObj->m_Index == 349 || lpObj->m_Index == 364 || lpObj->m_Index == 361 ||
; 4924 : 			 lpObj->m_Index == 362 || lpObj->m_Index == 363 )

  01502	8b 06		 mov	 eax, DWORD PTR [esi]
  01504	3d 5d 01 00 00	 cmp	 eax, 349		; 0000015dH
  01509	74 4a		 je	 SHORT $LN261@gEventMons
  0150b	3d 6c 01 00 00	 cmp	 eax, 364		; 0000016cH
  01510	74 43		 je	 SHORT $LN261@gEventMons
  01512	3d 69 01 00 00	 cmp	 eax, 361		; 00000169H
  01517	74 3c		 je	 SHORT $LN261@gEventMons
  01519	3d 6a 01 00 00	 cmp	 eax, 362		; 0000016aH
  0151e	74 35		 je	 SHORT $LN261@gEventMons
  01520	3d 6b 01 00 00	 cmp	 eax, 363		; 0000016bH
  01525	74 2e		 je	 SHORT $LN261@gEventMons

; 4925 : 			bIsBossMonster = true;
; 4926 : 
; 4927 : 		if ( !bIsBossMonster )
; 4928 : 		{
; 4929 : 			if ( (rand()%10000) < g_iCherryBlossomDropRate )

  01527	e8 00 00 00 00	 call	 _rand
  0152c	99		 cdq
  0152d	f7 fb		 idiv	 ebx
  0152f	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iCherryBlossomDropRate@@3HA ; g_iCherryBlossomDropRate
  01535	7d 1e		 jge	 SHORT $LN261@gEventMons

; 4930 : 			{
; 4931 : 				type = ItemGetNumberMake(14,84);

  01537	6a 54		 push	 84			; 00000054H
  01539	6a 0e		 push	 14			; 0000000eH
  0153b	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  01540	8b d8		 mov	 ebx, eax
  01542	83 c4 08	 add	 esp, 8

; 4932 : 				level = 0;
; 4933 : 				x = lpObj->X;
; 4934 : 				y = lpObj->Y;
; 4935 : 				int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4936 : 	
; 4937 : 				if( ItemAttribute[type].MondownFlag != 0 )

  01545	6b cb 70	 imul	 ecx, ebx, 112
  01548	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  0154f	0f 85 e9 fc ff
	ff		 jne	 $LN392@gEventMons
$LN261@gEventMons:

; 4938 : 				{
; 4939 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4940 : 						Option1,Option2,Option3, iMaxHitUser, 0, 0);
; 4941 : 					return TRUE;
; 4942 : 				}
; 4943 : 			}
; 4944 : 		}
; 4945 : 	}
; 4946 : 
; 4947 : 	if( g_ImperialGuardian.IsEnableEvent() )

  01555	80 3d 11 00 00
	00 00		 cmp	 BYTE PTR ?g_ImperialGuardian@@3VCImperialGuardian@@A+17, 0
  0155c	0f 84 92 00 00
	00		 je	 $LN346@gEventMons

; 4948 : 	{
; 4949 : 		LPMONSTER_ATTRIBUTE lpAttr = gMAttr.GetAttr(lpObj->Class);

  01562	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  01569	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  0156e	50		 push	 eax
  0156f	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr

; 4950 : 
; 4951 : 		if( lpAttr != 0 && lpAttr->m_Level > 30 )

  01574	85 c0		 test	 eax, eax
  01576	74 7c		 je	 SHORT $LN346@gEventMons
  01578	83 78 44 1e	 cmp	 DWORD PTR [eax+68], 30	; 0000001eH
  0157c	7e 76		 jle	 SHORT $LN346@gEventMons

; 4952 : 		{
; 4953 : 			if( rand()%10000 < g_nMysteriousPaperDropRate )

  0157e	e8 00 00 00 00	 call	 _rand
  01583	99		 cdq
  01584	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  01589	f7 fb		 idiv	 ebx
  0158b	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_nMysteriousPaperDropRate@@3HA ; g_nMysteriousPaperDropRate
  01591	7d 66		 jge	 SHORT $LN265@gEventMons

; 4954 : 			{
; 4955 : 				Option1 = 0;
; 4956 : 				Option2 = 0;
; 4957 : 				Option3 = 0;
; 4958 : 				level = 0;
; 4959 : 				dur = 1;
; 4960 : 				x = lpObj->X;

  01593	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  0159a	89 45 f4	 mov	 DWORD PTR _x$19$[ebp], eax

; 4961 : 				y = lpObj->Y;

  0159d	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]

; 4962 : 				type = ItemGetNumberMake(14,101);

  015a4	6a 65		 push	 101			; 00000065H
  015a6	6a 0e		 push	 14			; 0000000eH
  015a8	c6 45 fc 01	 mov	 BYTE PTR _dur$[ebp], 1
  015ac	89 45 f0	 mov	 DWORD PTR _y$19$[ebp], eax
  015af	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  015b4	8b d8		 mov	 ebx, eax
  015b6	83 c4 08	 add	 esp, 8

; 4963 : 				int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4964 : 
; 4965 : 				if( ItemAttribute[type].MondownFlag != 0 )

  015b9	6b cb 70	 imul	 ecx, ebx, 112
  015bc	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  015c3	74 2f		 je	 SHORT $LN346@gEventMons

; 4966 : 				{
; 4967 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  015c5	6a 00		 push	 0
  015c7	6a 00		 push	 0
  015c9	6a 00		 push	 0
  015cb	6a 00		 push	 0
  015cd	56		 push	 esi
  015ce	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  015d3	83 c4 04	 add	 esp, 4
  015d6	50		 push	 eax
  015d7	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  015de	6a 00		 push	 0
  015e0	6a 00		 push	 0
  015e2	6a 00		 push	 0
  015e4	6a 01		 push	 1
  015e6	6a 00		 push	 0
  015e8	53		 push	 ebx
  015e9	ff 75 f0	 push	 DWORD PTR _y$19$[ebp]
  015ec	ff 75 f4	 push	 DWORD PTR _x$19$[ebp]

; 4968 : 							Option1,Option2,Option3, iMaxHitUser, 0, 0);
; 4969 : 					return TRUE;

  015ef	e9 c1 f9 ff ff	 jmp	 $LN389@gEventMons
$LN346@gEventMons:
  015f4	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN265@gEventMons:

; 4970 : 				}
; 4971 : 			}
; 4972 : 		}
; 4973 : 	}
; 4974 : 
; 4975 : 	if( gDoubleGoer.bEnabled && !DG_MAP_RANGE(lpObj->MapNumber) )

  015f9	83 3d 04 00 00
	00 00		 cmp	 DWORD PTR ?gDoubleGoer@@3VCDoubleGoerEvent@@A+4, 0
  01600	74 4d		 je	 SHORT $LN268@gEventMons
  01602	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  01608	3c 41		 cmp	 al, 65			; 00000041H
  0160a	72 0b		 jb	 SHORT $LN318@gEventMons
  0160c	b1 44		 mov	 cl, 68			; 00000044H
  0160e	3a c8		 cmp	 cl, al
  01610	1b c0		 sbb	 eax, eax
  01612	83 c0 01	 add	 eax, 1
  01615	75 38		 jne	 SHORT $LN268@gEventMons
$LN318@gEventMons:

; 4976 : 	{
; 4977 : 		if( lpObj->Level > 35 && (rand()%10000) < gDoubleGoer.m_iMirrorDropRate )

  01617	66 83 be 96 00
	00 00 23	 cmp	 WORD PTR [esi+150], 35	; 00000023H
  0161f	7e 2e		 jle	 SHORT $LN268@gEventMons
  01621	e8 00 00 00 00	 call	 _rand
  01626	99		 cdq
  01627	f7 fb		 idiv	 ebx
  01629	3b 15 0c 00 00
	00		 cmp	 edx, DWORD PTR ?gDoubleGoer@@3VCDoubleGoerEvent@@A+12
  0162f	7d 1e		 jge	 SHORT $LN268@gEventMons

; 4978 : 		{
; 4979 : 			type = ItemGetNumberMake(14,110);

  01631	6a 6e		 push	 110			; 0000006eH
  01633	6a 0e		 push	 14			; 0000000eH
  01635	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0163a	8b d8		 mov	 ebx, eax
  0163c	83 c4 08	 add	 esp, 8

; 4980 : 			level = 0;
; 4981 : 			x = lpObj->X;
; 4982 : 			y = lpObj->Y;
; 4983 : 			int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 4984 : 	
; 4985 : 			if( ItemAttribute[type].MondownFlag != 0 )

  0163f	6b cb 70	 imul	 ecx, ebx, 112
  01642	80 b9 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[ecx+39], 0
  01649	0f 85 ef fb ff
	ff		 jne	 $LN392@gEventMons
$LN268@gEventMons:

; 4986 : 			{
; 4987 : 				ItemSerialCreateSend(lpTargetObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 4988 : 					Option1,Option2,Option3, iMaxHitUser, 0, 0);
; 4989 : 				return TRUE;
; 4990 : 			}
; 4991 : 		}
; 4992 : 	}
; 4993 : 
; 4994 : 	if( lpObj->MapNumber == MAP_INDEX_RAKLION )

  0164f	80 be 23 01 00
	00 39		 cmp	 BYTE PTR [esi+291], 57	; 00000039H
  01656	0f 85 2f 01 00
	00		 jne	 $LN277@gEventMons

; 4995 : 	{
; 4996 : 		if( lpObj->Level >= g_SocketRecipe_DropLevel && 

  0165c	0f bf 86 96 00
	00 00		 movsx	 eax, WORD PTR [esi+150]
  01663	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_SocketRecipe_DropLevel@@3HA ; g_SocketRecipe_DropLevel
  01669	7c 34		 jl	 SHORT $LN355@gEventMons
  0166b	e8 00 00 00 00	 call	 _rand
  01670	99		 cdq
  01671	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
  01676	f7 fb		 idiv	 ebx
  01678	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_SocketRecipe_DropRate@@3HA ; g_SocketRecipe_DropRate
  0167e	7d 24		 jge	 SHORT $LN271@gEventMons

; 4997 : 			(rand()%10000) < g_SocketRecipe_DropRate )
; 4998 : 		{
; 4999 : 			type = ITEMGET(14,191+(rand()%12));

  01680	e8 00 00 00 00	 call	 _rand
  01685	99		 cdq
  01686	b9 0c 00 00 00	 mov	 ecx, 12			; 0000000cH
  0168b	f7 f9		 idiv	 ecx
  0168d	8d 9a bf 1c 00
	00		 lea	 ebx, DWORD PTR [edx+7359]

; 5000 : 			level = 0;
; 5001 : 			x = lpObj->X;
; 5002 : 			y = lpObj->Y;
; 5003 : 			dur = 1;
; 5004 : 
; 5005 : 			int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5006 : 			
; 5007 : 			if( ItemAttribute[type].MondownFlag != 0 )

  01693	6b c3 70	 imul	 eax, ebx, 112
  01696	80 b8 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+39], 0
  0169d	75 59		 jne	 SHORT $LN394@gEventMons
$LN355@gEventMons:
  0169f	bb 10 27 00 00	 mov	 ebx, 10000		; 00002710H
$LN271@gEventMons:

; 5008 : 			{
; 5009 : 				ItemSerialCreateSend(lpTargetObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 5010 : 					Option1,Option2,Option3, iMaxHitUser, 0, 0);
; 5011 : 				return TRUE;
; 5012 : 			}
; 5013 : 		}
; 5014 : 
; 5015 : 		switch( lpObj->Class )

  016a4	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  016ab	05 3a fe ff ff	 add	 eax, -454		; fffffe3aH
  016b0	83 f8 6f	 cmp	 eax, 111		; 0000006fH
  016b3	0f 87 d2 00 00
	00		 ja	 $LN277@gEventMons
  016b9	0f b6 80 00 00
	00 00		 movzx	 eax, BYTE PTR $LN320@gEventMons[eax]
  016c0	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN397@gEventMons[eax*4]
$LN272@gEventMons:

; 5016 : 		{
; 5017 : 		case 454:
; 5018 : 		case 455:
; 5019 : 		case 456:
; 5020 : 		case 457:
; 5021 : 		case 458:
; 5022 : 			if( (rand()%10000) < g_SocketMaterial_Lv1 )

  016c7	e8 00 00 00 00	 call	 _rand
  016cc	99		 cdq
  016cd	f7 fb		 idiv	 ebx
  016cf	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_SocketMaterial_Lv1@@3HA ; g_SocketMaterial_Lv1
  016d5	0f 8d b0 00 00
	00		 jge	 $LN277@gEventMons

; 5023 : 			{
; 5024 : 				type = ITEMGET(14,180+(lpObj->Class-454));

  016db	0f b7 9e 90 00
	00 00		 movzx	 ebx, WORD PTR [esi+144]
  016e2	81 c3 ee 1a 00
	00		 add	 ebx, 6894		; 00001aeeH

; 5025 : 				level = 0;
; 5026 : 				x = lpObj->X;
; 5027 : 				y = lpObj->Y;
; 5028 : 				dur = 1;
; 5029 : 
; 5030 : 				int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5031 : 
; 5032 : 				if( ItemAttribute[type].MondownFlag != 0 )

  016e8	6b c3 70	 imul	 eax, ebx, 112
  016eb	80 b8 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+39], 0
  016f2	0f 84 93 00 00
	00		 je	 $LN277@gEventMons
$LN394@gEventMons:

; 5033 : 				{
; 5034 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  016f8	6a 00		 push	 0
  016fa	6a 00		 push	 0
  016fc	6a 00		 push	 0
  016fe	6a 00		 push	 0
  01700	56		 push	 esi
  01701	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  01706	83 c4 04	 add	 esp, 4
  01709	50		 push	 eax
  0170a	6a 00		 push	 0
  0170c	6a 00		 push	 0
  0170e	6a 00		 push	 0
  01710	6a 01		 push	 1

; 5035 : 						Option1,Option2,Option3, iMaxHitUser, 0, 0);
; 5036 : 					return TRUE;

  01712	e9 42 fb ff ff	 jmp	 $LN393@gEventMons
$LN275@gEventMons:

; 5037 : 				}
; 5038 : 			}
; 5039 : 			break;
; 5040 : 		case 562:
; 5041 : 		case 563:
; 5042 : 		case 564:
; 5043 : 		case 565:
; 5044 : 			if( (rand()%10000) < g_SocketMaterial_Lv2 )

  01717	e8 00 00 00 00	 call	 _rand
  0171c	99		 cdq
  0171d	f7 fb		 idiv	 ebx
  0171f	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_SocketMaterial_Lv2@@3HA ; g_SocketMaterial_Lv2
  01725	7d 64		 jge	 SHORT $LN277@gEventMons

; 5045 : 			{
; 5046 : 				type = ITEMGET(14,185+(lpObj->Class-562));

  01727	0f b7 9e 90 00
	00 00		 movzx	 ebx, WORD PTR [esi+144]
  0172e	81 c3 87 1a 00
	00		 add	 ebx, 6791		; 00001a87H

; 5047 : 				level = 0;
; 5048 : 				x = lpObj->X;
; 5049 : 				y = lpObj->Y;
; 5050 : 				dur = 1;
; 5051 : 
; 5052 : 				int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 5053 : 
; 5054 : 				if( ItemAttribute[type].MondownFlag != 0 )

  01734	6b c3 70	 imul	 eax, ebx, 112
  01737	80 b8 27 00 00
	00 00		 cmp	 BYTE PTR ?ItemAttribute@@3PAUITEM_ATTRIBUTE@@A[eax+39], 0
  0173e	74 4b		 je	 SHORT $LN277@gEventMons

; 5055 : 				{
; 5056 : 					ItemSerialCreateSend(lpTargetObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  01740	6a 00		 push	 0
  01742	6a 00		 push	 0
  01744	6a 00		 push	 0
  01746	6a 00		 push	 0
  01748	56		 push	 esi
  01749	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  0174e	83 c4 04	 add	 esp, 4
  01751	50		 push	 eax
  01752	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  01759	6a 00		 push	 0
  0175b	6a 00		 push	 0
  0175d	6a 00		 push	 0
  0175f	6a 01		 push	 1
  01761	6a 00		 push	 0
  01763	53		 push	 ebx
  01764	50		 push	 eax
  01765	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  0176c	50		 push	 eax
  0176d	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  01774	50		 push	 eax
  01775	ff 37		 push	 DWORD PTR [edi]
  01777	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  0177c	83 c4 3c	 add	 esp, 60			; 0000003cH

; 5057 : 						Option1,Option2,Option3, iMaxHitUser, 0, 0);
; 5058 : 					return TRUE;

  0177f	b8 01 00 00 00	 mov	 eax, 1
  01784	5f		 pop	 edi
  01785	5e		 pop	 esi
  01786	5b		 pop	 ebx

; 5066 : }

  01787	8b e5		 mov	 esp, ebp
  01789	5d		 pop	 ebp
  0178a	c3		 ret	 0
$LN277@gEventMons:
  0178b	5f		 pop	 edi
  0178c	5e		 pop	 esi

; 5059 : 				}
; 5060 : 			}
; 5061 : 			break;
; 5062 : 		}
; 5063 : 	}
; 5064 : 
; 5065 : 	return FALSE;

  0178d	33 c0		 xor	 eax, eax
  0178f	5b		 pop	 ebx

; 5066 : }

  01790	8b e5		 mov	 esp, ebp
  01792	5d		 pop	 ebp
  01793	c3		 ret	 0
$LN396@gEventMons:
  01794	00 00 00 00	 DD	 $LN110@gEventMons
  01798	00 00 00 00	 DD	 $LN112@gEventMons
$LN319@gEventMons:
  0179c	00		 DB	 0
  0179d	00		 DB	 0
  0179e	00		 DB	 0
  0179f	00		 DB	 0
  017a0	00		 DB	 0
  017a1	00		 DB	 0
  017a2	01		 DB	 1
  017a3	01		 DB	 1
  017a4	01		 DB	 1
  017a5	01		 DB	 1
  017a6	66 90		 npad	 2
$LN397@gEventMons:
  017a8	00 00 00 00	 DD	 $LN272@gEventMons
  017ac	00 00 00 00	 DD	 $LN275@gEventMons
  017b0	00 00 00 00	 DD	 $LN277@gEventMons
$LN320@gEventMons:
  017b4	00		 DB	 0
  017b5	00		 DB	 0
  017b6	00		 DB	 0
  017b7	00		 DB	 0
  017b8	00		 DB	 0
  017b9	02		 DB	 2
  017ba	02		 DB	 2
  017bb	02		 DB	 2
  017bc	02		 DB	 2
  017bd	02		 DB	 2
  017be	02		 DB	 2
  017bf	02		 DB	 2
  017c0	02		 DB	 2
  017c1	02		 DB	 2
  017c2	02		 DB	 2
  017c3	02		 DB	 2
  017c4	02		 DB	 2
  017c5	02		 DB	 2
  017c6	02		 DB	 2
  017c7	02		 DB	 2
  017c8	02		 DB	 2
  017c9	02		 DB	 2
  017ca	02		 DB	 2
  017cb	02		 DB	 2
  017cc	02		 DB	 2
  017cd	02		 DB	 2
  017ce	02		 DB	 2
  017cf	02		 DB	 2
  017d0	02		 DB	 2
  017d1	02		 DB	 2
  017d2	02		 DB	 2
  017d3	02		 DB	 2
  017d4	02		 DB	 2
  017d5	02		 DB	 2
  017d6	02		 DB	 2
  017d7	02		 DB	 2
  017d8	02		 DB	 2
  017d9	02		 DB	 2
  017da	02		 DB	 2
  017db	02		 DB	 2
  017dc	02		 DB	 2
  017dd	02		 DB	 2
  017de	02		 DB	 2
  017df	02		 DB	 2
  017e0	02		 DB	 2
  017e1	02		 DB	 2
  017e2	02		 DB	 2
  017e3	02		 DB	 2
  017e4	02		 DB	 2
  017e5	02		 DB	 2
  017e6	02		 DB	 2
  017e7	02		 DB	 2
  017e8	02		 DB	 2
  017e9	02		 DB	 2
  017ea	02		 DB	 2
  017eb	02		 DB	 2
  017ec	02		 DB	 2
  017ed	02		 DB	 2
  017ee	02		 DB	 2
  017ef	02		 DB	 2
  017f0	02		 DB	 2
  017f1	02		 DB	 2
  017f2	02		 DB	 2
  017f3	02		 DB	 2
  017f4	02		 DB	 2
  017f5	02		 DB	 2
  017f6	02		 DB	 2
  017f7	02		 DB	 2
  017f8	02		 DB	 2
  017f9	02		 DB	 2
  017fa	02		 DB	 2
  017fb	02		 DB	 2
  017fc	02		 DB	 2
  017fd	02		 DB	 2
  017fe	02		 DB	 2
  017ff	02		 DB	 2
  01800	02		 DB	 2
  01801	02		 DB	 2
  01802	02		 DB	 2
  01803	02		 DB	 2
  01804	02		 DB	 2
  01805	02		 DB	 2
  01806	02		 DB	 2
  01807	02		 DB	 2
  01808	02		 DB	 2
  01809	02		 DB	 2
  0180a	02		 DB	 2
  0180b	02		 DB	 2
  0180c	02		 DB	 2
  0180d	02		 DB	 2
  0180e	02		 DB	 2
  0180f	02		 DB	 2
  01810	02		 DB	 2
  01811	02		 DB	 2
  01812	02		 DB	 2
  01813	02		 DB	 2
  01814	02		 DB	 2
  01815	02		 DB	 2
  01816	02		 DB	 2
  01817	02		 DB	 2
  01818	02		 DB	 2
  01819	02		 DB	 2
  0181a	02		 DB	 2
  0181b	02		 DB	 2
  0181c	02		 DB	 2
  0181d	02		 DB	 2
  0181e	02		 DB	 2
  0181f	02		 DB	 2
  01820	01		 DB	 1
  01821	01		 DB	 1
  01822	01		 DB	 1
  01823	01		 DB	 1
?gEventMonsterItemDrop@@YAHPAUOBJECTSTRUCT@@0@Z ENDP	; gEventMonsterItemDrop
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterDieGiveItem@@YAXPAUOBJECTSTRUCT@@0@Z
_TEXT	SEGMENT
_y$3$ = -60						; size = 4
tv1491 = -60						; size = 4
_Option1$1$ = -56					; size = 4
_Option2$1$ = -52					; size = 4
_Option3$1$ = -48					; size = 4
_MoneyControl$1$ = -41					; size = 1
_level$3$ = -40						; size = 4
_DropItem$1$ = -40					; size = 4
_ItemDropPer$1$ = -36					; size = 4
_y$1$ = -36						; size = 4
_x$3$ = -36						; size = 4
tv1553 = -36						; size = 4
_x$1$ = -32						; size = 4
_MaxHitUser$1$ = -32					; size = 4
_MaxHitUser$1$ = -32					; size = 4
_itemrate$2$ = -32					; size = 4
_dur$ = -32						; size = 1
tv1551 = -32						; size = 4
tv1331 = -32						; size = 4
_money$3$ = -28						; size = 4
_lpObj$GSCopy$1$ = -28					; size = 4
_ExtDropPer$1$ = -28					; size = 4
_item_drop$2$ = -24					; size = 4
_NOption$ = -24						; size = 1
_cDropX$1 = -24						; size = 1
_cDropX$2 = -24						; size = 1
_cDropX$3 = -24						; size = 1
_cDropX$4 = -24						; size = 1
_cDropX$5 = -24						; size = 1
_cDropX$6 = -24						; size = 1
_lpTargetObj$GSCopy$1$ = -20				; size = 4
_cDropY$7 = -20						; size = 1
_cDropY$8 = -20						; size = 1
_cDropY$9 = -20						; size = 1
_cDropY$10 = -20					; size = 1
_cDropY$11 = -20					; size = 1
_cDropY$12 = -20					; size = 1
tv1367 = -20						; size = 4
_money$13 = -20						; size = 4
_Level$14 = -16						; size = 12
_Level$15 = -12						; size = 8
_y$1$ = -8						; size = 4
_moneyrate$1$ = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
?gObjMonsterDieGiveItem@@YAXPAUOBJECTSTRUCT@@0@Z PROC	; gObjMonsterDieGiveItem, COMDAT

; 2979 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 3c	 sub	 esp, 60			; 0000003cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	8b 5d 08	 mov	 ebx, DWORD PTR _lpObj$[ebp]
  00014	56		 push	 esi
  00015	8b 75 0c	 mov	 esi, DWORD PTR _lpTargetObj$[ebp]
  00018	57		 push	 edi

; 2980 : 
; 2981 : 	int store_count=0;
; 2982 : 	int ExtDropPer=0;
; 2983 : 	int DropItemNum=0;
; 2984 : 	int type;
; 2985 : 	int level;
; 2986 : 	int x;
; 2987 : 	int y;
; 2988 : 	BYTE dur=0;
; 2989 : 	int Option1=0;
; 2990 : 	int Option2=0;
; 2991 : 	int Option3=0;
; 2992 : 	unsigned char NOption=0;
; 2993 : 	BOOL item_drop=0;
; 2994 : 	int n;
; 2995 : 	CItem * DropItem=NULL;

  00019	33 ff		 xor	 edi, edi
  0001b	89 5d e4	 mov	 DWORD PTR _lpObj$GSCopy$1$[ebp], ebx

; 2996 : 
; 2997 : #ifdef POINTEX
; 2998 : 	g_ShopPointEx.AddMonsterBonus(lpTargetObj->m_Index, lpObj->m_Index);
; 2999 : #endif
; 3000 : 
; 3001 : 	if( lpObj->Class == 55 )

  0001e	66 83 bb 90 00
	00 00 37	 cmp	 WORD PTR [ebx+144], 55	; 00000037H
  00026	89 75 ec	 mov	 DWORD PTR _lpTargetObj$GSCopy$1$[ebp], esi
  00029	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _Option1$1$[ebp], 0
  00030	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _Option2$1$[ebp], 0
  00037	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _Option3$1$[ebp], 0
  0003e	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _item_drop$2$[ebp], 0
  00045	89 7d d8	 mov	 DWORD PTR _DropItem$1$[ebp], edi
  00048	0f 85 b2 00 00
	00		 jne	 $LN18@gObjMonste

; 3002 : 	{
; 3003 : 		if ( rand()%10000 < g_iDeathKingBoneRate )

  0004e	e8 00 00 00 00	 call	 _rand
  00053	99		 cdq
  00054	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00059	f7 f9		 idiv	 ecx
  0005b	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iDeathKingBoneRate@@3HA ; g_iDeathKingBoneRate
  00061	0f 8d 99 00 00
	00		 jge	 $LN18@gObjMonste

; 3004 : 		{
; 3005 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00067	53		 push	 ebx
  00068	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3006 : 			type = ItemGetNumberMake(14, 176);

  0006d	68 b0 00 00 00	 push	 176			; 000000b0H
  00072	6a 0e		 push	 14			; 0000000eH
  00074	8b f0		 mov	 esi, eax
  00076	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0007b	8b f8		 mov	 edi, eax

; 3007 : 			BYTE cDropX = lpObj->X;

  0007d	8a 83 20 01 00
	00		 mov	 al, BYTE PTR [ebx+288]
  00083	88 45 e8	 mov	 BYTE PTR _cDropX$6[ebp], al

; 3008 : 			BYTE cDropY = lpObj->Y;

  00086	8a 83 21 01 00
	00		 mov	 al, BYTE PTR [ebx+289]

; 3009 : 			dur = 1;
; 3010 : 			level = 0;
; 3011 : 
; 3012 : 			if(!gObjGetRandomItemDropLocation(lpObj->MapNumber,cDropX,cDropY,2,2,10))

  0008c	6a 0a		 push	 10			; 0000000aH
  0008e	6a 02		 push	 2
  00090	88 45 ec	 mov	 BYTE PTR _cDropY$12[ebp], al
  00093	8d 45 ec	 lea	 eax, DWORD PTR _cDropY$12[ebp]
  00096	6a 02		 push	 2
  00098	50		 push	 eax
  00099	8d 45 e8	 lea	 eax, DWORD PTR _cDropX$6[ebp]
  0009c	50		 push	 eax
  0009d	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  000a4	50		 push	 eax
  000a5	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  000aa	83 c4 24	 add	 esp, 36			; 00000024H
  000ad	85 c0		 test	 eax, eax
  000af	75 12		 jne	 SHORT $LN19@gObjMonste

; 3013 : 			{
; 3014 : 				cDropX = lpObj->X;

  000b1	8a 83 20 01 00
	00		 mov	 al, BYTE PTR [ebx+288]
  000b7	88 45 e8	 mov	 BYTE PTR _cDropX$6[ebp], al

; 3015 : 				cDropY = lpObj->Y;

  000ba	8a 83 21 01 00
	00		 mov	 al, BYTE PTR [ebx+289]
  000c0	88 45 ec	 mov	 BYTE PTR _cDropY$12[ebp], al
$LN19@gObjMonste:

; 3016 : 			}
; 3017 : 
; 3018 : 			ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, cDropX, cDropY, type, level, dur,

  000c3	6a 00		 push	 0
  000c5	6a 00		 push	 0
  000c7	6a 00		 push	 0
  000c9	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  000d0	6a 00		 push	 0
  000d2	56		 push	 esi
  000d3	6a 00		 push	 0
  000d5	6a 00		 push	 0
  000d7	6a 00		 push	 0
  000d9	6a 01		 push	 1
  000db	6a 00		 push	 0
  000dd	57		 push	 edi
  000de	ff 75 ec	 push	 DWORD PTR _cDropY$12[ebp]
  000e1	ff 75 e8	 push	 DWORD PTR _cDropX$6[ebp]
  000e4	50		 push	 eax
  000e5	ff 33		 push	 DWORD PTR [ebx]
  000e7	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  000ec	83 c4 3c	 add	 esp, 60			; 0000003cH
  000ef	5f		 pop	 edi
  000f0	5e		 pop	 esi
  000f1	5b		 pop	 ebx

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  000f2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000f5	33 cd		 xor	 ecx, ebp
  000f7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000fc	8b e5		 mov	 esp, ebp
  000fe	5d		 pop	 ebp
  000ff	c3		 ret	 0
$LN18@gObjMonste:

; 3019 : 				Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3020 : 			return;
; 3021 : 		}
; 3022 : 	}
; 3023 : 
; 3024 : 	if( g_EventItemBagManager.OpenMonster(lpObj->m_Index) )

  00100	ff 33		 push	 DWORD PTR [ebx]
  00102	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_EventItemBagManager@@3VEventItemBagManager@@A ; g_EventItemBagManager
  00107	e8 00 00 00 00	 call	 ?OpenMonster@EventItemBagManager@@QAEEH@Z ; EventItemBagManager::OpenMonster
  0010c	84 c0		 test	 al, al
  0010e	0f 85 eb 10 00
	00		 jne	 $LN28@gObjMonste

; 3025 : 	{
; 3026 : 		return;
; 3027 : 	}
; 3028 : 
; 3029 : #if (ENABLETEST_ARCA == 1)
; 3030 : 	if( lpObj->MapNumber == MAP_INDEX_ACHERON )
; 3031 : 	{
; 3032 : 		int nMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3033 : 		BYTE X = lpObj->X;
; 3034 : 		BYTE Y = lpObj->Y;
; 3035 : 		// ----
; 3036 : 		if( g_ArcaBattle.DropItem(lpTargetObj, lpObj->MapNumber, X, Y, nMaxHitUser) ) //Maybe not need check return
; 3037 : 		{
; 3038 : 			return;
; 3039 : 		}
; 3040 : 	}
; 3041 : #endif
; 3042 : 
; 3043 : #if (ENABLETEST_ACHERON == 1)
; 3044 : 	if (lpObj->Class >= 627 && lpObj->Class <= 631)
; 3045 : 	{
; 3046 : 		int nMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3047 : 		LogAdd("[AcheronGuardianEvent] BossName: %s, CharacterName: %s", lpObj->Name, gObj[nMaxHitUser].Name);
; 3048 :         g_AcheronGuardianEvent.DestoryObelisk(&gObj[nMaxHitUser], lpObj->MapNumber, lpObj->X, lpObj->Y, nMaxHitUser);  
; 3049 : 		return;
; 3050 : 	}
; 3051 : #endif
; 3052 : 
; 3053 : #pragma message("CHECK ME!!!")
; 3054 : 	if( lpObj->Class >= 605 && lpObj->Class <= 607 )

  00114	0f b7 8b 90 00
	00 00		 movzx	 ecx, WORD PTR [ebx+144]
  0011b	b8 5d 02 00 00	 mov	 eax, 605		; 0000025dH
  00120	66 3b c8	 cmp	 cx, ax
  00123	72 0e		 jb	 SHORT $LN21@gObjMonste
  00125	b8 5f 02 00 00	 mov	 eax, 607		; 0000025fH
  0012a	66 3b c8	 cmp	 cx, ax
  0012d	0f 86 cc 10 00
	00		 jbe	 $LN28@gObjMonste
$LN21@gObjMonste:

; 3055 : 		return;
; 3056 : 	
; 3057 : 	if ( lpObj->Class == 249 || lpTargetObj->Class == 249 ||	// Guard
; 3058 : 		lpObj->Class == 247 || lpTargetObj->Class == 247 )	// Guard

  00133	ba f9 00 00 00	 mov	 edx, 249		; 000000f9H
  00138	66 3b ca	 cmp	 cx, dx
  0013b	0f 84 be 10 00
	00		 je	 $LN28@gObjMonste
  00141	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  00148	66 3b c2	 cmp	 ax, dx
  0014b	0f 84 ae 10 00
	00		 je	 $LN28@gObjMonste
  00151	ba f7 00 00 00	 mov	 edx, 247		; 000000f7H
  00156	66 3b ca	 cmp	 cx, dx
  00159	0f 84 a0 10 00
	00		 je	 $LN28@gObjMonste
  0015f	66 3b c2	 cmp	 ax, dx
  00162	0f 84 97 10 00
	00		 je	 $LN28@gObjMonste

; 3059 : 	{
; 3060 : 		return;
; 3061 : 	}
; 3062 : 
; 3063 : 	if ( lpObj->m_RecallMon >= 0 )

  00168	39 bb 30 06 00
	00		 cmp	 DWORD PTR [ebx+1584], edi
  0016e	0f 8d 8b 10 00
	00		 jge	 $LN28@gObjMonste

; 3064 : 	{
; 3065 : 		return;
; 3066 : 	}
; 3067 : 	
; 3068 : 	if ( lpObj->Class == 131 )	// Castle Gate

  00174	b8 83 00 00 00	 mov	 eax, 131		; 00000083H
  00179	66 3b c8	 cmp	 cx, ax
  0017c	0f 84 7d 10 00
	00		 je	 $LN28@gObjMonste

; 3069 : 	{
; 3070 : 		return;
; 3071 : 	}
; 3072 : 	
; 3073 : 	if ( BC_STATUE_RANGE(lpObj->Class-132) )	// Blood Castle Statue

  00182	8b d1		 mov	 edx, ecx
  00184	81 c2 7c ff ff
	ff		 add	 edx, -132		; ffffff7cH
  0018a	78 10		 js	 SHORT $LN177@gObjMonste
  0018c	33 c0		 xor	 eax, eax
  0018e	83 fa 02	 cmp	 edx, 2
  00191	0f 9e c0	 setle	 al
  00194	85 c0		 test	 eax, eax
  00196	0f 85 63 10 00
	00		 jne	 $LN28@gObjMonste
$LN177@gObjMonste:

; 3074 : 	{
; 3075 : 		return;
; 3076 : 	}
; 3077 : 
; 3078 : 	if ( lpObj->Class == 460 ||
; 3079 : 		 lpObj->Class == 461 ||

  0019c	b8 cc 01 00 00	 mov	 eax, 460		; 000001ccH
  001a1	66 3b c8	 cmp	 cx, ax
  001a4	0f 84 55 10 00
	00		 je	 $LN28@gObjMonste
  001aa	b8 cd 01 00 00	 mov	 eax, 461		; 000001cdH
  001af	66 3b c8	 cmp	 cx, ax
  001b2	0f 84 47 10 00
	00		 je	 $LN28@gObjMonste
  001b8	b8 ce 01 00 00	 mov	 eax, 462		; 000001ceH
  001bd	66 3b c8	 cmp	 cx, ax
  001c0	0f 84 39 10 00
	00		 je	 $LN28@gObjMonste

; 3080 : 		 lpObj->Class == 462 )
; 3081 : 	{
; 3082 : 		return;
; 3083 : 	}
; 3084 : 
; 3085 : 	if ( lpObj->Class >= 524 && lpObj->Class <= 528 )

  001c6	b8 0c 02 00 00	 mov	 eax, 524		; 0000020cH
  001cb	66 3b c8	 cmp	 cx, ax
  001ce	72 0e		 jb	 SHORT $LN29@gObjMonste
  001d0	b8 10 02 00 00	 mov	 eax, 528		; 00000210H
  001d5	66 3b c8	 cmp	 cx, ax
  001d8	0f 86 21 10 00
	00		 jbe	 $LN28@gObjMonste
$LN29@gObjMonste:

; 3086 : 	{
; 3087 : 		return;
; 3088 : 	}
; 3089 : 
; 3090 : 	if ( CC_MAP_RANGE(lpObj->MapNumber) )

  001de	8a 8b 23 01 00
	00		 mov	 cl, BYTE PTR [ebx+291]
  001e4	80 f9 35	 cmp	 cl, 53			; 00000035H
  001e7	0f 84 eb 0f 00
	00		 je	 $LN178@gObjMonste
  001ed	80 f9 12	 cmp	 cl, 18			; 00000012H
  001f0	72 0f		 jb	 SHORT $LN30@gObjMonste
  001f2	b0 17		 mov	 al, 23			; 00000017H
  001f4	3a c1		 cmp	 al, cl
  001f6	1b c0		 sbb	 eax, eax
  001f8	83 c0 01	 add	 eax, 1
  001fb	0f 85 d7 0f 00
	00		 jne	 $LN178@gObjMonste
$LN30@gObjMonste:

; 3094 : 		return;
; 3095 : 	}
; 3096 : 
; 3097 : 	if ( lpObj->m_bIsInMonsterHerd )

  00201	39 bb 78 14 00
	00		 cmp	 DWORD PTR [ebx+5240], edi
  00207	74 18		 je	 SHORT $LN33@gObjMonste

; 3098 : 	{
; 3099 : 		MonsterHerd * lpMH = lpObj->m_lpMonsterHerd;

  00209	8b 8b 80 14 00
	00		 mov	 ecx, DWORD PTR [ebx+5248]

; 3100 : 
; 3101 : 		if ( lpMH )

  0020f	85 c9		 test	 ecx, ecx
  00211	74 0e		 je	 SHORT $LN33@gObjMonste

; 3102 : 		{
; 3103 : 			if ( lpMH->MonsterHerdItemDrop(lpObj) )

  00213	8b 01		 mov	 eax, DWORD PTR [ecx]
  00215	53		 push	 ebx
  00216	ff 50 30	 call	 DWORD PTR [eax+48]
  00219	85 c0		 test	 eax, eax
  0021b	0f 85 de 0f 00
	00		 jne	 $LN28@gObjMonste
$LN33@gObjMonste:

; 3104 : 			{
; 3105 : 				return;
; 3106 : 			}
; 3107 : 		}
; 3108 : 	}
; 3109 : 
; 3110 : 	if ( IT_MAP_RANGE(lpObj->MapNumber) )

  00221	8a 83 23 01 00
	00		 mov	 al, BYTE PTR [ebx+291]
  00227	3c 2d		 cmp	 al, 45			; 0000002dH
  00229	72 27		 jb	 SHORT $LN34@gObjMonste
  0022b	b1 32		 mov	 cl, 50			; 00000032H
  0022d	3a c8		 cmp	 cl, al
  0022f	1b c0		 sbb	 eax, eax
  00231	83 c0 01	 add	 eax, 1
  00234	74 1c		 je	 SHORT $LN34@gObjMonste

; 3111 : 	{
; 3112 : 		int iMaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3113 : 		g_IllusionTemple.ItemDrop(lpTargetObj);

  00236	56		 push	 esi
  00237	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_IllusionTemple@@3VCIllusionTempleEvent@@A ; g_IllusionTemple
  0023c	e8 00 00 00 00	 call	 ?ItemDrop@CIllusionTempleEvent@@QAEXPAUOBJECTSTRUCT@@@Z ; CIllusionTempleEvent::ItemDrop
  00241	5f		 pop	 edi
  00242	5e		 pop	 esi
  00243	5b		 pop	 ebx

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  00244	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00247	33 cd		 xor	 ecx, ebp
  00249	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0024e	8b e5		 mov	 esp, ebp
  00250	5d		 pop	 ebp
  00251	c3		 ret	 0
$LN34@gObjMonste:

; 3114 : 		return;
; 3115 : 	}
; 3116 : 	
; 3117 : 	int itemrate = lpObj->m_ItemRate;

  00252	0f bf 83 98 06
	00 00		 movsx	 eax, WORD PTR [ebx+1688]

; 3118 : 	int moneyrate = lpObj->m_MoneyRate;
; 3119 : 
; 3120 : 	if ( itemrate < 1 )

  00259	ba 01 00 00 00	 mov	 edx, 1
  0025e	0f bf 8b 9a 06
	00 00		 movsx	 ecx, WORD PTR [ebx+1690]
  00265	3b c2		 cmp	 eax, edx
  00267	0f 4c c2	 cmovl	 eax, edx

; 3121 : 		itemrate = 1;
; 3122 : 
; 3123 : 	if ( moneyrate < 1 )

  0026a	3b ca		 cmp	 ecx, edx
  0026c	89 45 e0	 mov	 DWORD PTR _itemrate$2$[ebp], eax

; 3124 : 		moneyrate = 1;
; 3125 : #if( __4GAMERS__ == 0 )
; 3126 : 	if ( lpObj->Class == 44 ) // Dragon

  0026f	0f b7 83 90 00
	00 00		 movzx	 eax, WORD PTR [ebx+144]
  00276	0f 4c ca	 cmovl	 ecx, edx
  00279	89 4d f8	 mov	 DWORD PTR _moneyrate$1$[ebp], ecx
  0027c	83 f8 2c	 cmp	 eax, 44			; 0000002cH
  0027f	0f 85 3e 01 00
	00		 jne	 $LN37@gObjMonste

; 3127 : 	{
; 3128 : 		dur = 0;
; 3129 : 		x = lpObj->X;
; 3130 : 		y = lpObj->Y;

  00285	0f b6 83 21 01
	00 00		 movzx	 eax, BYTE PTR [ebx+289]
  0028c	0f b6 bb 20 01
	00 00		 movzx	 edi, BYTE PTR [ebx+288]
  00293	89 45 dc	 mov	 DWORD PTR _y$1$[ebp], eax

; 3131 : 		level = 0;
; 3132 : 
; 3133 : 		if ( (rand()%4) > 0 )

  00296	e8 00 00 00 00	 call	 _rand
  0029b	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  002a0	79 05		 jns	 SHORT $LN190@gObjMonste
  002a2	48		 dec	 eax
  002a3	83 c8 fc	 or	 eax, -4			; fffffffcH
  002a6	40		 inc	 eax
$LN190@gObjMonste:
  002a7	85 c0		 test	 eax, eax
  002a9	7e 6f		 jle	 SHORT $LN38@gObjMonste

; 3134 : 		{
; 3135 : 			for ( int n=0;n<4;n++)

  002ab	c7 45 dc 04 00
	00 00		 mov	 DWORD PTR tv1553[ebp], 4
$LL4@gObjMonste:

; 3136 : 			{
; 3137 : 				int x = lpObj->X-2;

  002b2	0f b6 bb 20 01
	00 00		 movzx	 edi, BYTE PTR [ebx+288]

; 3138 : 				int y = lpObj->Y-2;

  002b9	0f b6 b3 21 01
	00 00		 movzx	 esi, BYTE PTR [ebx+289]
  002c0	83 ef 02	 sub	 edi, 2
  002c3	83 ee 02	 sub	 esi, 2

; 3139 : 				x+= rand()%3;

  002c6	e8 00 00 00 00	 call	 _rand
  002cb	99		 cdq
  002cc	b9 03 00 00 00	 mov	 ecx, 3
  002d1	f7 f9		 idiv	 ecx
  002d3	03 fa		 add	 edi, edx

; 3140 : 				y+= rand()%3;

  002d5	e8 00 00 00 00	 call	 _rand
  002da	99		 cdq
  002db	b9 03 00 00 00	 mov	 ecx, 3
  002e0	f7 f9		 idiv	 ecx

; 3141 : 
; 3142 : 				MapC[lpObj->MapNumber].MoneyItemDrop(10000, x, y);

  002e2	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  002e9	03 f2		 add	 esi, edx
  002eb	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  002f1	56		 push	 esi
  002f2	57		 push	 edi
  002f3	68 10 27 00 00	 push	 10000			; 00002710H
  002f8	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  002fe	e8 00 00 00 00	 call	 ?MoneyItemDrop@MapClass@@QAEHHHH@Z ; MapClass::MoneyItemDrop
  00303	83 6d dc 01	 sub	 DWORD PTR tv1553[ebp], 1
  00307	75 a9		 jne	 SHORT $LL4@gObjMonste
  00309	5f		 pop	 edi
  0030a	5e		 pop	 esi
  0030b	5b		 pop	 ebx

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  0030c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0030f	33 cd		 xor	 ecx, ebp
  00311	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00316	8b e5		 mov	 esp, ebp
  00318	5d		 pop	 ebp
  00319	c3		 ret	 0
$LN38@gObjMonste:

; 3143 : 			}
; 3144 : 
; 3145 : 			return;
; 3146 : 		}
; 3147 : 		
; 3148 : 		if ( (rand()%3) < 2 )

  0031a	e8 00 00 00 00	 call	 _rand
  0031f	99		 cdq
  00320	b9 03 00 00 00	 mov	 ecx, 3
  00325	f7 f9		 idiv	 ecx

; 3149 : 		{
; 3150 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00327	53		 push	 ebx
  00328	83 fa 02	 cmp	 edx, 2
  0032b	7d 4b		 jge	 SHORT $LN39@gObjMonste
  0032d	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3151 : 			type = ItemGetNumberMake(14, 13);

  00332	6a 0d		 push	 13			; 0000000dH
  00334	6a 0e		 push	 14			; 0000000eH
  00336	8b f0		 mov	 esi, eax
  00338	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 3152 : 			ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  0033d	6a 00		 push	 0
  0033f	6a 00		 push	 0
  00341	6a 00		 push	 0
  00343	6a 00		 push	 0
  00345	56		 push	 esi
  00346	6a 00		 push	 0
  00348	6a 00		 push	 0
  0034a	6a 00		 push	 0
  0034c	6a 00		 push	 0
  0034e	6a 00		 push	 0
  00350	50		 push	 eax
  00351	ff 75 dc	 push	 DWORD PTR _y$1$[ebp]
  00354	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  0035b	57		 push	 edi
  0035c	50		 push	 eax
  0035d	ff 33		 push	 DWORD PTR [ebx]

; 3249 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  0035f	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  00364	83 c4 48	 add	 esp, 72			; 00000048H
  00367	5f		 pop	 edi
  00368	5e		 pop	 esi
  00369	5b		 pop	 ebx

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  0036a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0036d	33 cd		 xor	 ecx, ebp
  0036f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00374	8b e5		 mov	 esp, ebp
  00376	5d		 pop	 ebp
  00377	c3		 ret	 0
$LN39@gObjMonste:

; 3153 : 				Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3154 : 
; 3155 : 			return;
; 3156 : 		}
; 3157 : 
; 3158 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00378	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3159 : 		type = ItemGetNumberMake(14, 14);

  0037d	6a 0e		 push	 14			; 0000000eH
  0037f	6a 0e		 push	 14			; 0000000eH
  00381	8b f0		 mov	 esi, eax
  00383	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 3160 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  00388	6a 00		 push	 0
  0038a	6a 00		 push	 0
  0038c	6a 00		 push	 0
  0038e	6a 00		 push	 0
  00390	56		 push	 esi
  00391	6a 00		 push	 0
  00393	6a 00		 push	 0
  00395	6a 00		 push	 0
  00397	6a 00		 push	 0
  00399	6a 00		 push	 0
  0039b	50		 push	 eax
  0039c	ff 75 dc	 push	 DWORD PTR _y$1$[ebp]
  0039f	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  003a6	57		 push	 edi
  003a7	50		 push	 eax
  003a8	ff 33		 push	 DWORD PTR [ebx]

; 3249 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  003aa	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  003af	83 c4 48	 add	 esp, 72			; 00000048H
  003b2	5f		 pop	 edi
  003b3	5e		 pop	 esi
  003b4	5b		 pop	 ebx

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  003b5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003b8	33 cd		 xor	 ecx, ebp
  003ba	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003bf	8b e5		 mov	 esp, ebp
  003c1	5d		 pop	 ebp
  003c2	c3		 ret	 0
$LN37@gObjMonste:

; 3161 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3162 : 
; 3163 : 		return;
; 3164 : 	}
; 3165 : 
; 3166 : #endif
; 3167 : 
; 3168 : 	if ( lpObj->Class == 43 ||
; 3169 : 		 lpObj->Class == 78 || 
; 3170 : 		 lpObj->Class == 502 ||

  003c3	83 f8 2b	 cmp	 eax, 43			; 0000002bH
  003c6	0f 84 a6 0d 00
	00		 je	 $LN43@gObjMonste
  003cc	83 f8 4e	 cmp	 eax, 78			; 0000004eH
  003cf	0f 84 9d 0d 00
	00		 je	 $LN43@gObjMonste
  003d5	b9 f6 01 00 00	 mov	 ecx, 502		; 000001f6H
  003da	66 3b c1	 cmp	 ax, cx
  003dd	0f 84 8f 0d 00
	00		 je	 $LN43@gObjMonste
  003e3	b9 ed 01 00 00	 mov	 ecx, 493		; 000001edH
  003e8	66 3b c1	 cmp	 ax, cx
  003eb	0f 84 81 0d 00
	00		 je	 $LN43@gObjMonste

; 3171 : 		 lpObj->Class == 493 )
; 3172 : 	{
; 3173 : 		dur = 1;
; 3174 : 		x = lpObj->X;
; 3175 : 		y = lpObj->Y;
; 3176 : 		level = 8;
; 3177 : 		type = ItemGetNumberMake(14, 11);
; 3178 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3179 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,
; 3180 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3181 : 
; 3182 : 		return;
; 3183 : 	}
; 3184 : 
; 3185 : 	if ( lpObj->Class == 53 || lpObj->Class == 54 )

  003f1	83 f8 35	 cmp	 eax, 53			; 00000035H
  003f4	0f 84 78 0d 00
	00		 je	 $LN43@gObjMonste
  003fa	83 f8 36	 cmp	 eax, 54			; 00000036H
  003fd	0f 84 6f 0d 00
	00		 je	 $LN43@gObjMonste

; 3194 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3195 : 
; 3196 : 		return;
; 3197 : 	}
; 3198 : 
; 3199 : 	if ( lpObj->Class == 80 || lpObj->Class == 81 || lpObj->Class == 494 )

  00403	83 f8 50	 cmp	 eax, 80			; 00000050H
  00406	0f 84 2c 0d 00
	00		 je	 $LN45@gObjMonste
  0040c	83 f8 51	 cmp	 eax, 81			; 00000051H
  0040f	0f 84 23 0d 00
	00		 je	 $LN45@gObjMonste
  00415	b9 ee 01 00 00	 mov	 ecx, 494		; 000001eeH
  0041a	66 3b c1	 cmp	 ax, cx
  0041d	0f 84 15 0d 00
	00		 je	 $LN45@gObjMonste

; 3211 : 	}
; 3212 : 	
; 3213 : 	
; 3214 : 	if ( lpObj->Class == 82 || lpObj->Class == 83 || lpObj->Class == 495 || lpObj->Class == 496 )

  00423	83 f8 52	 cmp	 eax, 82			; 00000052H
  00426	0f 84 d2 0c 00
	00		 je	 $LN47@gObjMonste
  0042c	83 f8 53	 cmp	 eax, 83			; 00000053H
  0042f	0f 84 c9 0c 00
	00		 je	 $LN47@gObjMonste
  00435	b9 ef 01 00 00	 mov	 ecx, 495		; 000001efH
  0043a	66 3b c1	 cmp	 ax, cx
  0043d	0f 84 bb 0c 00
	00		 je	 $LN47@gObjMonste
  00443	b9 f0 01 00 00	 mov	 ecx, 496		; 000001f0H
  00448	66 3b c1	 cmp	 ax, cx
  0044b	0f 84 ad 0c 00
	00		 je	 $LN47@gObjMonste

; 3225 : 	}
; 3226 : 	
; 3227 : 	if ( lpObj->Class == 497 || lpObj->Class == 498 )

  00451	b9 f1 01 00 00	 mov	 ecx, 497		; 000001f1H
  00456	66 3b c1	 cmp	 ax, cx
  00459	0f 84 68 0c 00
	00		 je	 $LN49@gObjMonste
  0045f	b9 f2 01 00 00	 mov	 ecx, 498		; 000001f2H
  00464	66 3b c1	 cmp	 ax, cx
  00467	0f 84 5a 0c 00
	00		 je	 $LN49@gObjMonste

; 3239 : 	}
; 3240 : 	
; 3241 : 	if ( lpObj->Class == 499 || lpObj->Class == 500 )

  0046d	b9 f3 01 00 00	 mov	 ecx, 499		; 000001f3H
  00472	66 3b c1	 cmp	 ax, cx
  00475	0f 84 ee 0b 00
	00		 je	 $LN51@gObjMonste
  0047b	b9 f4 01 00 00	 mov	 ecx, 500		; 000001f4H
  00480	66 3b c1	 cmp	 ax, cx
  00483	0f 84 e0 0b 00
	00		 je	 $LN51@gObjMonste

; 3250 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3251 : 
; 3252 : 		return;	
; 3253 : 	}
; 3254 : 
; 3255 : 	if ( lpObj->Class == 79 )

  00489	83 f8 4f	 cmp	 eax, 79			; 0000004fH
  0048c	0f 85 cf 00 00
	00		 jne	 $LN52@gObjMonste

; 3256 : 	{
; 3257 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00492	53		 push	 ebx
  00493	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00498	89 45 e0	 mov	 DWORD PTR _MaxHitUser$1$[ebp], eax
  0049b	bf 05 00 00 00	 mov	 edi, 5

; 3258 : 		BYTE cDropX = lpObj->X;

  004a0	8a 83 20 01 00
	00		 mov	 al, BYTE PTR [ebx+288]
  004a6	83 c4 04	 add	 esp, 4
  004a9	88 45 e8	 mov	 BYTE PTR _cDropX$5[ebp], al

; 3259 : 		BYTE cDropY = lpObj->Y;

  004ac	8a 83 21 01 00
	00		 mov	 al, BYTE PTR [ebx+289]
  004b2	88 45 ec	 mov	 BYTE PTR _cDropY$11[ebp], al
  004b5	8d 77 fe	 lea	 esi, DWORD PTR [edi-2]

; 3260 : 		dur = 1;
; 3261 : 
; 3262 : 		int Level[3] = {8,9,10};

  004b8	c7 45 f0 08 00
	00 00		 mov	 DWORD PTR _Level$14[ebp], 8
  004bf	c7 45 f4 09 00
	00 00		 mov	 DWORD PTR _Level$14[ebp+4], 9
  004c6	c7 45 f8 0a 00
	00 00		 mov	 DWORD PTR _Level$14[ebp+8], 10 ; 0000000aH
  004cd	0f 1f 00	 npad	 3
$LL7@gObjMonste:

; 3263 : 
; 3264 : 		for(int i = 0; i < 5; i ++)
; 3265 : 		{
; 3266 : 			if(!gObjGetRandomItemDropLocation(lpObj->MapNumber,cDropX,cDropY,2,2,10))

  004d0	6a 0a		 push	 10			; 0000000aH
  004d2	6a 02		 push	 2
  004d4	6a 02		 push	 2
  004d6	8d 45 ec	 lea	 eax, DWORD PTR _cDropY$11[ebp]
  004d9	50		 push	 eax
  004da	8d 45 e8	 lea	 eax, DWORD PTR _cDropX$5[ebp]
  004dd	50		 push	 eax
  004de	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  004e5	50		 push	 eax
  004e6	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  004eb	83 c4 18	 add	 esp, 24			; 00000018H
  004ee	85 c0		 test	 eax, eax
  004f0	75 12		 jne	 SHORT $LN53@gObjMonste

; 3267 : 			{
; 3268 : 				cDropX = lpObj->X;

  004f2	8a 83 20 01 00
	00		 mov	 al, BYTE PTR [ebx+288]
  004f8	88 45 e8	 mov	 BYTE PTR _cDropX$5[ebp], al

; 3269 : 				cDropY = lpObj->Y;

  004fb	8a 83 21 01 00
	00		 mov	 al, BYTE PTR [ebx+289]
  00501	88 45 ec	 mov	 BYTE PTR _cDropY$11[ebp], al
$LN53@gObjMonste:

; 3270 : 			}
; 3271 : 
; 3272 : 			level = Level[rand()%3];

  00504	e8 00 00 00 00	 call	 _rand
  00509	99		 cdq
  0050a	f7 fe		 idiv	 esi

; 3273 : 			type = ItemGetNumberMake(14, 11);

  0050c	6a 0b		 push	 11			; 0000000bH
  0050e	6a 0e		 push	 14			; 0000000eH
  00510	8b 74 95 f0	 mov	 esi, DWORD PTR _Level$14[ebp+edx*4]
  00514	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 3274 : 
; 3275 : 			ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, cDropX, cDropY, type, level, dur,

  00519	6a 00		 push	 0
  0051b	6a 00		 push	 0
  0051d	6a 00		 push	 0
  0051f	6a 00		 push	 0
  00521	ff 75 e0	 push	 DWORD PTR _MaxHitUser$1$[ebp]
  00524	6a 00		 push	 0
  00526	6a 00		 push	 0
  00528	6a 00		 push	 0
  0052a	6a 01		 push	 1
  0052c	56		 push	 esi
  0052d	50		 push	 eax
  0052e	ff 75 ec	 push	 DWORD PTR _cDropY$11[ebp]
  00531	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  00538	ff 75 e8	 push	 DWORD PTR _cDropX$5[ebp]
  0053b	50		 push	 eax
  0053c	ff 33		 push	 DWORD PTR [ebx]
  0053e	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  00543	83 c4 44	 add	 esp, 68			; 00000044H
  00546	be 03 00 00 00	 mov	 esi, 3
  0054b	83 ef 01	 sub	 edi, 1
  0054e	75 80		 jne	 SHORT $LL7@gObjMonste
  00550	5f		 pop	 edi
  00551	5e		 pop	 esi
  00552	5b		 pop	 ebx

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  00553	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00556	33 cd		 xor	 ecx, ebp
  00558	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0055d	8b e5		 mov	 esp, ebp
  0055f	5d		 pop	 ebp
  00560	c3		 ret	 0
$LN52@gObjMonste:

; 3276 : 				Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3277 : 		}
; 3278 : 		return;
; 3279 : 	}
; 3280 : 
; 3281 : 	if ( lpObj->Class == 501 )

  00561	b9 f5 01 00 00	 mov	 ecx, 501		; 000001f5H
  00566	66 3b c1	 cmp	 ax, cx
  00569	0f 85 ca 00 00
	00		 jne	 $LN54@gObjMonste

; 3282 : 	{
; 3283 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  0056f	53		 push	 ebx
  00570	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00575	89 45 e0	 mov	 DWORD PTR _MaxHitUser$1$[ebp], eax
  00578	83 c4 04	 add	 esp, 4

; 3284 : 		BYTE cDropX = lpObj->X;

  0057b	8a 83 20 01 00
	00		 mov	 al, BYTE PTR [ebx+288]
  00581	bf 05 00 00 00	 mov	 edi, 5
  00586	88 45 e8	 mov	 BYTE PTR _cDropX$4[ebp], al

; 3285 : 		BYTE cDropY = lpObj->Y;

  00589	8a 83 21 01 00
	00		 mov	 al, BYTE PTR [ebx+289]
  0058f	88 45 ec	 mov	 BYTE PTR _cDropY$10[ebp], al

; 3286 : 		dur = 1;
; 3287 : 
; 3288 : 		int Level[2] = {11,12};

  00592	c7 45 f4 0b 00
	00 00		 mov	 DWORD PTR _Level$15[ebp], 11 ; 0000000bH
  00599	c7 45 f8 0c 00
	00 00		 mov	 DWORD PTR _Level$15[ebp+4], 12 ; 0000000cH
$LL10@gObjMonste:

; 3289 : 
; 3290 : 		for(int i = 0; i < 5; i ++)
; 3291 : 		{
; 3292 : 			if(!gObjGetRandomItemDropLocation(lpObj->MapNumber,cDropX,cDropY,2,2,10))

  005a0	6a 0a		 push	 10			; 0000000aH
  005a2	6a 02		 push	 2
  005a4	6a 02		 push	 2
  005a6	8d 45 ec	 lea	 eax, DWORD PTR _cDropY$10[ebp]
  005a9	50		 push	 eax
  005aa	8d 45 e8	 lea	 eax, DWORD PTR _cDropX$4[ebp]
  005ad	50		 push	 eax
  005ae	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  005b5	50		 push	 eax
  005b6	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  005bb	83 c4 18	 add	 esp, 24			; 00000018H
  005be	85 c0		 test	 eax, eax
  005c0	75 12		 jne	 SHORT $LN55@gObjMonste

; 3293 : 			{
; 3294 : 				cDropX = lpObj->X;

  005c2	8a 83 20 01 00
	00		 mov	 al, BYTE PTR [ebx+288]
  005c8	88 45 e8	 mov	 BYTE PTR _cDropX$4[ebp], al

; 3295 : 				cDropY = lpObj->Y;

  005cb	8a 83 21 01 00
	00		 mov	 al, BYTE PTR [ebx+289]
  005d1	88 45 ec	 mov	 BYTE PTR _cDropY$10[ebp], al
$LN55@gObjMonste:

; 3296 : 			}
; 3297 : 
; 3298 : 			level = Level[rand()%2];

  005d4	e8 00 00 00 00	 call	 _rand
  005d9	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  005de	79 05		 jns	 SHORT $LN191@gObjMonste
  005e0	48		 dec	 eax
  005e1	83 c8 fe	 or	 eax, -2			; fffffffeH
  005e4	40		 inc	 eax
$LN191@gObjMonste:
  005e5	8b 74 85 f4	 mov	 esi, DWORD PTR _Level$15[ebp+eax*4]

; 3299 : 			type = ItemGetNumberMake(14, 11);

  005e9	6a 0b		 push	 11			; 0000000bH
  005eb	6a 0e		 push	 14			; 0000000eH
  005ed	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 3300 : 
; 3301 : 			ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, cDropX, cDropY, type, level, dur,

  005f2	6a 00		 push	 0
  005f4	6a 00		 push	 0
  005f6	6a 00		 push	 0
  005f8	6a 00		 push	 0
  005fa	ff 75 e0	 push	 DWORD PTR _MaxHitUser$1$[ebp]
  005fd	6a 00		 push	 0
  005ff	6a 00		 push	 0
  00601	6a 00		 push	 0
  00603	6a 01		 push	 1
  00605	56		 push	 esi
  00606	50		 push	 eax
  00607	ff 75 ec	 push	 DWORD PTR _cDropY$10[ebp]
  0060a	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  00611	ff 75 e8	 push	 DWORD PTR _cDropX$4[ebp]
  00614	50		 push	 eax
  00615	ff 33		 push	 DWORD PTR [ebx]
  00617	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  0061c	83 c4 44	 add	 esp, 68			; 00000044H
  0061f	83 ef 01	 sub	 edi, 1
  00622	0f 85 78 ff ff
	ff		 jne	 $LL10@gObjMonste
  00628	5f		 pop	 edi
  00629	5e		 pop	 esi
  0062a	5b		 pop	 ebx

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  0062b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0062e	33 cd		 xor	 ecx, ebp
  00630	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00635	8b e5		 mov	 esp, ebp
  00637	5d		 pop	 ebp
  00638	c3		 ret	 0
$LN54@gObjMonste:

; 3302 : 				Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3303 : 		}
; 3304 : 		return;
; 3305 : 	}
; 3306 : 
; 3307 : 	
; 3308 : 	if( lpObj->Class == 309 )	// Hell Maine

  00639	b9 35 01 00 00	 mov	 ecx, 309		; 00000135H
  0063e	66 3b c1	 cmp	 ax, cx
  00641	0f 85 b2 00 00
	00		 jne	 $LN57@gObjMonste

; 3309 : 	{
; 3310 : 		if ( rand()%10000 < g_iHellMaineLeatherRate )

  00647	e8 00 00 00 00	 call	 _rand
  0064c	99		 cdq
  0064d	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00652	f7 f9		 idiv	 ecx
  00654	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iHellMaineLeatherRate@@3HA ; g_iHellMaineLeatherRate
  0065a	0f 8d 99 00 00
	00		 jge	 $LN57@gObjMonste

; 3311 : 		{
; 3312 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00660	53		 push	 ebx
  00661	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3313 : 			type = ItemGetNumberMake(14, 177);

  00666	68 b1 00 00 00	 push	 177			; 000000b1H
  0066b	6a 0e		 push	 14			; 0000000eH
  0066d	8b f0		 mov	 esi, eax
  0066f	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00674	8b f8		 mov	 edi, eax

; 3314 : 			BYTE cDropX = lpObj->X;

  00676	8a 83 20 01 00
	00		 mov	 al, BYTE PTR [ebx+288]
  0067c	88 45 e8	 mov	 BYTE PTR _cDropX$3[ebp], al

; 3315 : 			BYTE cDropY = lpObj->Y;

  0067f	8a 83 21 01 00
	00		 mov	 al, BYTE PTR [ebx+289]

; 3316 : 			dur = 1;
; 3317 : 			level = 0;
; 3318 : 
; 3319 : 			if(!gObjGetRandomItemDropLocation(lpObj->MapNumber,cDropX,cDropY,2,2,10))

  00685	6a 0a		 push	 10			; 0000000aH
  00687	6a 02		 push	 2
  00689	88 45 ec	 mov	 BYTE PTR _cDropY$9[ebp], al
  0068c	8d 45 ec	 lea	 eax, DWORD PTR _cDropY$9[ebp]
  0068f	6a 02		 push	 2
  00691	50		 push	 eax
  00692	8d 45 e8	 lea	 eax, DWORD PTR _cDropX$3[ebp]
  00695	50		 push	 eax
  00696	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  0069d	50		 push	 eax
  0069e	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  006a3	83 c4 24	 add	 esp, 36			; 00000024H
  006a6	85 c0		 test	 eax, eax
  006a8	75 12		 jne	 SHORT $LN58@gObjMonste

; 3320 : 			{
; 3321 : 				cDropX = lpObj->X;

  006aa	8a 83 20 01 00
	00		 mov	 al, BYTE PTR [ebx+288]
  006b0	88 45 e8	 mov	 BYTE PTR _cDropX$3[ebp], al

; 3322 : 				cDropY = lpObj->Y;

  006b3	8a 83 21 01 00
	00		 mov	 al, BYTE PTR [ebx+289]
  006b9	88 45 ec	 mov	 BYTE PTR _cDropY$9[ebp], al
$LN58@gObjMonste:

; 3323 : 			}
; 3324 : 
; 3325 : 			ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, cDropX, cDropY, type, level, dur,

  006bc	6a 00		 push	 0
  006be	6a 00		 push	 0
  006c0	6a 00		 push	 0
  006c2	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  006c9	6a 00		 push	 0
  006cb	56		 push	 esi
  006cc	6a 00		 push	 0
  006ce	6a 00		 push	 0
  006d0	6a 00		 push	 0
  006d2	6a 01		 push	 1
  006d4	6a 00		 push	 0
  006d6	57		 push	 edi
  006d7	ff 75 ec	 push	 DWORD PTR _cDropY$9[ebp]
  006da	ff 75 e8	 push	 DWORD PTR _cDropX$3[ebp]
  006dd	50		 push	 eax
  006de	ff 33		 push	 DWORD PTR [ebx]
  006e0	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  006e5	83 c4 3c	 add	 esp, 60			; 0000003cH
  006e8	5f		 pop	 edi
  006e9	5e		 pop	 esi
  006ea	5b		 pop	 ebx

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  006eb	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  006ee	33 cd		 xor	 ecx, ebp
  006f0	e8 00 00 00 00	 call	 @__security_check_cookie@4
  006f5	8b e5		 mov	 esp, ebp
  006f7	5d		 pop	 ebp
  006f8	c3		 ret	 0
$LN57@gObjMonste:

; 3326 : 				Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3327 : 			return;
; 3328 : 		}
; 3329 : 	}
; 3330 : 
; 3331 : 	if( lpObj->Class == 77 )	// Phoenix

  006f9	66 83 bb 90 00
	00 00 4d	 cmp	 WORD PTR [ebx+144], 77	; 0000004dH
  00701	0f 85 b2 00 00
	00		 jne	 $LN60@gObjMonste

; 3332 : 	{
; 3333 : 		if ( rand()%10000 < g_iFlameOfPhoenixRate )

  00707	e8 00 00 00 00	 call	 _rand
  0070c	99		 cdq
  0070d	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00712	f7 f9		 idiv	 ecx
  00714	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iFlameOfPhoenixRate@@3HA ; g_iFlameOfPhoenixRate
  0071a	0f 8d 99 00 00
	00		 jge	 $LN60@gObjMonste

; 3334 : 		{
; 3335 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00720	53		 push	 ebx
  00721	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3336 : 			type = ItemGetNumberMake(14, 178);

  00726	68 b2 00 00 00	 push	 178			; 000000b2H
  0072b	6a 0e		 push	 14			; 0000000eH
  0072d	8b f0		 mov	 esi, eax
  0072f	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  00734	8b f8		 mov	 edi, eax

; 3337 : 			BYTE cDropX = lpObj->X;

  00736	8a 83 20 01 00
	00		 mov	 al, BYTE PTR [ebx+288]
  0073c	88 45 e8	 mov	 BYTE PTR _cDropX$2[ebp], al

; 3338 : 			BYTE cDropY = lpObj->Y;

  0073f	8a 83 21 01 00
	00		 mov	 al, BYTE PTR [ebx+289]

; 3339 : 			dur = 1;
; 3340 : 			level = 0;
; 3341 : 
; 3342 : 			if(!gObjGetRandomItemDropLocation(lpObj->MapNumber,cDropX,cDropY,2,2,10))

  00745	6a 0a		 push	 10			; 0000000aH
  00747	6a 02		 push	 2
  00749	88 45 ec	 mov	 BYTE PTR _cDropY$8[ebp], al
  0074c	8d 45 ec	 lea	 eax, DWORD PTR _cDropY$8[ebp]
  0074f	6a 02		 push	 2
  00751	50		 push	 eax
  00752	8d 45 e8	 lea	 eax, DWORD PTR _cDropX$2[ebp]
  00755	50		 push	 eax
  00756	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  0075d	50		 push	 eax
  0075e	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  00763	83 c4 24	 add	 esp, 36			; 00000024H
  00766	85 c0		 test	 eax, eax
  00768	75 12		 jne	 SHORT $LN61@gObjMonste

; 3343 : 			{
; 3344 : 				cDropX = lpObj->X;

  0076a	8a 83 20 01 00
	00		 mov	 al, BYTE PTR [ebx+288]
  00770	88 45 e8	 mov	 BYTE PTR _cDropX$2[ebp], al

; 3345 : 				cDropY = lpObj->Y;

  00773	8a 83 21 01 00
	00		 mov	 al, BYTE PTR [ebx+289]
  00779	88 45 ec	 mov	 BYTE PTR _cDropY$8[ebp], al
$LN61@gObjMonste:

; 3346 : 			}
; 3347 : 
; 3348 : 			ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, cDropX, cDropY, type, level, dur,

  0077c	6a 00		 push	 0
  0077e	6a 00		 push	 0
  00780	6a 00		 push	 0
  00782	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  00789	6a 00		 push	 0
  0078b	56		 push	 esi
  0078c	6a 00		 push	 0
  0078e	6a 00		 push	 0
  00790	6a 00		 push	 0
  00792	6a 01		 push	 1
  00794	6a 00		 push	 0
  00796	57		 push	 edi
  00797	ff 75 ec	 push	 DWORD PTR _cDropY$8[ebp]
  0079a	ff 75 e8	 push	 DWORD PTR _cDropX$2[ebp]
  0079d	50		 push	 eax
  0079e	ff 33		 push	 DWORD PTR [ebx]
  007a0	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  007a5	83 c4 3c	 add	 esp, 60			; 0000003cH
  007a8	5f		 pop	 edi
  007a9	5e		 pop	 esi
  007aa	5b		 pop	 ebx

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  007ab	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  007ae	33 cd		 xor	 ecx, ebp
  007b0	e8 00 00 00 00	 call	 @__security_check_cookie@4
  007b5	8b e5		 mov	 esp, ebp
  007b7	5d		 pop	 ebp
  007b8	c3		 ret	 0
$LN60@gObjMonste:

; 3349 : 				Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3350 : 			return;
; 3351 : 		}
; 3352 : 	}
; 3353 : 
; 3354 : 	if( lpObj->Class == 63 )	// Death Beam Knight

  007b9	66 83 bb 90 00
	00 00 3f	 cmp	 WORD PTR [ebx+144], 63	; 0000003fH
  007c1	0f 85 b2 00 00
	00		 jne	 $LN63@gObjMonste

; 3355 : 	{
; 3356 : 		if ( rand()%10000 < g_iDeathBeamKnightSoulRate )

  007c7	e8 00 00 00 00	 call	 _rand
  007cc	99		 cdq
  007cd	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  007d2	f7 f9		 idiv	 ecx
  007d4	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_iDeathBeamKnightSoulRate@@3HA ; g_iDeathBeamKnightSoulRate
  007da	0f 8d 99 00 00
	00		 jge	 $LN63@gObjMonste

; 3357 : 		{
; 3358 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  007e0	53		 push	 ebx
  007e1	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3359 : 			type = ItemGetNumberMake(14, 179);

  007e6	68 b3 00 00 00	 push	 179			; 000000b3H
  007eb	6a 0e		 push	 14			; 0000000eH
  007ed	8b f0		 mov	 esi, eax
  007ef	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  007f4	8b f8		 mov	 edi, eax

; 3360 : 			BYTE cDropX = lpObj->X;

  007f6	8a 83 20 01 00
	00		 mov	 al, BYTE PTR [ebx+288]
  007fc	88 45 e8	 mov	 BYTE PTR _cDropX$1[ebp], al

; 3361 : 			BYTE cDropY = lpObj->Y;

  007ff	8a 83 21 01 00
	00		 mov	 al, BYTE PTR [ebx+289]

; 3362 : 			dur = 1;
; 3363 : 			level = 0;
; 3364 : 
; 3365 : 			if(!gObjGetRandomItemDropLocation(lpObj->MapNumber,cDropX,cDropY,2,2,10))

  00805	6a 0a		 push	 10			; 0000000aH
  00807	6a 02		 push	 2
  00809	88 45 ec	 mov	 BYTE PTR _cDropY$7[ebp], al
  0080c	8d 45 ec	 lea	 eax, DWORD PTR _cDropY$7[ebp]
  0080f	6a 02		 push	 2
  00811	50		 push	 eax
  00812	8d 45 e8	 lea	 eax, DWORD PTR _cDropX$1[ebp]
  00815	50		 push	 eax
  00816	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  0081d	50		 push	 eax
  0081e	e8 00 00 00 00	 call	 ?gObjGetRandomItemDropLocation@@YAHHAAE0HHH@Z ; gObjGetRandomItemDropLocation
  00823	83 c4 24	 add	 esp, 36			; 00000024H
  00826	85 c0		 test	 eax, eax
  00828	75 12		 jne	 SHORT $LN64@gObjMonste

; 3366 : 			{
; 3367 : 				cDropX = lpObj->X;

  0082a	8a 83 20 01 00
	00		 mov	 al, BYTE PTR [ebx+288]
  00830	88 45 e8	 mov	 BYTE PTR _cDropX$1[ebp], al

; 3368 : 				cDropY = lpObj->Y;

  00833	8a 83 21 01 00
	00		 mov	 al, BYTE PTR [ebx+289]
  00839	88 45 ec	 mov	 BYTE PTR _cDropY$7[ebp], al
$LN64@gObjMonste:

; 3369 : 			}
; 3370 : 
; 3371 : 			ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, cDropX, cDropY, type, level, dur,

  0083c	6a 00		 push	 0
  0083e	6a 00		 push	 0
  00840	6a 00		 push	 0
  00842	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  00849	6a 00		 push	 0
  0084b	56		 push	 esi
  0084c	6a 00		 push	 0
  0084e	6a 00		 push	 0
  00850	6a 00		 push	 0
  00852	6a 01		 push	 1
  00854	6a 00		 push	 0
  00856	57		 push	 edi
  00857	ff 75 ec	 push	 DWORD PTR _cDropY$7[ebp]
  0085a	ff 75 e8	 push	 DWORD PTR _cDropX$1[ebp]
  0085d	50		 push	 eax
  0085e	ff 33		 push	 DWORD PTR [ebx]
  00860	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  00865	83 c4 3c	 add	 esp, 60			; 0000003cH
  00868	5f		 pop	 edi
  00869	5e		 pop	 esi
  0086a	5b		 pop	 ebx

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  0086b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0086e	33 cd		 xor	 ecx, ebp
  00870	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00875	8b e5		 mov	 esp, ebp
  00877	5d		 pop	 ebp
  00878	c3		 ret	 0
$LN63@gObjMonste:

; 3372 : 				Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3373 : 			return;
; 3374 : 		}
; 3375 : 	}
; 3376 : 
; 3377 : 	if ( gEventMonsterItemDrop(lpObj, lpTargetObj) )

  00879	56		 push	 esi
  0087a	53		 push	 ebx
  0087b	e8 00 00 00 00	 call	 ?gEventMonsterItemDrop@@YAHPAUOBJECTSTRUCT@@0@Z ; gEventMonsterItemDrop
  00880	83 c4 08	 add	 esp, 8
  00883	85 c0		 test	 eax, eax
  00885	0f 85 74 09 00
	00		 jne	 $LN28@gObjMonste

; 3378 : 		return;
; 3379 : 
; 3380 : 	if ( g_ElementalSystem.Drop(lpObj,lpTargetObj) )

  0088b	56		 push	 esi
  0088c	53		 push	 ebx
  0088d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ElementalSystem@@3VCElementalSystem@@A ; g_ElementalSystem
  00892	e8 00 00 00 00	 call	 ?Drop@CElementalSystem@@QAEHPAUOBJECTSTRUCT@@0@Z ; CElementalSystem::Drop
  00897	85 c0		 test	 eax, eax
  00899	0f 85 60 09 00
	00		 jne	 $LN28@gObjMonste

; 3381 : 		return;
; 3382 : 
; 3383 : 	if ( g_QuestInfo.MonsterItemDrop(lpObj) )

  0089f	53		 push	 ebx
  008a0	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_QuestInfo@@3VCQuestInfo@@A ; g_QuestInfo
  008a5	e8 00 00 00 00	 call	 ?MonsterItemDrop@CQuestInfo@@QAEHPAUOBJECTSTRUCT@@@Z ; CQuestInfo::MonsterItemDrop
  008aa	85 c0		 test	 eax, eax
  008ac	0f 85 4d 09 00
	00		 jne	 $LN28@gObjMonste

; 3384 : 		return;
; 3385 : 
; 3386 : 	MonsterItemDrop(lpObj);

  008b2	53		 push	 ebx
  008b3	e8 00 00 00 00	 call	 ?MonsterItemDrop@@YAXPAUOBJECTSTRUCT@@@Z ; MonsterItemDrop
  008b8	83 c4 04	 add	 esp, 4

; 3387 : 
; 3388 : 	if ( lpTargetObj->Level <= 20 )

  008bb	66 83 be 96 00
	00 00 14	 cmp	 WORD PTR [esi+150], 20	; 00000014H
  008c3	7f 67		 jg	 SHORT $LN69@gObjMonste

; 3389 : 	{
; 3390 : 		if ( (rand()%10000) < 2000 )

  008c5	e8 00 00 00 00	 call	 _rand
  008ca	99		 cdq
  008cb	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  008d0	f7 f9		 idiv	 ecx
  008d2	81 fa d0 07 00
	00		 cmp	 edx, 2000		; 000007d0H
  008d8	7d 52		 jge	 SHORT $LN69@gObjMonste

; 3391 : 		{
; 3392 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  008da	53		 push	 ebx
  008db	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3393 : 			x = lpObj->X;

  008e0	0f b6 9b 20 01
	00 00		 movzx	 ebx, BYTE PTR [ebx+288]
  008e7	8b f0		 mov	 esi, eax

; 3394 : 			y = lpObj->Y;

  008e9	8b 45 e4	 mov	 eax, DWORD PTR _lpObj$GSCopy$1$[ebp]

; 3395 : 			dur = 1;
; 3396 : 			level = 0;
; 3397 : 			type = ItemGetNumberMake(14, 0);	// Apple

  008ec	6a 00		 push	 0
  008ee	6a 0e		 push	 14			; 0000000eH
  008f0	0f b6 b8 21 01
	00 00		 movzx	 edi, BYTE PTR [eax+289]
  008f7	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 3398 : 			ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  008fc	6a 00		 push	 0
  008fe	6a 00		 push	 0
  00900	6a 00		 push	 0
  00902	6a 00		 push	 0
  00904	56		 push	 esi
  00905	6a 00		 push	 0
  00907	6a 00		 push	 0
  00909	6a 00		 push	 0
  0090b	6a 01		 push	 1
  0090d	6a 00		 push	 0
  0090f	50		 push	 eax
  00910	57		 push	 edi
  00911	53		 push	 ebx
  00912	8b 5d e4	 mov	 ebx, DWORD PTR _lpObj$GSCopy$1$[ebp]
  00915	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  0091c	50		 push	 eax
  0091d	ff 33		 push	 DWORD PTR [ebx]
  0091f	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  00924	8b 75 ec	 mov	 esi, DWORD PTR _lpTargetObj$GSCopy$1$[ebp]
  00927	83 c4 48	 add	 esp, 72			; 00000048H
  0092a	33 ff		 xor	 edi, edi
$LN69@gObjMonste:

; 3399 : 				Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3400 : 		}
; 3401 : 	}
; 3402 : 
; 3403 : 
; 3404 : #if (__CUSTOM__ == 1)
; 3405 : 	if( g_ExcDropPerc )

  0092c	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_ExcDropPerc@@3HA, 0 ; g_ExcDropPerc
  00933	74 0e		 je	 SHORT $LN70@gObjMonste

; 3406 : 		ExtDropPer = rand()%g_ExcDropPerc;

  00935	e8 00 00 00 00	 call	 _rand
  0093a	99		 cdq
  0093b	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?g_ExcDropPerc@@3HA ; g_ExcDropPerc

; 3407 : 	else

  00941	eb 0d		 jmp	 SHORT $LN192@gObjMonste
$LN70@gObjMonste:

; 3408 : 		ExtDropPer = rand()%2000;

  00943	e8 00 00 00 00	 call	 _rand
  00948	99		 cdq
  00949	b9 d0 07 00 00	 mov	 ecx, 2000		; 000007d0H
  0094e	f7 f9		 idiv	 ecx
$LN192@gObjMonste:

; 3409 : #else
; 3410 : 	ExtDropPer = rand()%2000;	// Excellent Drop Percent #warning
; 3411 : #endif
; 3412 : 
; 3413 : 
; 3414 : #if (__CUSTOM__ == 1)
; 3415 : 	int ItemDropPer = gItemDropPer + m_ObjBill[lpTargetObj->m_Index].GetDrop();
; 3416 : #else
; 3417 : 	int ItemDropPer = gItemDropPer;
; 3418 : #endif
; 3419 : 	ItemDropPer += gItemDropPer * lpTargetObj->SetOpImproveItemDropRate / 100;

  00950	0f b6 8e d3 14
	00 00		 movzx	 ecx, BYTE PTR [esi+5331]
  00957	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  0095c	0f af 0d 00 00
	00 00		 imul	 ecx, DWORD PTR ?gItemDropPer@@3HA ; gItemDropPer
  00963	89 55 e4	 mov	 DWORD PTR _ExtDropPer$1$[ebp], edx

; 3420 : 
; 3421 : 	int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00966	53		 push	 ebx
  00967	f7 e9		 imul	 ecx
  00969	8b 45 ec	 mov	 eax, DWORD PTR _lpTargetObj$GSCopy$1$[ebp]
  0096c	c1 fa 05	 sar	 edx, 5
  0096f	8b ca		 mov	 ecx, edx
  00971	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  00974	8b 00		 mov	 eax, DWORD PTR [eax]
  00976	03 ca		 add	 ecx, edx
  00978	8d 04 40	 lea	 eax, DWORD PTR [eax+eax*2]
  0097b	c1 e0 04	 shl	 eax, 4
  0097e	03 88 20 00 00
	00		 add	 ecx, DWORD PTR ?m_ObjBill@@3PAVBILL_CLASS@@A[eax+32]
  00984	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gItemDropPer@@3HA ; gItemDropPer
  0098a	89 4d dc	 mov	 DWORD PTR _ItemDropPer$1$[ebp], ecx
  0098d	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00992	83 c4 04	 add	 esp, 4

; 3422 : 
; 3423 : 	if( MaxHitUser >= 0 )

  00995	85 c0		 test	 eax, eax
  00997	78 61		 js	 SHORT $LN187@gObjMonste

; 3424 : 	{
; 3425 : 		int IncDrop = gObjGetTotalValueOfEffect(&gObj[MaxHitUser],ADD_OPTION_DROP_RATE);

  00999	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  0099f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009a4	6a 07		 push	 7
  009a6	03 c1		 add	 eax, ecx
  009a8	89 4d c4	 mov	 DWORD PTR tv1491[ebp], ecx
  009ab	50		 push	 eax
  009ac	e8 00 00 00 00	 call	 ?gObjGetTotalValueOfEffect@@YAHPAUOBJECTSTRUCT@@H@Z ; gObjGetTotalValueOfEffect
  009b1	8b f0		 mov	 esi, eax

; 3426 : 
; 3427 : #if (CUSTOM_OLYMP!=1)
; 3428 : 		if( gObjCheckUsedBuffEffect(&gObj[MaxHitUser],BUFF_GLADIATOR_HONOR) && gObj[MaxHitUser].MapNumber == MAP_INDEX_VULCANUS )

  009b3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009b8	03 45 c4	 add	 eax, DWORD PTR tv1491[ebp]
  009bb	6a 67		 push	 103			; 00000067H
  009bd	50		 push	 eax
  009be	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  009c3	83 c4 10	 add	 esp, 16			; 00000010H
  009c6	84 c0		 test	 al, al
  009c8	74 15		 je	 SHORT $LN73@gObjMonste
  009ca	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009cf	8b 4d c4	 mov	 ecx, DWORD PTR tv1491[ebp]
  009d2	80 bc 01 23 01
	00 00 3f	 cmp	 BYTE PTR [ecx+eax+291], 63 ; 0000003fH
  009da	75 03		 jne	 SHORT $LN73@gObjMonste

; 3429 : 		{
; 3430 : 			IncDrop += 20;

  009dc	83 c6 14	 add	 esi, 20			; 00000014H
$LN73@gObjMonste:

; 3431 : 		}
; 3432 : #endif
; 3433 : 	
; 3434 : 		if( IncDrop > 0 )

  009df	85 f6		 test	 esi, esi
  009e1	7e 17		 jle	 SHORT $LN187@gObjMonste

; 3435 : 		{
; 3436 : 			ItemDropPer = ItemDropPer* IncDrop / 100;

  009e3	0f af 75 dc	 imul	 esi, DWORD PTR _ItemDropPer$1$[ebp]
  009e7	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  009ec	f7 ee		 imul	 esi
  009ee	c1 fa 05	 sar	 edx, 5
  009f1	8b f2		 mov	 esi, edx
  009f3	c1 ee 1f	 shr	 esi, 31			; 0000001fH
  009f6	03 f2		 add	 esi, edx
  009f8	eb 03		 jmp	 SHORT $LN74@gObjMonste
$LN187@gObjMonste:
  009fa	8b 75 dc	 mov	 esi, DWORD PTR _ItemDropPer$1$[ebp]
$LN74@gObjMonste:

; 3437 : 			//ExtDropPer = rand() % ((2000 / IncDrop) * 100);
; 3438 : 			//g_MonsterExcellentItemRollRate += g_MonsterExcellentItemRollRate * IncDrop / 100;
; 3439 : 		}
; 3440 : 	}
; 3441 : 	
; 3442 : 	if ( ExtDropPer == TRUE )

  009fd	83 7d e4 01	 cmp	 DWORD PTR _ExtDropPer$1$[ebp], 1
  00a01	0f 85 78 00 00
	00		 jne	 $LN75@gObjMonste

; 3443 : 	{
; 3444 : #if( ENABLETEST_MONSTERITEMDROPEX == 1 )
; 3445 : 		DropItem = g_MonsterItemMngEx.GetItemEx(lpObj->Level-25);

  00a07	0f bf 83 96 00
	00 00		 movsx	 eax, WORD PTR [ebx+150]
  00a0e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MonsterItemMngEx@@3VCMonsterItemMngEx@@A ; g_MonsterItemMngEx
  00a13	83 e8 19	 sub	 eax, 25			; 00000019H
  00a16	50		 push	 eax
  00a17	e8 00 00 00 00	 call	 ?GetItemEx@CMonsterItemMngEx@@QAEPAVCItem@@H@Z ; CMonsterItemMngEx::GetItemEx
  00a1c	8b f8		 mov	 edi, eax
  00a1e	89 7d d8	 mov	 DWORD PTR _DropItem$1$[ebp], edi

; 3446 : #else
; 3447 : 		DropItem = g_MonsterItemMng.GetItem(lpObj->Level-25);
; 3448 : #endif//ENABLETEST_MONSTERITEMDROPEX
; 3449 : 
; 3450 : 		if ( DropItem && g_kItemSystemFor380.Is380OptionItem(DropItem) )

  00a21	85 ff		 test	 edi, edi
  00a23	74 14		 je	 SHORT $LN176@gObjMonste
  00a25	57		 push	 edi
  00a26	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_kItemSystemFor380@@3VCItemSystemFor380@@A ; g_kItemSystemFor380
  00a2b	e8 00 00 00 00	 call	 ?Is380OptionItem@CItemSystemFor380@@QAEHPBVCItem@@@Z ; CItemSystemFor380::Is380OptionItem
  00a30	85 c0		 test	 eax, eax
  00a32	74 0e		 je	 SHORT $LN78@gObjMonste

; 3451 : 			DropItem = FALSE;

  00a34	33 ff		 xor	 edi, edi
  00a36	89 7d d8	 mov	 DWORD PTR _DropItem$1$[ebp], edi
$LN176@gObjMonste:

; 3452 : 
; 3453 : 		if ( !DropItem )
; 3454 : 		{
; 3455 : 			item_drop = FALSE;

  00a39	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _item_drop$2$[ebp], 0

; 3456 : 		}
; 3457 : 		else

  00a40	eb 6b		 jmp	 SHORT $LN85@gObjMonste
$LN78@gObjMonste:

; 3458 : 		{
; 3459 : 			int foundChangeupitem=0;
; 3460 : 			
; 3461 : 			for ( int i=0;i<MAX_TYPE_PLAYER;i++)

  00a42	33 c0		 xor	 eax, eax
$LL13@gObjMonste:

; 3462 : 			{
; 3463 : 				if ( DropItem->m_RequireClass[i] > 1 )

  00a44	80 7c 07 60 01	 cmp	 BYTE PTR [edi+eax+96], 1
  00a49	77 08		 ja	 SHORT $LN160@gObjMonste

; 3458 : 		{
; 3459 : 			int foundChangeupitem=0;
; 3460 : 			
; 3461 : 			for ( int i=0;i<MAX_TYPE_PLAYER;i++)

  00a4b	40		 inc	 eax
  00a4c	83 f8 07	 cmp	 eax, 7
  00a4f	7c f3		 jl	 SHORT $LL13@gObjMonste

; 3462 : 			{
; 3463 : 				if ( DropItem->m_RequireClass[i] > 1 )

  00a51	eb 16		 jmp	 SHORT $LN179@gObjMonste
$LN160@gObjMonste:

; 3464 : 				{
; 3465 : 					foundChangeupitem = TRUE;
; 3466 : 					break;
; 3467 : 				}
; 3468 : 			}
; 3469 : 
; 3470 : 			if ( foundChangeupitem )
; 3471 : 				ExtDropPer = rand()%100;

  00a53	e8 00 00 00 00	 call	 _rand
  00a58	99		 cdq
  00a59	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  00a5e	f7 f9		 idiv	 ecx
  00a60	8b c2		 mov	 eax, edx
  00a62	89 45 e4	 mov	 DWORD PTR _ExtDropPer$1$[ebp], eax

; 3472 : 
; 3473 : 			if ( ExtDropPer )

  00a65	85 c0		 test	 eax, eax
  00a67	74 44		 je	 SHORT $LN85@gObjMonste
$LN179@gObjMonste:

; 3474 : 				if ( (rand()%itemrate) < ItemDropPer )

  00a69	e8 00 00 00 00	 call	 _rand
  00a6e	99		 cdq
  00a6f	f7 7d e0	 idiv	 DWORD PTR _itemrate$2$[ebp]
  00a72	3b d6		 cmp	 edx, esi
  00a74	7d 37		 jge	 SHORT $LN85@gObjMonste

; 3475 : 					item_drop=TRUE;

  00a76	c7 45 e8 01 00
	00 00		 mov	 DWORD PTR _item_drop$2$[ebp], 1

; 3476 : 		}
; 3477 : 	}
; 3478 : 	else

  00a7d	eb 2e		 jmp	 SHORT $LN85@gObjMonste
$LN75@gObjMonste:

; 3479 : 	{
; 3480 : 		if ( (rand()%itemrate) < ItemDropPer )

  00a7f	e8 00 00 00 00	 call	 _rand
  00a84	99		 cdq
  00a85	f7 7d e0	 idiv	 DWORD PTR _itemrate$2$[ebp]
  00a88	3b d6		 cmp	 edx, esi
  00a8a	7d 21		 jge	 SHORT $LN85@gObjMonste

; 3481 : 		{
; 3482 : #if( ENABLETEST_MONSTERITEMDROPEX == 1 )
; 3483 : 			DropItem = g_MonsterItemMngEx.GetItemEx(lpObj->Level);

  00a8c	0f bf 83 96 00
	00 00		 movsx	 eax, WORD PTR [ebx+150]
  00a93	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MonsterItemMngEx@@3VCMonsterItemMngEx@@A ; g_MonsterItemMngEx
  00a98	50		 push	 eax
  00a99	e8 00 00 00 00	 call	 ?GetItemEx@CMonsterItemMngEx@@QAEPAVCItem@@H@Z ; CMonsterItemMngEx::GetItemEx
  00a9e	8b f8		 mov	 edi, eax

; 3484 : #else
; 3485 : 			DropItem = g_MonsterItemMng.GetItem(lpObj->Level);
; 3486 : #endif//ENABLETEST_MONSTERITEMDROPEX
; 3487 : 
; 3488 : 			if ( !DropItem )

  00aa0	33 c0		 xor	 eax, eax
  00aa2	85 ff		 test	 edi, edi
  00aa4	89 7d d8	 mov	 DWORD PTR _DropItem$1$[ebp], edi
  00aa7	0f 95 c0	 setne	 al
  00aaa	89 45 e8	 mov	 DWORD PTR _item_drop$2$[ebp], eax
$LN85@gObjMonste:

; 3489 : 				item_drop = FALSE;
; 3490 : 			else
; 3491 : 				item_drop = TRUE;
; 3492 : 
; 3493 : 		}
; 3494 : 	}
; 3495 : 
; 3496 : #if( ENABLETEST_MONSTERMONEYDROP == 1 )
; 3497 : 	bool MoneyControl = false;
; 3498 : 
; 3499 : 	if( g_MonsterMoneyDrop.Run(lpTargetObj, lpObj) != 0 )

  00aad	53		 push	 ebx
  00aae	ff 75 ec	 push	 DWORD PTR _lpTargetObj$GSCopy$1$[ebp]
  00ab1	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MonsterMoneyDrop@@3VMonsterMoneyDrop@@A ; g_MonsterMoneyDrop
  00ab6	c6 45 d7 00	 mov	 BYTE PTR _MoneyControl$1$[ebp], 0
  00aba	e8 00 00 00 00	 call	 ?Run@MonsterMoneyDrop@@QAEHPAUOBJECTSTRUCT@@0@Z ; MonsterMoneyDrop::Run
  00abf	0f b6 4d d7	 movzx	 ecx, BYTE PTR _MoneyControl$1$[ebp]
  00ac3	85 c0		 test	 eax, eax

; 3500 : 	{
; 3501 : 		MoneyControl = true;
; 3502 : 	}
; 3503 : #endif//ENABLETEST_MONSTERMONEYDROP
; 3504 : 
; 3505 : 	if ( item_drop )

  00ac5	8b 75 e8	 mov	 esi, DWORD PTR _item_drop$2$[ebp]
  00ac8	b8 01 00 00 00	 mov	 eax, 1
  00acd	0f 45 c8	 cmovne	 ecx, eax
  00ad0	89 4d e0	 mov	 DWORD PTR tv1331[ebp], ecx
  00ad3	85 f6		 test	 esi, esi
  00ad5	0f 84 2c 03 00
	00		 je	 $LN100@gObjMonste

; 3506 : 	{
; 3507 : 		if ( !DropItem->IsItem() )

  00adb	8b cf		 mov	 ecx, edi
  00add	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  00ae2	8b f8		 mov	 edi, eax

; 3508 : 		{
; 3509 : 			item_drop = FALSE;
; 3510 : 		}
; 3511 : 
; 3512 : 		int I;
; 3513 : 
; 3514 : 		if ( DropItem->m_Type >= ITEMGET(15,0)  && DropItem->m_Type <= ITEMGET(16,0) )
; 3515 : 		{
; 3516 : 			I = 0;
; 3517 : 		}
; 3518 : 
; 3519 : 		if ( DS_MAP_RANGE(lpObj->MapNumber ) )

  00ae4	8a 83 23 01 00
	00		 mov	 al, BYTE PTR [ebx+291]
  00aea	f7 df		 neg	 edi
  00aec	1b ff		 sbb	 edi, edi
  00aee	23 fe		 and	 edi, esi
  00af0	3c 09		 cmp	 al, 9
  00af2	74 0b		 je	 SHORT $LN181@gObjMonste
  00af4	33 c9		 xor	 ecx, ecx
  00af6	3c 20		 cmp	 al, 32			; 00000020H
  00af8	0f 94 c1	 sete	 cl
  00afb	85 c9		 test	 ecx, ecx
  00afd	74 2a		 je	 SHORT $LN185@gObjMonste
$LN181@gObjMonste:

; 3520 : 		{
; 3521 : 			if ( !IsCanNotItemDtopInDevilSquare(DropItem->m_Type) )

  00aff	8b 75 d8	 mov	 esi, DWORD PTR _DropItem$1$[ebp]
  00b02	0f bf 46 06	 movsx	 eax, WORD PTR [esi+6]
  00b06	50		 push	 eax
  00b07	e8 00 00 00 00	 call	 ?IsCanNotItemDtopInDevilSquare@@YAHH@Z ; IsCanNotItemDtopInDevilSquare
  00b0c	83 c4 04	 add	 esp, 4
  00b0f	85 c0		 test	 eax, eax
  00b11	75 19		 jne	 SHORT $LN93@gObjMonste

; 3522 : 			{
; 3523 : 				if ( (rand()%10) )

  00b13	e8 00 00 00 00	 call	 _rand
  00b18	99		 cdq
  00b19	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  00b1e	f7 f9		 idiv	 ecx
  00b20	33 c0		 xor	 eax, eax
  00b22	85 d2		 test	 edx, edx
  00b24	0f 45 f8	 cmovne	 edi, eax
  00b27	eb 03		 jmp	 SHORT $LN93@gObjMonste
$LN185@gObjMonste:
  00b29	8b 75 d8	 mov	 esi, DWORD PTR _DropItem$1$[ebp]
$LN93@gObjMonste:

; 3524 : 				{
; 3525 : 					item_drop = FALSE;
; 3526 : 				}
; 3527 : 			}
; 3528 : 		}
; 3529 : 
; 3530 : 		if ( g_SocketItem.IsSocketItem(DropItem->m_Type) == TRUE && !g_SocketItem.IsDropMap(lpObj->MapNumber) )

  00b2c	0f bf 46 06	 movsx	 eax, WORD PTR [esi+6]
  00b30	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketItem@@3VCSocketItems@@A ; g_SocketItem
  00b35	50		 push	 eax
  00b36	e8 00 00 00 00	 call	 ?IsSocketItem@CSocketItems@@QAE_NH@Z ; CSocketItems::IsSocketItem
  00b3b	3c 01		 cmp	 al, 1
  00b3d	75 19		 jne	 SHORT $LN94@gObjMonste
  00b3f	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  00b46	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_SocketItem@@3VCSocketItems@@A ; g_SocketItem
  00b4b	50		 push	 eax
  00b4c	e8 00 00 00 00	 call	 ?IsDropMap@CSocketItems@@QAEEH@Z ; CSocketItems::IsDropMap
  00b51	33 c9		 xor	 ecx, ecx
  00b53	84 c0		 test	 al, al
  00b55	0f 44 f9	 cmove	 edi, ecx
$LN94@gObjMonste:

; 3531 : 		{
; 3532 : 			item_drop = FALSE;
; 3533 : 		}
; 3534 : 
; 3535 : 		if ( DropItem->m_Type == ITEMGET(13,14) && lpObj->MapNumber != MAP_INDEX_ICARUS) // Loch Feather

  00b58	b8 0e 1a 00 00	 mov	 eax, 6670		; 00001a0eH
  00b5d	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  00b61	75 0c		 jne	 SHORT $LN95@gObjMonste
  00b63	33 c0		 xor	 eax, eax
  00b65	80 bb 23 01 00
	00 0a		 cmp	 BYTE PTR [ebx+291], 10	; 0000000aH
  00b6c	0f 45 f8	 cmovne	 edi, eax
$LN95@gObjMonste:

; 3536 : 			item_drop = FALSE;
; 3537 : 
; 3538 : 		if ( g_CrywolfSync.GetOccupationState() == 1 && g_iCrywolfApplyMvpPenalty )

  00b6f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  00b74	e8 00 00 00 00	 call	 ?GetOccupationState@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetOccupationState
  00b79	83 f8 01	 cmp	 eax, 1
  00b7c	75 6a		 jne	 SHORT $LN99@gObjMonste
  00b7e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_iCrywolfApplyMvpPenalty@@3HA, 0 ; g_iCrywolfApplyMvpPenalty
  00b85	74 61		 je	 SHORT $LN99@gObjMonste

; 3539 : 		{
; 3540 : 			// Jewels
; 3541 : 			if ( DropItem->m_Type == ITEMGET(14,13) ||  DropItem->m_Type == ITEMGET(14,14) ||  DropItem->m_Type == ITEMGET(14,16) ||
; 3542 : 				 DropItem->m_Type == ITEMGET(14,22) ||  DropItem->m_Type == ITEMGET(12,15) ||  DropItem->m_Type == ITEMGET(14,31) )

  00b87	0f b7 46 06	 movzx	 eax, WORD PTR [esi+6]
  00b8b	b9 0d 1c 00 00	 mov	 ecx, 7181		; 00001c0dH
  00b90	66 3b c1	 cmp	 ax, cx
  00b93	74 32		 je	 SHORT $LN98@gObjMonste
  00b95	b9 0e 1c 00 00	 mov	 ecx, 7182		; 00001c0eH
  00b9a	66 3b c1	 cmp	 ax, cx
  00b9d	74 28		 je	 SHORT $LN98@gObjMonste
  00b9f	b9 10 1c 00 00	 mov	 ecx, 7184		; 00001c10H
  00ba4	66 3b c1	 cmp	 ax, cx
  00ba7	74 1e		 je	 SHORT $LN98@gObjMonste
  00ba9	b9 16 1c 00 00	 mov	 ecx, 7190		; 00001c16H
  00bae	66 3b c1	 cmp	 ax, cx
  00bb1	74 14		 je	 SHORT $LN98@gObjMonste
  00bb3	ba 0f 18 00 00	 mov	 edx, 6159		; 0000180fH
  00bb8	66 3b c2	 cmp	 ax, dx
  00bbb	74 0a		 je	 SHORT $LN98@gObjMonste
  00bbd	ba 1f 1c 00 00	 mov	 edx, 7199		; 00001c1fH
  00bc2	66 3b c2	 cmp	 ax, dx
  00bc5	75 21		 jne	 SHORT $LN99@gObjMonste
$LN98@gObjMonste:

; 3543 : 			{
; 3544 : 				if ( (rand()%100) > g_CrywolfSync.GetGemDropPenaltiyRate() )

  00bc7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  00bcc	e8 00 00 00 00	 call	 ?GetGemDropPenaltiyRate@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetGemDropPenaltiyRate
  00bd1	8b f0		 mov	 esi, eax
  00bd3	e8 00 00 00 00	 call	 _rand
  00bd8	99		 cdq
  00bd9	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  00bde	f7 f9		 idiv	 ecx
  00be0	3b d6		 cmp	 edx, esi
  00be2	0f 8f 1c 02 00
	00		 jg	 $LN189@gObjMonste
$LN99@gObjMonste:

; 3545 : 				{
; 3546 : 					item_drop = FALSE;
; 3547 : 				}
; 3548 : 
; 3549 : 			}
; 3550 : 		}
; 3551 : 	}
; 3552 : 
; 3553 : 	if ( item_drop)

  00be8	85 ff		 test	 edi, edi
  00bea	0f 84 14 02 00
	00		 je	 $LN189@gObjMonste

; 3554 : 	{
; 3555 : 		type = DropItem->m_Type;
; 3556 : 		level = DropItem->m_Level;
; 3557 : 
; 3558 : 		if ( ExtDropPer == TRUE )

  00bf0	83 7d e4 01	 cmp	 DWORD PTR _ExtDropPer$1$[ebp], 1
  00bf4	8b 7d d8	 mov	 edi, DWORD PTR _DropItem$1$[ebp]
  00bf7	0f bf 4f 08	 movsx	 ecx, WORD PTR [edi+8]
  00bfb	0f bf 77 06	 movsx	 esi, WORD PTR [edi+6]
  00bff	89 4d d8	 mov	 DWORD PTR _level$3$[ebp], ecx
  00c02	75 2b		 jne	 SHORT $LN102@gObjMonste

; 3559 : 		{
; 3560 : 			dur = ItemGetDurability(DropItem->m_Type, 0, 1, 0);

  00c04	6a 00		 push	 0
  00c06	6a 01		 push	 1
  00c08	6a 00		 push	 0
  00c0a	56		 push	 esi
  00c0b	e8 00 00 00 00	 call	 ?ItemGetDurability@@YAHHHHH@Z ; ItemGetDurability

; 3561 : 			NOption = NewOptionRand(lpObj->Level);

  00c10	0f bf 8b 96 00
	00 00		 movsx	 ecx, WORD PTR [ebx+150]
  00c17	51		 push	 ecx
  00c18	89 45 ec	 mov	 DWORD PTR tv1367[ebp], eax
  00c1b	88 45 e0	 mov	 BYTE PTR _dur$[ebp], al
  00c1e	e8 00 00 00 00	 call	 ?NewOptionRand@@YAEH@Z	; NewOptionRand
  00c23	83 c4 14	 add	 esp, 20			; 00000014H

; 3562 : 			level = 0;

  00c26	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _level$3$[ebp], 0

; 3563 : 
; 3564 : 		}
; 3565 : 		else

  00c2d	eb 0b		 jmp	 SHORT $LN103@gObjMonste
$LN102@gObjMonste:

; 3566 : 		{
; 3567 : 			dur = (BYTE)DropItem->m_Durability;

  00c2f	f3 0f 2c 47 24	 cvttss2si eax, DWORD PTR [edi+36]
  00c34	89 45 ec	 mov	 DWORD PTR tv1367[ebp], eax
  00c37	88 45 e0	 mov	 BYTE PTR _dur$[ebp], al
$LN103@gObjMonste:

; 3568 : 		}
; 3569 : 
; 3570 : 		x = lpObj->X;

  00c3a	0f b6 83 20 01
	00 00		 movzx	 eax, BYTE PTR [ebx+288]
  00c41	89 45 dc	 mov	 DWORD PTR _x$3$[ebp], eax

; 3571 : 		y = lpObj->Y;

  00c44	0f b6 83 21 01
	00 00		 movzx	 eax, BYTE PTR [ebx+289]
  00c4b	89 45 c4	 mov	 DWORD PTR _y$3$[ebp], eax

; 3572 : 
; 3573 : 		int option1rand;
; 3574 : 		int option2rand;
; 3575 : 		int option3rand;
; 3576 : 		int optionc;
; 3577 : 
; 3578 : 		if ( ExtDropPer == TRUE )
; 3579 : 		{
; 3580 : 			option1rand=100;
; 3581 : 			option2rand=1;
; 3582 : 			option3rand=rand()%100;

  00c4e	e8 00 00 00 00	 call	 _rand

; 3583 : 			optionc=rand()%3;

  00c53	e8 00 00 00 00	 call	 _rand
  00c58	83 7d e4 01	 cmp	 DWORD PTR _ExtDropPer$1$[ebp], 1
  00c5c	75 1c		 jne	 SHORT $LN104@gObjMonste

; 3584 : 			NOption = NewOptionRand(lpObj->Level);

  00c5e	0f bf 83 96 00
	00 00		 movsx	 eax, WORD PTR [ebx+150]
  00c65	50		 push	 eax
  00c66	e8 00 00 00 00	 call	 ?NewOptionRand@@YAEH@Z	; NewOptionRand
  00c6b	83 c4 04	 add	 esp, 4
  00c6e	88 45 e8	 mov	 BYTE PTR _NOption$[ebp], al

; 3585 : 			level = 0;

  00c71	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _level$3$[ebp], 0

; 3586 : 		}
; 3587 : 		else

  00c78	eb 04		 jmp	 SHORT $LN105@gObjMonste
$LN104@gObjMonste:

; 3588 : 		{
; 3589 : 			option1rand=6;
; 3590 : 			option2rand=4;
; 3591 : 			option3rand=rand()%100;
; 3592 : 			optionc=rand()%3;
; 3593 : 			NOption = 0;

  00c7a	c6 45 e8 00	 mov	 BYTE PTR _NOption$[ebp], 0
$LN105@gObjMonste:

; 3594 : 		}
; 3595 : 
; 3596 : 		if( g_MonsterSkillItemRollRate > 0 )

  00c7e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_MonsterSkillItemRollRate@@3HA, 0 ; g_MonsterSkillItemRollRate
  00c85	7e 20		 jle	 SHORT $LN107@gObjMonste

; 3597 : 		{
; 3598 : 			if( (rand() % 10000) < g_MonsterSkillItemRollRate )

  00c87	e8 00 00 00 00	 call	 _rand
  00c8c	99		 cdq
  00c8d	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00c92	f7 f9		 idiv	 ecx
  00c94	33 c0		 xor	 eax, eax
  00c96	b9 01 00 00 00	 mov	 ecx, 1
  00c9b	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_MonsterSkillItemRollRate@@3HA ; g_MonsterSkillItemRollRate
  00ca1	0f 4c c1	 cmovl	 eax, ecx
  00ca4	89 45 c8	 mov	 DWORD PTR _Option1$1$[ebp], eax
$LN107@gObjMonste:

; 3599 : 			{
; 3600 : 				Option1 = 1;
; 3601 : 			}
; 3602 : 		}
; 3603 : 
; 3604 : 		
; 3605 : 		if( g_MonsterLuckItemRollRate > 0 )

  00ca7	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_MonsterLuckItemRollRate@@3HA, 0 ; g_MonsterLuckItemRollRate
  00cae	7e 20		 jle	 SHORT $LN109@gObjMonste

; 3606 : 		{
; 3607 : 			if( (rand() % 10000) < g_MonsterLuckItemRollRate )

  00cb0	e8 00 00 00 00	 call	 _rand
  00cb5	99		 cdq
  00cb6	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00cbb	f7 f9		 idiv	 ecx
  00cbd	33 c0		 xor	 eax, eax
  00cbf	b9 01 00 00 00	 mov	 ecx, 1
  00cc4	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_MonsterLuckItemRollRate@@3HA ; g_MonsterLuckItemRollRate
  00cca	0f 4c c1	 cmovl	 eax, ecx
  00ccd	89 45 cc	 mov	 DWORD PTR _Option2$1$[ebp], eax
$LN109@gObjMonste:

; 3608 : 			{
; 3609 : 				Option2 = 1;
; 3610 : 			}
; 3611 : 		}
; 3612 : 
; 3613 : 		if( g_MonsterOptionItemRollRate > 0 )

  00cd0	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_MonsterOptionItemRollRate@@3HA, 0 ; g_MonsterOptionItemRollRate
  00cd7	7e 28		 jle	 SHORT $LN111@gObjMonste

; 3614 : 		{
; 3615 : 			if( (rand() % 10000) < g_MonsterOptionItemRollRate )

  00cd9	e8 00 00 00 00	 call	 _rand
  00cde	99		 cdq
  00cdf	b9 10 27 00 00	 mov	 ecx, 10000		; 00002710H
  00ce4	f7 f9		 idiv	 ecx
  00ce6	3b 15 00 00 00
	00		 cmp	 edx, DWORD PTR ?g_MonsterOptionItemRollRate@@3HA ; g_MonsterOptionItemRollRate
  00cec	7d 13		 jge	 SHORT $LN111@gObjMonste

; 3616 : 			{
; 3617 : 				Option3 = rand() % 3 + 1;

  00cee	e8 00 00 00 00	 call	 _rand
  00cf3	99		 cdq
  00cf4	b9 03 00 00 00	 mov	 ecx, 3
  00cf9	f7 f9		 idiv	 ecx
  00cfb	8d 42 01	 lea	 eax, DWORD PTR [edx+1]
  00cfe	89 45 d0	 mov	 DWORD PTR _Option3$1$[ebp], eax
$LN111@gObjMonste:

; 3618 : 			}
; 3619 : 		}
; 3620 : 
; 3621 : 		if ( lpObj->Class == 43 ) // Golden Budge Dragon

  00d01	66 83 bb 90 00
	00 00 2b	 cmp	 WORD PTR [ebx+144], 43	; 0000002bH
  00d09	75 1e		 jne	 SHORT $LN112@gObjMonste

; 3622 : 		{
; 3623 : 			Option1 = DropItem->m_Option1;

  00d0b	0f b6 87 90 00
	00 00		 movzx	 eax, BYTE PTR [edi+144]
  00d12	89 45 c8	 mov	 DWORD PTR _Option1$1$[ebp], eax

; 3624 : 			Option2 = DropItem->m_Option2;

  00d15	0f b6 87 91 00
	00 00		 movzx	 eax, BYTE PTR [edi+145]
  00d1c	89 45 cc	 mov	 DWORD PTR _Option2$1$[ebp], eax

; 3625 : 			Option3 = DropItem->m_Option3;

  00d1f	0f b6 87 92 00
	00 00		 movzx	 eax, BYTE PTR [edi+146]
  00d26	89 45 d0	 mov	 DWORD PTR _Option3$1$[ebp], eax
$LN112@gObjMonste:

; 3626 : 		}
; 3627 : 
; 3628 : 		if ( type == ITEMGET(12,15) ||	// Chaos
; 3629 : 			 type == ITEMGET(14,13) ||	// Bless
; 3630 : 			 type == ITEMGET(14,14) ||	// Soul
; 3631 : 			 type == ITEMGET(14,31) ||	// Guardian

  00d29	81 fe 0f 18 00
	00		 cmp	 esi, 6159		; 0000180fH
  00d2f	74 20		 je	 SHORT $LN114@gObjMonste
  00d31	81 fe 0d 1c 00
	00		 cmp	 esi, 7181		; 00001c0dH
  00d37	74 18		 je	 SHORT $LN114@gObjMonste
  00d39	81 fe 0e 1c 00
	00		 cmp	 esi, 7182		; 00001c0eH
  00d3f	74 10		 je	 SHORT $LN114@gObjMonste
  00d41	81 fe 1f 1c 00
	00		 cmp	 esi, 7199		; 00001c1fH
  00d47	74 08		 je	 SHORT $LN114@gObjMonste
  00d49	81 fe 10 1c 00
	00		 cmp	 esi, 7184		; 00001c10H
  00d4f	75 19		 jne	 SHORT $LN113@gObjMonste
$LN114@gObjMonste:

; 3632 : 			 type == ITEMGET(14,16))	// Life
; 3633 : 		{
; 3634 : 			Option1=0;

  00d51	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _Option1$1$[ebp], 0

; 3635 : 			Option2=0;

  00d58	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _Option2$1$[ebp], 0

; 3636 : 			Option3=0;

  00d5f	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _Option3$1$[ebp], 0

; 3637 : 			NOption=0;

  00d66	c6 45 e8 00	 mov	 BYTE PTR _NOption$[ebp], 0
$LN113@gObjMonste:

; 3638 : 		}
; 3639 : 
; 3640 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00d6a	53		 push	 ebx
  00d6b	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00d70	83 c4 04	 add	 esp, 4

; 3641 : 		
; 3642 : 		if ( DropItem->m_serial )

  00d73	80 7f 04 00	 cmp	 BYTE PTR [edi+4], 0
  00d77	74 37		 je	 SHORT $LN115@gObjMonste

; 3643 : 		{
; 3644 : 			ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  00d79	6a 00		 push	 0
  00d7b	6a 00		 push	 0
  00d7d	6a 00		 push	 0
  00d7f	ff 75 e8	 push	 DWORD PTR _NOption$[ebp]
  00d82	50		 push	 eax
  00d83	ff 75 d0	 push	 DWORD PTR _Option3$1$[ebp]
  00d86	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  00d8d	ff 75 cc	 push	 DWORD PTR _Option2$1$[ebp]
  00d90	ff 75 c8	 push	 DWORD PTR _Option1$1$[ebp]
  00d93	ff 75 e0	 push	 DWORD PTR _dur$[ebp]
  00d96	ff 75 d8	 push	 DWORD PTR _level$3$[ebp]
  00d99	56		 push	 esi
  00d9a	ff 75 c4	 push	 DWORD PTR _y$3$[ebp]
  00d9d	ff 75 dc	 push	 DWORD PTR _x$3$[ebp]
  00da0	50		 push	 eax
  00da1	ff 33		 push	 DWORD PTR [ebx]
  00da3	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  00da8	83 c4 3c	 add	 esp, 60			; 0000003cH

; 3645 : 				Option1, Option2, Option3, MaxHitUser, NOption, 0);
; 3646 : 		}
; 3647 : 		else

  00dab	e9 04 02 00 00	 jmp	 $LN129@gObjMonste
$LN115@gObjMonste:

; 3648 : 		{
; 3649 : 			MapC[lpObj->MapNumber].MonsterItemDrop(type, level, dur, x, y, 

  00db0	68 ff 00 00 00	 push	 255			; 000000ffH
  00db5	6a 00		 push	 0
  00db7	6a 00		 push	 0
  00db9	6a 00		 push	 0
  00dbb	50		 push	 eax
  00dbc	8b 45 ec	 mov	 eax, DWORD PTR tv1367[ebp]
  00dbf	6a 00		 push	 0
  00dc1	ff 75 e8	 push	 DWORD PTR _NOption$[ebp]
  00dc4	0f b6 c0	 movzx	 eax, al
  00dc7	ff 75 d0	 push	 DWORD PTR _Option3$1$[ebp]
  00dca	ff 75 cc	 push	 DWORD PTR _Option2$1$[ebp]
  00dcd	66 0f 6e c0	 movd	 xmm0, eax
  00dd1	ff 75 c8	 push	 DWORD PTR _Option1$1$[ebp]
  00dd4	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  00ddb	ff 75 c4	 push	 DWORD PTR _y$3$[ebp]
  00dde	0f 5b c0	 cvtdq2ps xmm0, xmm0
  00de1	ff 75 dc	 push	 DWORD PTR _x$3$[ebp]
  00de4	51		 push	 ecx
  00de5	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  00deb	f3 0f 11 04 24	 movss	 DWORD PTR [esp], xmm0
  00df0	ff 75 d8	 push	 DWORD PTR _level$3$[ebp]
  00df3	56		 push	 esi
  00df4	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00dfa	e8 00 00 00 00	 call	 ?MonsterItemDrop@MapClass@@QAEHHHMHHEEEEEHKEPAEE@Z ; MapClass::MonsterItemDrop

; 3650 : 				Option1, Option2, Option3, NOption, 0, MaxHitUser, 0, 0, 0, (BYTE)-1);
; 3651 : 		}

  00dff	e9 b0 01 00 00	 jmp	 $LN129@gObjMonste
$LN189@gObjMonste:
  00e04	8b 4d e0	 mov	 ecx, DWORD PTR tv1331[ebp]
$LN100@gObjMonste:

; 3652 : 	}
; 3653 : #if( ENABLETEST_MONSTERMONEYDROP == 1 )
; 3654 : 	else if( MoneyControl )

  00e07	84 c9		 test	 cl, cl
  00e09	0f 85 f0 03 00
	00		 jne	 $LN28@gObjMonste

; 3655 : 	{
; 3656 : 		return;
; 3657 : 	}
; 3658 : #endif//ENABLETEST_MONSTERMONEYDROP
; 3659 : 	else if ( lpObj->Money < 1 )

  00e0f	83 bb cc 00 00
	00 01		 cmp	 DWORD PTR [ebx+204], 1
  00e16	0f 8c e3 03 00
	00		 jl	 $LN28@gObjMonste

; 3660 : 	{
; 3661 : 		return;
; 3662 : 	}
; 3663 : 	else if ( (rand()%moneyrate) < 10 )

  00e1c	e8 00 00 00 00	 call	 _rand
  00e21	99		 cdq
  00e22	f7 7d f8	 idiv	 DWORD PTR _moneyrate$1$[ebp]
  00e25	83 fa 0a	 cmp	 edx, 10			; 0000000aH
  00e28	0f 8d 86 01 00
	00		 jge	 $LN129@gObjMonste

; 3664 : 	{
; 3665 : 		int x = lpObj->X;
; 3666 : 		int y = lpObj->Y;
; 3667 : 		float money = (float)lpObj->Money;
; 3668 : 		money /= 6.0f;
; 3669 : 		money += (money/100.0f)*lpTargetObj->MonsterDieGetMoney;
; 3670 : 		money *= g_MapRateInfo.GetMoney(lpObj->MapNumber);

  00e2e	66 0f 6e 93 cc
	00 00 00	 movd	 xmm2, DWORD PTR [ebx+204]
  00e36	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_MapRateInfo@@3VMapRateInfo@@A ; g_MapRateInfo
  00e3b	0f 5b d2	 cvtdq2ps xmm2, xmm2
  00e3e	0f b6 83 20 01
	00 00		 movzx	 eax, BYTE PTR [ebx+288]
  00e45	8b 7d ec	 mov	 edi, DWORD PTR _lpTargetObj$GSCopy$1$[ebp]
  00e48	89 45 e0	 mov	 DWORD PTR _x$1$[ebp], eax
  00e4b	0f b6 83 21 01
	00 00		 movzx	 eax, BYTE PTR [ebx+289]
  00e52	89 45 f8	 mov	 DWORD PTR _y$1$[ebp], eax
  00e55	f3 0f 5e 15 00
	00 00 00	 divss	 xmm2, DWORD PTR __real@40c00000
  00e5d	0f bf 87 4a 01
	00 00		 movsx	 eax, WORD PTR [edi+330]
  00e64	66 0f 6e c8	 movd	 xmm1, eax
  00e68	0f 28 c2	 movaps	 xmm0, xmm2
  00e6b	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  00e72	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42c80000
  00e7a	50		 push	 eax
  00e7b	0f 5b c9	 cvtdq2ps xmm1, xmm1
  00e7e	f3 0f 59 c8	 mulss	 xmm1, xmm0
  00e82	f3 0f 58 ca	 addss	 xmm1, xmm2
  00e86	f3 0f 11 4d ec	 movss	 DWORD PTR _money$13[ebp], xmm1
  00e8b	e8 00 00 00 00	 call	 ?GetMoney@MapRateInfo@@QAEMF@Z ; MapRateInfo::GetMoney
  00e90	d8 4d ec	 fmul	 DWORD PTR _money$13[ebp]

; 3671 : 
; 3672 : 		if( lpObj->m_MPSkillOpt.MpsAddZen > 0 )

  00e93	f3 0f 10 8b d8
	07 00 00	 movss	 xmm1, DWORD PTR [ebx+2008]
  00e9b	0f 2f 0d 00 00
	00 00		 comiss	 xmm1, DWORD PTR __real@00000000
  00ea2	d9 5d ec	 fstp	 DWORD PTR _money$13[ebp]
  00ea5	76 19		 jbe	 SHORT $LN183@gObjMonste

; 3673 : 		{
; 3674 : 			money += money*lpObj->m_MPSkillOpt.MpsAddZen/100.0f;

  00ea7	f3 0f 59 4d ec	 mulss	 xmm1, DWORD PTR _money$13[ebp]
  00eac	f3 0f 5e 0d 00
	00 00 00	 divss	 xmm1, DWORD PTR __real@42c80000
  00eb4	f3 0f 58 4d ec	 addss	 xmm1, DWORD PTR _money$13[ebp]
  00eb9	f3 0f 11 4d e4	 movss	 DWORD PTR _money$3$[ebp], xmm1
  00ebe	eb 0a		 jmp	 SHORT $LN122@gObjMonste
$LN183@gObjMonste:
  00ec0	f3 0f 10 45 ec	 movss	 xmm0, DWORD PTR _money$13[ebp]
  00ec5	f3 0f 11 45 e4	 movss	 DWORD PTR _money$3$[ebp], xmm0
$LN122@gObjMonste:

; 3675 : 		}
; 3676 : 
; 3677 : 		int AddZenPerc = 100;
; 3678 : 
; 3679 : 		if( lpTargetObj->m_Change == 503 )

  00eca	81 bf 34 06 00
	00 f7 01 00 00	 cmp	 DWORD PTR [edi+1588], 503 ; 000001f7H
  00ed4	b8 96 00 00 00	 mov	 eax, 150		; 00000096H
  00ed9	be 64 00 00 00	 mov	 esi, 100		; 00000064H

; 3680 : 		{
; 3681 : 			AddZenPerc += 50;
; 3682 : 		}
; 3683 : 
; 3684 : 		if( gObjUnicornSprite(lpTargetObj) == TRUE )

  00ede	57		 push	 edi
  00edf	0f 44 f0	 cmove	 esi, eax
  00ee2	e8 00 00 00 00	 call	 ?gObjUnicornSprite@@YAHPAUOBJECTSTRUCT@@@Z ; gObjUnicornSprite
  00ee7	83 c4 04	 add	 esp, 4
  00eea	83 f8 01	 cmp	 eax, 1
  00eed	75 03		 jne	 SHORT $LN124@gObjMonste

; 3685 : 		{
; 3686 : 			AddZenPerc += 50;

  00eef	83 c6 32	 add	 esi, 50			; 00000032H
$LN124@gObjMonste:

; 3687 : 		}
; 3688 : 
; 3689 : 		if( AddZenPerc != 100 )

  00ef2	83 fe 64	 cmp	 esi, 100		; 00000064H
  00ef5	74 1b		 je	 SHORT $LN184@gObjMonste

; 3690 : 		{
; 3691 : 			money = money*AddZenPerc/100;

  00ef7	66 0f 6e c6	 movd	 xmm0, esi
  00efb	0f 5b c8	 cvtdq2ps xmm1, xmm0
  00efe	f3 0f 59 4d e4	 mulss	 xmm1, DWORD PTR _money$3$[ebp]
  00f03	f3 0f 5e 0d 00
	00 00 00	 divss	 xmm1, DWORD PTR __real@42c80000
  00f0b	f3 0f 11 4d e4	 movss	 DWORD PTR _money$3$[ebp], xmm1
  00f10	eb 05		 jmp	 SHORT $LN125@gObjMonste
$LN184@gObjMonste:
  00f12	f3 0f 10 4d e4	 movss	 xmm1, DWORD PTR _money$3$[ebp]
$LN125@gObjMonste:

; 3692 : 		}
; 3693 : 		
; 3694 : 		if (m_ObjBill[lpTargetObj->m_Index].GetZen() > 0) {

  00f17	8b 07		 mov	 eax, DWORD PTR [edi]
  00f19	8d 04 40	 lea	 eax, DWORD PTR [eax+eax*2]
  00f1c	c1 e0 04	 shl	 eax, 4
  00f1f	8b 80 24 00 00
	00		 mov	 eax, DWORD PTR ?m_ObjBill@@3PAVBILL_CLASS@@A[eax+36]
  00f25	85 c0		 test	 eax, eax
  00f27	7e 14		 jle	 SHORT $LN126@gObjMonste

; 3695 : 			money += money * m_ObjBill[lpTargetObj->m_Index].GetZen();

  00f29	66 0f 6e c0	 movd	 xmm0, eax
  00f2d	0f 5b c0	 cvtdq2ps xmm0, xmm0
  00f30	f3 0f 59 c1	 mulss	 xmm0, xmm1
  00f34	f3 0f 58 c8	 addss	 xmm1, xmm0
  00f38	f3 0f 11 4d e4	 movss	 DWORD PTR _money$3$[ebp], xmm1
$LN126@gObjMonste:

; 3696 : 		}
; 3697 : 
; 3698 : 		//LogAddDebug("Zen increase: %d", m_ObjBill[lpTargetObj->m_Index].GetZen());
; 3699 : 
; 3700 : 		if( money < 1.0f )

  00f3d	f3 0f 10 05 00
	00 00 00	 movss	 xmm0, DWORD PTR __real@3f800000
  00f45	0f 2f c1	 comiss	 xmm0, xmm1
  00f48	76 08		 jbe	 SHORT $LN127@gObjMonste

; 3701 : 		{
; 3702 : 			money = 1.0f;

  00f4a	0f 28 c8	 movaps	 xmm1, xmm0
  00f4d	f3 0f 11 4d e4	 movss	 DWORD PTR _money$3$[ebp], xmm1
$LN127@gObjMonste:

; 3703 : 		}
; 3704 : 
; 3705 : 		if ( DS_MAP_RANGE(lpObj->MapNumber) )

  00f52	8a 8b 23 01 00
	00		 mov	 cl, BYTE PTR [ebx+291]
  00f58	80 f9 09	 cmp	 cl, 9
  00f5b	74 2d		 je	 SHORT $LN182@gObjMonste
  00f5d	33 c0		 xor	 eax, eax
  00f5f	80 f9 20	 cmp	 cl, 32			; 00000020H
  00f62	0f 94 c0	 sete	 al
  00f65	85 c0		 test	 eax, eax
  00f67	75 21		 jne	 SHORT $LN182@gObjMonste

; 3713 : 		}
; 3714 : 		else
; 3715 : 		{
; 3716 : 			MapC[lpObj->MapNumber].MoneyItemDrop((int)money, x, y);

  00f69	ff 75 f8	 push	 DWORD PTR _y$1$[ebp]
  00f6c	f3 0f 2c c1	 cvttss2si eax, xmm1
  00f70	ff 75 e0	 push	 DWORD PTR _x$1$[ebp]
  00f73	50		 push	 eax
  00f74	0f b6 c1	 movzx	 eax, cl
  00f77	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  00f7d	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00f83	e8 00 00 00 00	 call	 ?MoneyItemDrop@MapClass@@QAEHHHH@Z ; MapClass::MoneyItemDrop
  00f88	eb 2a		 jmp	 SHORT $LN129@gObjMonste
$LN182@gObjMonste:

; 3706 : 		{
; 3707 : 			int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  00f8a	53		 push	 ebx
  00f8b	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  00f90	83 c4 04	 add	 esp, 4

; 3708 : 
; 3709 : 			if( MaxHitUser == -1 )

  00f93	83 f8 ff	 cmp	 eax, -1
  00f96	0f 84 63 02 00
	00		 je	 $LN28@gObjMonste

; 3710 : 				return;
; 3711 : 
; 3712 : 			gObj[MaxHitUser].m_nEventMoney += (int)money;

  00f9c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00fa2	69 d0 40 27 00
	00		 imul	 edx, eax, 10048
  00fa8	f3 0f 2c 45 e4	 cvttss2si eax, DWORD PTR _money$3$[ebp]
  00fad	01 84 0a 30 12
	00 00		 add	 DWORD PTR [edx+ecx+4656], eax
$LN129@gObjMonste:

; 3717 : 		}
; 3718 : 	}
; 3719 : 
; 3720 : 	if ( lpObj->Money < 1 )

  00fb4	83 bb cc 00 00
	00 01		 cmp	 DWORD PTR [ebx+204], 1
  00fbb	0f 8c 3e 02 00
	00		 jl	 $LN28@gObjMonste

; 3721 : 		return;
; 3722 : 
; 3723 : 	if ( DS_MAP_RANGE(lpObj->MapNumber) )

  00fc1	8a 8b 23 01 00
	00		 mov	 cl, BYTE PTR [ebx+291]
  00fc7	80 f9 09	 cmp	 cl, 9
  00fca	0f 84 2f 02 00
	00		 je	 $LN28@gObjMonste
  00fd0	33 c0		 xor	 eax, eax
  00fd2	80 f9 20	 cmp	 cl, 32			; 00000020H
  00fd5	0f 94 c0	 sete	 al
  00fd8	85 c0		 test	 eax, eax
  00fda	0f 85 1f 02 00
	00		 jne	 $LN28@gObjMonste

; 3724 : 		return;
; 3725 : 	
; 3726 : 	if ( (rand()%400) == 1 )

  00fe0	e8 00 00 00 00	 call	 _rand
  00fe5	99		 cdq
  00fe6	b9 90 01 00 00	 mov	 ecx, 400		; 00000190H
  00feb	f7 f9		 idiv	 ecx
  00fed	83 fa 01	 cmp	 edx, 1
  00ff0	0f 85 09 02 00
	00		 jne	 $LN28@gObjMonste

; 3727 : 	{
; 3728 : 		for ( n=0;n<4;n++)

  00ff6	c7 45 e0 04 00
	00 00		 mov	 DWORD PTR tv1551[ebp], 4
  00ffd	0f 1f 00	 npad	 3
$LL16@gObjMonste:

; 3729 : 		{
; 3730 : 			int x = lpObj->X-2;

  01000	0f b6 bb 20 01
	00 00		 movzx	 edi, BYTE PTR [ebx+288]

; 3731 : 			int y = lpObj->Y-2;

  01007	0f b6 b3 21 01
	00 00		 movzx	 esi, BYTE PTR [ebx+289]
  0100e	83 ef 02	 sub	 edi, 2
  01011	83 ee 02	 sub	 esi, 2

; 3732 : 			x+= rand()%3;

  01014	e8 00 00 00 00	 call	 _rand
  01019	99		 cdq
  0101a	b9 03 00 00 00	 mov	 ecx, 3
  0101f	f7 f9		 idiv	 ecx
  01021	03 fa		 add	 edi, edx

; 3733 : 			y+= rand()%3;

  01023	e8 00 00 00 00	 call	 _rand
  01028	99		 cdq
  01029	b9 03 00 00 00	 mov	 ecx, 3
  0102e	f7 f9		 idiv	 ecx

; 3734 : 
; 3735 : 			MapC[lpObj->MapNumber].MoneyItemDrop(lpObj->Money, x, y);

  01030	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  01037	03 f2		 add	 esi, edx
  01039	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  0103f	56		 push	 esi
  01040	57		 push	 edi
  01041	ff b3 cc 00 00
	00		 push	 DWORD PTR [ebx+204]
  01047	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  0104d	e8 00 00 00 00	 call	 ?MoneyItemDrop@MapClass@@QAEHHHH@Z ; MapClass::MoneyItemDrop
  01052	83 6d e0 01	 sub	 DWORD PTR tv1551[ebp], 1
  01056	75 a8		 jne	 SHORT $LL16@gObjMonste
  01058	5f		 pop	 edi
  01059	5e		 pop	 esi
  0105a	5b		 pop	 ebx

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  0105b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0105e	33 cd		 xor	 ecx, ebp
  01060	e8 00 00 00 00	 call	 @__security_check_cookie@4
  01065	8b e5		 mov	 esp, ebp
  01067	5d		 pop	 ebp
  01068	c3		 ret	 0
$LN51@gObjMonste:

; 3242 : 	{
; 3243 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  01069	53		 push	 ebx
  0106a	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3244 : 		x = lpObj->X;

  0106f	0f b6 9b 20 01
	00 00		 movzx	 ebx, BYTE PTR [ebx+288]
  01076	8b f0		 mov	 esi, eax

; 3245 : 		y = lpObj->Y;

  01078	8b 45 e4	 mov	 eax, DWORD PTR _lpObj$GSCopy$1$[ebp]

; 3246 : 		dur = 1;
; 3247 : 		level = 12;
; 3248 : 		type = ItemGetNumberMake(14, 11);

  0107b	6a 0b		 push	 11			; 0000000bH
  0107d	6a 0e		 push	 14			; 0000000eH
  0107f	0f b6 b8 21 01
	00 00		 movzx	 edi, BYTE PTR [eax+289]
  01086	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 3249 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  0108b	6a 00		 push	 0
  0108d	6a 00		 push	 0
  0108f	6a 00		 push	 0
  01091	6a 00		 push	 0
  01093	56		 push	 esi
  01094	6a 00		 push	 0
  01096	6a 00		 push	 0
  01098	6a 00		 push	 0
  0109a	6a 01		 push	 1
  0109c	6a 0c		 push	 12			; 0000000cH
$LN193@gObjMonste:
  0109e	8b 4d e4	 mov	 ecx, DWORD PTR _lpObj$GSCopy$1$[ebp]
  010a1	50		 push	 eax
  010a2	57		 push	 edi
  010a3	53		 push	 ebx
  010a4	0f b6 81 23 01
	00 00		 movzx	 eax, BYTE PTR [ecx+291]
  010ab	50		 push	 eax
  010ac	ff 31		 push	 DWORD PTR [ecx]
  010ae	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  010b3	83 c4 48	 add	 esp, 72			; 00000048H
  010b6	5f		 pop	 edi
  010b7	5e		 pop	 esi
  010b8	5b		 pop	 ebx

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  010b9	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  010bc	33 cd		 xor	 ecx, ebp
  010be	e8 00 00 00 00	 call	 @__security_check_cookie@4
  010c3	8b e5		 mov	 esp, ebp
  010c5	5d		 pop	 ebp
  010c6	c3		 ret	 0
$LN49@gObjMonste:

; 3228 : 	{
; 3229 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  010c7	53		 push	 ebx
  010c8	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3230 : 		x = lpObj->X;

  010cd	0f b6 9b 20 01
	00 00		 movzx	 ebx, BYTE PTR [ebx+288]
  010d4	8b f0		 mov	 esi, eax

; 3231 : 		y = lpObj->Y;

  010d6	8b 45 e4	 mov	 eax, DWORD PTR _lpObj$GSCopy$1$[ebp]

; 3232 : 		dur = 1;
; 3233 : 		level = 11;
; 3234 : 		type = ItemGetNumberMake(14, 11);

  010d9	6a 0b		 push	 11			; 0000000bH
  010db	6a 0e		 push	 14			; 0000000eH
  010dd	0f b6 b8 21 01
	00 00		 movzx	 edi, BYTE PTR [eax+289]
  010e4	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 3235 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  010e9	6a 00		 push	 0
  010eb	6a 00		 push	 0
  010ed	6a 00		 push	 0
  010ef	6a 00		 push	 0
  010f1	56		 push	 esi
  010f2	6a 00		 push	 0
  010f4	6a 00		 push	 0
  010f6	6a 00		 push	 0
  010f8	6a 01		 push	 1
  010fa	6a 0b		 push	 11			; 0000000bH

; 3236 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3237 : 
; 3238 : 		return;	

  010fc	eb a0		 jmp	 SHORT $LN193@gObjMonste
$LN47@gObjMonste:

; 3215 : 	{
; 3216 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  010fe	53		 push	 ebx
  010ff	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3217 : 		x = lpObj->X;

  01104	0f b6 9b 20 01
	00 00		 movzx	 ebx, BYTE PTR [ebx+288]
  0110b	8b f0		 mov	 esi, eax

; 3218 : 		y = lpObj->Y;

  0110d	8b 45 e4	 mov	 eax, DWORD PTR _lpObj$GSCopy$1$[ebp]

; 3219 : 		dur = 1;
; 3220 : 		level = 10;
; 3221 : 		type = ItemGetNumberMake(14, 11);

  01110	6a 0b		 push	 11			; 0000000bH
  01112	6a 0e		 push	 14			; 0000000eH
  01114	0f b6 b8 21 01
	00 00		 movzx	 edi, BYTE PTR [eax+289]
  0111b	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 3222 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  01120	6a 00		 push	 0
  01122	6a 00		 push	 0
  01124	6a 00		 push	 0
  01126	6a 00		 push	 0
  01128	56		 push	 esi
  01129	6a 00		 push	 0
  0112b	6a 00		 push	 0
  0112d	6a 00		 push	 0
  0112f	6a 01		 push	 1
  01131	6a 0a		 push	 10			; 0000000aH

; 3223 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3224 : 		return;	

  01133	e9 66 ff ff ff	 jmp	 $LN193@gObjMonste
$LN45@gObjMonste:

; 3200 : 	{
; 3201 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);

  01138	53		 push	 ebx
  01139	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser

; 3202 : 		x = lpObj->X;

  0113e	0f b6 9b 20 01
	00 00		 movzx	 ebx, BYTE PTR [ebx+288]
  01145	8b f0		 mov	 esi, eax

; 3203 : 		y = lpObj->Y;

  01147	8b 45 e4	 mov	 eax, DWORD PTR _lpObj$GSCopy$1$[ebp]

; 3204 : 		dur = 1;
; 3205 : 		level = 9;
; 3206 : 		type = ItemGetNumberMake(14, 11);

  0114a	6a 0b		 push	 11			; 0000000bH
  0114c	6a 0e		 push	 14			; 0000000eH
  0114e	0f b6 b8 21 01
	00 00		 movzx	 edi, BYTE PTR [eax+289]
  01155	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake

; 3207 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  0115a	6a 00		 push	 0
  0115c	6a 00		 push	 0
  0115e	6a 00		 push	 0
  01160	6a 00		 push	 0
  01162	56		 push	 esi
  01163	6a 00		 push	 0
  01165	6a 00		 push	 0
  01167	6a 00		 push	 0
  01169	6a 01		 push	 1
  0116b	6a 09		 push	 9

; 3208 : 			Option1, Option2, Option3, MaxHitUser, 0, 0);
; 3209 : 
; 3210 : 		return;

  0116d	e9 2c ff ff ff	 jmp	 $LN193@gObjMonste
$LN43@gObjMonste:

; 3186 : 	{
; 3187 : 		dur = 1;
; 3188 : 		x = lpObj->X;
; 3189 : 		y = lpObj->Y;

  01172	8b 45 e4	 mov	 eax, DWORD PTR _lpObj$GSCopy$1$[ebp]
  01175	0f b6 9b 20 01
	00 00		 movzx	 ebx, BYTE PTR [ebx+288]

; 3190 : 		level = 8;
; 3191 : 		type = ItemGetNumberMake(14, 11);

  0117c	6a 0b		 push	 11			; 0000000bH
  0117e	6a 0e		 push	 14			; 0000000eH
  01180	0f b6 b8 21 01
	00 00		 movzx	 edi, BYTE PTR [eax+289]
  01187	e8 00 00 00 00	 call	 ?ItemGetNumberMake@@YAHHH@Z ; ItemGetNumberMake
  0118c	83 c4 08	 add	 esp, 8
  0118f	8b f0		 mov	 esi, eax

; 3192 : 		int MaxHitUser = gObjMonsterTopHitDamageUser(lpObj);
; 3193 : 		ItemSerialCreateSend(lpObj->m_Index, lpObj->MapNumber, x, y, type, level, dur,

  01191	6a 00		 push	 0
  01193	6a 00		 push	 0
  01195	6a 00		 push	 0
  01197	6a 00		 push	 0
  01199	ff 75 e4	 push	 DWORD PTR _lpObj$GSCopy$1$[ebp]
  0119c	e8 00 00 00 00	 call	 ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterTopHitDamageUser
  011a1	8b 4d e4	 mov	 ecx, DWORD PTR _lpObj$GSCopy$1$[ebp]
  011a4	83 c4 04	 add	 esp, 4
  011a7	50		 push	 eax
  011a8	0f b6 81 23 01
	00 00		 movzx	 eax, BYTE PTR [ecx+291]
  011af	6a 00		 push	 0
  011b1	6a 00		 push	 0
  011b3	6a 00		 push	 0
  011b5	6a 01		 push	 1
  011b7	6a 08		 push	 8
  011b9	56		 push	 esi
  011ba	57		 push	 edi
  011bb	53		 push	 ebx
  011bc	50		 push	 eax
  011bd	ff 31		 push	 DWORD PTR [ecx]
  011bf	e8 00 00 00 00	 call	 ?ItemSerialCreateSend@@YAXHEEEHEEEEEHEEEPAE@Z ; ItemSerialCreateSend
  011c4	83 c4 3c	 add	 esp, 60			; 0000003cH
  011c7	5f		 pop	 edi
  011c8	5e		 pop	 esi
  011c9	5b		 pop	 ebx

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  011ca	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  011cd	33 cd		 xor	 ecx, ebp
  011cf	e8 00 00 00 00	 call	 @__security_check_cookie@4
  011d4	8b e5		 mov	 esp, ebp
  011d6	5d		 pop	 ebp
  011d7	c3		 ret	 0
$LN178@gObjMonste:

; 3091 : 	{
; 3092 : 		g_ChaosCastle.SearchNDropMonsterItem(g_ChaosCastle.GetFloor(lpObj->MapNumber), lpObj->m_Index, lpTargetObj->m_Index);

  011d8	ff 36		 push	 DWORD PTR [esi]
  011da	0f b6 c1	 movzx	 eax, cl
  011dd	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ChaosCastle@@3VCChaosCastle@@A ; g_ChaosCastle
  011e2	ff 33		 push	 DWORD PTR [ebx]
  011e4	50		 push	 eax
  011e5	e8 00 00 00 00	 call	 ?GetFloor@CChaosCastle@@QAEHH@Z ; CChaosCastle::GetFloor
  011ea	50		 push	 eax
  011eb	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ChaosCastle@@3VCChaosCastle@@A ; g_ChaosCastle
  011f0	e8 00 00 00 00	 call	 ?SearchNDropMonsterItem@CChaosCastle@@QAEXHHH@Z ; CChaosCastle::SearchNDropMonsterItem

; 3093 : 		gObjDel(lpObj->m_Index);

  011f5	ff 33		 push	 DWORD PTR [ebx]
  011f7	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  011fc	83 c4 04	 add	 esp, 4
$LN28@gObjMonste:

; 3736 : 		}
; 3737 : 	}
; 3738 : }

  011ff	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  01202	5f		 pop	 edi
  01203	5e		 pop	 esi
  01204	33 cd		 xor	 ecx, ebp
  01206	5b		 pop	 ebx
  01207	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0120c	8b e5		 mov	 esp, ebp
  0120e	5d		 pop	 ebp
  0120f	c3		 ret	 0
?gObjMonsterDieGiveItem@@YAXPAUOBJECTSTRUCT@@0@Z ENDP	; gObjMonsterDieGiveItem
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjRefillMonsterHP@@YAXPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
_lpMonsterObj$ = 8					; size = 4
_iRefillHPSec$ = 12					; size = 4
?gObjRefillMonsterHP@@YAXPAUOBJECTSTRUCT@@H@Z PROC	; gObjRefillMonsterHP, COMDAT

; 2914 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx
  00004	56		 push	 esi
  00005	57		 push	 edi

; 2915 : 	int iMonsterHP = (int)lpMonsterObj->Life;

  00006	8b 7d 08	 mov	 edi, DWORD PTR _lpMonsterObj$[ebp]

; 2916 : 	int iRefillHP = 0;

  00009	33 f6		 xor	 esi, esi

; 2917 : 
; 2918 : 	if(lpMonsterObj->Live==0)

  0000b	80 7f 51 00	 cmp	 BYTE PTR [edi+81], 0
  0000f	f3 0f 2c 9f d8
	00 00 00	 cvttss2si ebx, DWORD PTR [edi+216]
  00017	0f 84 8a 01 00
	00		 je	 $LN12@gObjRefill

; 2919 : 	{
; 2920 : 		return;
; 2921 : 	}
; 2922 : 
; 2923 : 	if(lpMonsterObj->Class == 275)

  0001d	b8 13 01 00 00	 mov	 eax, 275		; 00000113H
  00022	66 39 87 90 00
	00 00		 cmp	 WORD PTR [edi+144], ax
  00029	0f 85 48 01 00
	00		 jne	 $LN14@gObjRefill

; 2924 : 	{
; 2925 : 		LPOBJ lpObj;
; 2926 : 		if(lpMonsterObj->iObjectSecTimer > giKundunRefillHPTime)

  0002f	8b 87 38 20 00
	00		 mov	 eax, DWORD PTR [edi+8248]
  00035	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?giKundunRefillHPTime@@3HA ; giKundunRefillHPTime
  0003b	7e 5c		 jle	 SHORT $LN4@gObjRefill

; 2927 : 		{
; 2928 : 			iRefillHP = rand() % ((giKundunRefillHP > 0)? giKundunRefillHP : 1) ;

  0003d	e8 00 00 00 00	 call	 _rand
  00042	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?giKundunRefillHP@@3HA ; giKundunRefillHP
  00048	be 01 00 00 00	 mov	 esi, 1
  0004d	85 c9		 test	 ecx, ecx
  0004f	99		 cdq
  00050	f3 0f 10 87 d8
	00 00 00	 movss	 xmm0, DWORD PTR [edi+216]
  00058	0f 4f f1	 cmovg	 esi, ecx

; 2929 : 
; 2930 : 			lpMonsterObj->iObjectSecTimer = 0;

  0005b	c7 87 38 20 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+8248], 0
  00065	f7 fe		 idiv	 esi

; 2931 : 
; 2932 : 			KUNDUN_EVENT_LOG.Output("[KUNDUN] HP Log -> [%d]  [%d]  [%7.0f]HP",

  00067	0f 5a c0	 cvtps2pd xmm0, xmm0
  0006a	83 ec 08	 sub	 esp, 8
  0006d	8b f2		 mov	 esi, edx
  0006f	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00074	ff 35 00 00 00
	00		 push	 DWORD PTR ?giKundunRefillHPTime@@3HA ; giKundunRefillHPTime
  0007a	56		 push	 esi
  0007b	68 00 00 00 00	 push	 OFFSET ??_C@_0DJ@LBLCMLBJ@?$FLKUNDUN?$FN?5HP?5Log?5?9?$DO?5?$FL?$CFd?$FN?H?$LI?$LK?$LJ?5?5?$FL?$CFd@
  00080	68 00 00 00 00	 push	 OFFSET ?KUNDUN_EVENT_LOG@@3VCLogToFile@@A ; KUNDUN_EVENT_LOG
  00085	e8 00 00 00 00	 call	 ?Output@CLogToFile@@QAAXPADZZ ; CLogToFile::Output
  0008a	83 c4 18	 add	 esp, 24			; 00000018H

; 2933 : 				iRefillHP, giKundunRefillHPTime, lpMonsterObj->Life);	// Deathway Translation
; 2934 : 			lpMonsterObj->iObjectSecTimer = 0;

  0008d	c7 87 38 20 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+8248], 0

; 2935 : 		}
; 2936 : 		else

  00097	eb 07		 jmp	 SHORT $LN5@gObjRefill
$LN4@gObjRefill:

; 2937 : 		{
; 2938 : 			lpMonsterObj->iObjectSecTimer++;

  00099	40		 inc	 eax
  0009a	89 87 38 20 00
	00		 mov	 DWORD PTR [edi+8248], eax
$LN5@gObjRefill:

; 2939 : 		}
; 2940 : 
; 2941 : 		if(lpMonsterObj->iObjectSecTimer % giKundunHPLogSaveTime == 0)

  000a0	8b 87 38 20 00
	00		 mov	 eax, DWORD PTR [edi+8248]
  000a6	99		 cdq
  000a7	f7 3d 00 00 00
	00		 idiv	 DWORD PTR ?giKundunHPLogSaveTime@@3HA ; giKundunHPLogSaveTime
  000ad	85 d2		 test	 edx, edx
  000af	0f 85 96 00 00
	00		 jne	 $LN7@gObjRefill

; 2942 : 		{
; 2943 : 			LogAddTD("[KUNDUN][Status Log] HP:%d RefillHP:%d Map:%d X:%d Y:%d",

  000b5	0f b6 87 21 01
	00 00		 movzx	 eax, BYTE PTR [edi+289]
  000bc	50		 push	 eax
  000bd	0f b6 87 20 01
	00 00		 movzx	 eax, BYTE PTR [edi+288]
  000c4	50		 push	 eax
  000c5	0f b6 87 23 01
	00 00		 movzx	 eax, BYTE PTR [edi+291]
  000cc	50		 push	 eax
  000cd	56		 push	 esi
  000ce	53		 push	 ebx
  000cf	68 00 00 00 00	 push	 OFFSET ??_C@_0DI@BCGOHKAP@?$FLKUNDUN?$FN?$FLStatus?5Log?$FN?5HP?3?$CFd?5Refil@
  000d4	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 2944 : 				iMonsterHP,iRefillHP,lpMonsterObj->MapNumber,lpMonsterObj->X,lpMonsterObj->Y);
; 2945 : 			if(gObjIsConnected(lpMonsterObj->LastAttackerID))

  000da	0f bf 87 3e 06
	00 00		 movsx	 eax, WORD PTR [edi+1598]
  000e1	50		 push	 eax
  000e2	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  000e7	83 c4 1c	 add	 esp, 28			; 0000001cH
  000ea	85 c0		 test	 eax, eax
  000ec	74 5d		 je	 SHORT $LN7@gObjRefill

; 2946 : 			{
; 2947 : 				lpObj = &gObj[lpMonsterObj->LastAttackerID];

  000ee	0f bf 87 3e 06
	00 00		 movsx	 eax, WORD PTR [edi+1598]
  000f5	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  000fb	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2948 : 				LogAddTD("[KUNDUN][Attacker Info] [%s][%s] HP:%d MP:%d X:%d Y:%d",

  00101	0f b6 81 21 01
	00 00		 movzx	 eax, BYTE PTR [ecx+289]
  00108	f3 0f 10 81 ec
	00 00 00	 movss	 xmm0, DWORD PTR [ecx+236]
  00110	50		 push	 eax
  00111	0f b6 81 20 01
	00 00		 movzx	 eax, BYTE PTR [ecx+288]
  00118	50		 push	 eax
  00119	0f 5a c0	 cvtps2pd xmm0, xmm0
  0011c	83 ec 10	 sub	 esp, 16			; 00000010H
  0011f	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  00122	f2 0f 11 44 24
	08		 movsd	 QWORD PTR [esp+8], xmm0
  00128	f3 0f 10 81 d8
	00 00 00	 movss	 xmm0, DWORD PTR [ecx+216]
  00130	0f 5a c0	 cvtps2pd xmm0, xmm0
  00133	f2 0f 11 04 24	 movsd	 QWORD PTR [esp], xmm0
  00138	50		 push	 eax
  00139	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  0013c	50		 push	 eax
  0013d	68 00 00 00 00	 push	 OFFSET ??_C@_0DH@PKHNCCG@?$FLKUNDUN?$FN?$FLAttacker?5Info?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN@
  00142	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00148	83 c4 24	 add	 esp, 36			; 00000024H
$LN7@gObjRefill:

; 2949 : 					lpObj->AccountID,lpObj->Name,lpObj->Life,lpObj->Mana,lpObj->X,lpObj->Y);
; 2950 : 			}
; 2951 : 		}
; 2952 : 
; 2953 : 		if(!g_CrywolfSync.GetOccupationState())

  0014b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  00150	e8 00 00 00 00	 call	 ?GetOccupationState@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetOccupationState
  00155	85 c0		 test	 eax, eax
  00157	75 1e		 jne	 SHORT $LN14@gObjRefill

; 2954 : 		{
; 2955 : 			if(g_CrywolfSync.GetKundunHPRefillState()==1)

  00159	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  0015e	e8 00 00 00 00	 call	 ?GetKundunHPRefillState@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetKundunHPRefillState
  00163	83 f8 01	 cmp	 eax, 1
  00166	75 0f		 jne	 SHORT $LN14@gObjRefill

; 2956 : 			{
; 2957 : 				if(g_iCrywolfApplyMvpBenefit!=0)

  00168	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_iCrywolfApplyMvpBenefit@@3HA, 0 ; g_iCrywolfApplyMvpBenefit
  0016f	74 06		 je	 SHORT $LN14@gObjRefill

; 2958 : 				{
; 2959 : 					iRefillHP = 0;

  00171	33 f6		 xor	 esi, esi

; 2960 : 					iRefillHPSec = 0;

  00173	33 c0		 xor	 eax, eax
  00175	eb 03		 jmp	 SHORT $LN10@gObjRefill
$LN14@gObjRefill:
  00177	8b 45 0c	 mov	 eax, DWORD PTR _iRefillHPSec$[ebp]
$LN10@gObjRefill:

; 2961 : 				}
; 2962 : 			}
; 2963 : 		}
; 2964 : 	}
; 2965 : 
; 2966 : 	iMonsterHP = iMonsterHP + iRefillHP + iRefillHPSec;
; 2967 : 
; 2968 : 	if(lpMonsterObj->MaxLife < iMonsterHP)

  0017a	f3 0f 10 87 dc
	00 00 00	 movss	 xmm0, DWORD PTR [edi+220]
  00182	03 c6		 add	 eax, esi
  00184	03 d8		 add	 ebx, eax
  00186	66 0f 6e cb	 movd	 xmm1, ebx
  0018a	0f 5b c9	 cvtdq2ps xmm1, xmm1
  0018d	0f 2f c8	 comiss	 xmm1, xmm0
  00190	76 0d		 jbe	 SHORT $LN11@gObjRefill

; 2969 : 	{
; 2970 : 		lpMonsterObj->Life = lpMonsterObj->MaxLife;

  00192	f3 0f 11 87 d8
	00 00 00	 movss	 DWORD PTR [edi+216], xmm0
  0019a	5f		 pop	 edi
  0019b	5e		 pop	 esi
  0019c	5b		 pop	 ebx

; 2975 : 	}
; 2976 : }

  0019d	5d		 pop	 ebp
  0019e	c3		 ret	 0
$LN11@gObjRefill:

; 2971 : 	}
; 2972 : 	else
; 2973 : 	{
; 2974 : 		lpMonsterObj->Life = (float)iMonsterHP;

  0019f	f3 0f 11 8f d8
	00 00 00	 movss	 DWORD PTR [edi+216], xmm1
$LN12@gObjRefill:
  001a7	5f		 pop	 edi
  001a8	5e		 pop	 esi
  001a9	5b		 pop	 ebx

; 2975 : 	}
; 2976 : }

  001aa	5d		 pop	 ebp
  001ab	c3		 ret	 0
?gObjRefillMonsterHP@@YAXPAUOBJECTSTRUCT@@H@Z ENDP	; gObjRefillMonsterHP
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?IsCanNotItemDtopInDevilSquare@@YAHH@Z
_TEXT	SEGMENT
_ItemType$ = 8						; size = 4
?IsCanNotItemDtopInDevilSquare@@YAHH@Z PROC		; IsCanNotItemDtopInDevilSquare, COMDAT

; 2876 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 2877 : 	int checkitemtype = ItemType  /MAX_SUBTYPE_ITEMS;

  00004	8b 75 08	 mov	 esi, DWORD PTR _ItemType$[ebp]
  00007	8b c6		 mov	 eax, esi
  00009	99		 cdq
  0000a	81 e2 ff 01 00
	00		 and	 edx, 511		; 000001ffH
  00010	03 c2		 add	 eax, edx

; 2878 : 	int checkitemindex = ItemType % MAX_SUBTYPE_ITEMS;

  00012	8b d6		 mov	 edx, esi
  00014	c1 f8 09	 sar	 eax, 9
  00017	81 e2 ff 01 00
	80		 and	 edx, -2147483137	; 800001ffH
  0001d	79 08		 jns	 SHORT $LN17@IsCanNotIt
  0001f	4a		 dec	 edx
  00020	81 ca 00 fe ff
	ff		 or	 edx, -512		; fffffe00H
  00026	42		 inc	 edx
$LN17@IsCanNotIt:

; 2879 : 
; 2880 : 	if ( checkitemtype >= 7 && checkitemtype <= 11 )

  00027	8d 48 f9	 lea	 ecx, DWORD PTR [eax-7]
  0002a	83 f9 04	 cmp	 ecx, 4
  0002d	76 2b		 jbe	 SHORT $LN18@IsCanNotIt

; 2881 : 	{
; 2882 : 		if (checkitemindex== 17 ||checkitemindex == 18||checkitemindex== 19 )
; 2883 : 		{
; 2884 : 			return FALSE;
; 2885 : 		}
; 2886 : 	}
; 2887 : 	else if ( checkitemtype == 0 )

  0002f	85 c0		 test	 eax, eax
  00031	75 0f		 jne	 SHORT $LN6@IsCanNotIt

; 2888 : 	{
; 2889 : 		if (checkitemindex == 17 || checkitemindex == 18)

  00033	83 fa 11	 cmp	 edx, 17			; 00000011H
  00036	74 05		 je	 SHORT $LN15@IsCanNotIt
  00038	83 fa 12	 cmp	 edx, 18			; 00000012H
$LN19@IsCanNotIt:

; 2895 : 	{
; 2896 : 		if (checkitemindex== 12 || checkitemindex == 13 || checkitemindex == 14||
; 2897 : 	checkitemindex == 16 || checkitemindex == 17 || checkitemindex == 18||

  0003b	75 3c		 jne	 SHORT $LN14@IsCanNotIt
$LN15@IsCanNotIt:

; 2904 : 	{
; 2905 : 		return FALSE;

  0003d	33 c0		 xor	 eax, eax
  0003f	5e		 pop	 esi

; 2909 : 
; 2910 : }

  00040	5d		 pop	 ebp
  00041	c3		 ret	 0
$LN6@IsCanNotIt:

; 2890 : 		{
; 2891 : 			return FALSE;
; 2892 : 		}
; 2893 : 	}
; 2894 : 	else if (checkitemtype == 12 )

  00042	83 f8 0c	 cmp	 eax, 12			; 0000000cH
  00045	75 22		 jne	 SHORT $LN10@IsCanNotIt

; 2895 : 	{
; 2896 : 		if (checkitemindex== 12 || checkitemindex == 13 || checkitemindex == 14||
; 2897 : 	checkitemindex == 16 || checkitemindex == 17 || checkitemindex == 18||

  00047	3b d0		 cmp	 edx, eax
  00049	74 f2		 je	 SHORT $LN15@IsCanNotIt
  0004b	83 fa 0d	 cmp	 edx, 13			; 0000000dH
  0004e	74 ed		 je	 SHORT $LN15@IsCanNotIt
  00050	83 fa 0e	 cmp	 edx, 14			; 0000000eH
  00053	74 e8		 je	 SHORT $LN15@IsCanNotIt
  00055	83 fa 10	 cmp	 edx, 16			; 00000010H
  00058	74 e3		 je	 SHORT $LN15@IsCanNotIt
$LN18@IsCanNotIt:
  0005a	83 fa 11	 cmp	 edx, 17			; 00000011H
  0005d	74 de		 je	 SHORT $LN15@IsCanNotIt
  0005f	83 fa 12	 cmp	 edx, 18			; 00000012H
  00062	74 d9		 je	 SHORT $LN15@IsCanNotIt
  00064	83 fa 13	 cmp	 edx, 19			; 00000013H

; 2898 : 	checkitemindex == 19)
; 2899 : 		{
; 2900 : 			return FALSE;

  00067	eb d2		 jmp	 SHORT $LN19@IsCanNotIt
$LN10@IsCanNotIt:

; 2901 : 		}
; 2902 : 	}
; 2903 : 	else if ( ItemType == ITEMGET(4,17) || ItemType ==ITEMGET(5,9)  )

  00069	81 fe 11 08 00
	00		 cmp	 esi, 2065		; 00000811H
  0006f	74 cc		 je	 SHORT $LN15@IsCanNotIt
  00071	81 fe 09 0a 00
	00		 cmp	 esi, 2569		; 00000a09H
  00077	74 c4		 je	 SHORT $LN15@IsCanNotIt
$LN14@IsCanNotIt:

; 2906 : 	}
; 2907 : 
; 2908 : 	return TRUE;

  00079	b8 01 00 00 00	 mov	 eax, 1
  0007e	5e		 pop	 esi

; 2909 : 
; 2910 : }

  0007f	5d		 pop	 ebp
  00080	c3		 ret	 0
?IsCanNotItemDtopInDevilSquare@@YAHH@Z ENDP		; IsCanNotItemDtopInDevilSquare
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjSkylandBossSheildAttack@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
tv301 = -4						; size = 4
tv307 = 8						; size = 4
_lpObj$ = 8						; size = 4
?gObjSkylandBossSheildAttack@@YAXPAUOBJECTSTRUCT@@@Z PROC ; gObjSkylandBossSheildAttack, COMDAT

; 2817 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	56		 push	 esi

; 2818 : 	if ( lpObj->VPCount2 < 1 ) 

  00005	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00008	83 be d0 0f 00
	00 01		 cmp	 DWORD PTR [esi+4048], 1
  0000f	0f 8c 05 01 00
	00		 jl	 $LN16@gObjSkylan

; 2819 : 		return;
; 2820 : 
; 2821 : 	if ( lpObj->m_SkyBossMonSheildLinkIndex == -1 )

  00015	8b 86 58 14 00
	00		 mov	 eax, DWORD PTR [esi+5208]
  0001b	83 f8 ff	 cmp	 eax, -1
  0001e	0f 84 f6 00 00
	00		 je	 $LN16@gObjSkylan

; 2822 : 		return;
; 2823 : 
; 2824 : 	if ( lpObj->m_SkyBossMonSheild == 0 )

  00024	83 be 5c 14 00
	00 00		 cmp	 DWORD PTR [esi+5212], 0
  0002b	0f 84 e9 00 00
	00		 je	 $LN16@gObjSkylan

; 2825 : 		return;
; 2826 : 
; 2827 : 	lpObj->TargetNumber = -1;

  00031	83 c9 ff	 or	 ecx, -1
  00034	0f 57 c0	 xorps	 xmm0, xmm0
  00037	66 89 8e 38 06
	00 00		 mov	 WORD PTR [esi+1592], cx

; 2828 : 
; 2829 : 	int tObjNum;
; 2830 : 	int shieldindex = lpObj->m_SkyBossMonSheildLinkIndex;
; 2831 : 
; 2832 : 	if ( gObj[shieldindex].Life < 0.0f )

  0003e	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  00044	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00049	0f 2f 84 01 d8
	00 00 00	 comiss	 xmm0, DWORD PTR [ecx+eax+216]
  00051	0f 87 c3 00 00
	00		 ja	 $LN16@gObjSkylan

; 2833 : 		return;
; 2834 : 
; 2835 : 	if ( lpObj->m_AttackRange > 0 )

  00057	66 83 be 90 06
	00 00 00	 cmp	 WORD PTR [esi+1680], 0
  0005f	0f 8e 86 00 00
	00		 jle	 $LN3@gObjSkylan

; 2836 : 	{
; 2837 : 		for (int i=0;i<MAX_VIEWPORT_MONSTER;i++)

  00065	53		 push	 ebx
  00066	8d 9e 4a 0c 00
	00		 lea	 ebx, DWORD PTR [esi+3146]
  0006c	b8 4b 00 00 00	 mov	 eax, 75			; 0000004bH
  00071	57		 push	 edi
  00072	89 5d fc	 mov	 DWORD PTR tv301[ebp], ebx
  00075	89 45 08	 mov	 DWORD PTR tv307[ebp], eax
$LL4@gObjSkylan:

; 2838 : 		{
; 2839 : 			tObjNum = lpObj->VpPlayer2[i].number;

  00078	0f bf 1b	 movsx	 ebx, WORD PTR [ebx]

; 2840 : 
; 2841 : 			if ( tObjNum >= 0 )

  0007b	85 db		 test	 ebx, ebx
  0007d	78 59		 js	 SHORT $LN2@gObjSkylan

; 2842 : 			{
; 2843 : 				if ( gObj[tObjNum].Type == OBJ_USER )

  0007f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00085	69 fb 40 27 00
	00		 imul	 edi, ebx, 10048
  0008b	80 7c 0f 50 01	 cmp	 BYTE PTR [edi+ecx+80], 1
  00090	75 46		 jne	 SHORT $LN2@gObjSkylan

; 2844 : 				{
; 2845 : 					if ( gObj[tObjNum].Live )

  00092	80 7c 0f 51 00	 cmp	 BYTE PTR [edi+ecx+81], 0
  00097	74 3f		 je	 SHORT $LN2@gObjSkylan

; 2846 : 					{
; 2847 : 						if ( gObjCheckTileArea(gObj[tObjNum].m_Index, lpObj->X, lpObj->Y, 2) )

  00099	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  000a0	6a 02		 push	 2
  000a2	50		 push	 eax
  000a3	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  000aa	50		 push	 eax
  000ab	ff 34 0f	 push	 DWORD PTR [edi+ecx]
  000ae	e8 00 00 00 00	 call	 ?gObjCheckTileArea@@YAHHHHH@Z ; gObjCheckTileArea
  000b3	83 c4 10	 add	 esp, 16			; 00000010H
  000b6	85 c0		 test	 eax, eax
  000b8	74 1b		 je	 SHORT $LN24@gObjSkylan

; 2848 : 						{
; 2849 : 							if ( (gObj[tObjNum].Authority&2) != 2 )

  000ba	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000bf	f6 84 07 bc 01
	00 00 02	 test	 BYTE PTR [edi+eax+444], 2
  000c7	8b 45 08	 mov	 eax, DWORD PTR tv307[ebp]
  000ca	75 0c		 jne	 SHORT $LN2@gObjSkylan

; 2850 : 							{
; 2851 : 								lpObj->TargetNumber = tObjNum;

  000cc	66 89 9e 38 06
	00 00		 mov	 WORD PTR [esi+1592], bx
  000d3	eb 03		 jmp	 SHORT $LN2@gObjSkylan
$LN24@gObjSkylan:
  000d5	8b 45 08	 mov	 eax, DWORD PTR tv307[ebp]
$LN2@gObjSkylan:

; 2836 : 	{
; 2837 : 		for (int i=0;i<MAX_VIEWPORT_MONSTER;i++)

  000d8	8b 5d fc	 mov	 ebx, DWORD PTR tv301[ebp]
  000db	83 c3 0c	 add	 ebx, 12			; 0000000cH
  000de	83 e8 01	 sub	 eax, 1
  000e1	89 5d fc	 mov	 DWORD PTR tv301[ebp], ebx
  000e4	89 45 08	 mov	 DWORD PTR tv307[ebp], eax
  000e7	75 8f		 jne	 SHORT $LL4@gObjSkylan
  000e9	5f		 pop	 edi
  000ea	5b		 pop	 ebx
$LN3@gObjSkylan:

; 2852 : 							}
; 2853 : 						}
; 2854 : 					}
; 2855 : 				}
; 2856 : 			}
; 2857 : 		}
; 2858 : 	}
; 2859 : 	
; 2860 : 	if ( lpObj->TargetNumber >= 0 )

  000eb	66 83 be 38 06
	00 00 00	 cmp	 WORD PTR [esi+1592], 0
  000f3	7c 18		 jl	 SHORT $LN15@gObjSkylan

; 2861 : 	{
; 2862 : 		lpObj->m_ActState.Attack = 1;
; 2863 : 		lpObj->NextActionTime = lpObj->m_AttackSpeed;

  000f5	8b 86 6c 06 00
	00		 mov	 eax, DWORD PTR [esi+1644]
  000fb	83 8e c8 01 00
	00 02		 or	 DWORD PTR [esi+456], 2

; 2864 : 	}
; 2865 : 	else
; 2866 : 	{
; 2867 : 		lpObj->NextActionTime = lpObj->m_MoveSpeed;

  00102	89 86 a0 05 00
	00		 mov	 DWORD PTR [esi+1440], eax
  00108	5e		 pop	 esi

; 2868 : 	}
; 2869 : }

  00109	8b e5		 mov	 esp, ebp
  0010b	5d		 pop	 ebp
  0010c	c3		 ret	 0
$LN15@gObjSkylan:

; 2864 : 	}
; 2865 : 	else
; 2866 : 	{
; 2867 : 		lpObj->NextActionTime = lpObj->m_MoveSpeed;

  0010d	0f bf 86 8c 06
	00 00		 movsx	 eax, WORD PTR [esi+1676]
  00114	89 86 a0 05 00
	00		 mov	 DWORD PTR [esi+1440], eax
$LN16@gObjSkylan:
  0011a	5e		 pop	 esi

; 2868 : 	}
; 2869 : }

  0011b	8b e5		 mov	 esp, ebp
  0011d	5d		 pop	 ebp
  0011e	c3		 ret	 0
?gObjSkylandBossSheildAttack@@YAXPAUOBJECTSTRUCT@@@Z ENDP ; gObjSkylandBossSheildAttack
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?NewOptionRand@@YAEH@Z
_TEXT	SEGMENT
_level$ = 8						; size = 4
?NewOptionRand@@YAEH@Z PROC				; NewOptionRand, COMDAT

; 2796 : {

  00000	53		 push	 ebx
  00001	56		 push	 esi

; 2797 : 	BYTE NOption = 0;
; 2798 : 	NOption = 1 << (rand() % 6);

  00002	e8 00 00 00 00	 call	 _rand
  00007	99		 cdq
  00008	be 06 00 00 00	 mov	 esi, 6
  0000d	f7 fe		 idiv	 esi
  0000f	b3 01		 mov	 bl, 1
  00011	8b ca		 mov	 ecx, edx
  00013	d2 e3		 shl	 bl, cl

; 2799 : 
; 2800 : 	if ( (NOption &2) != 0 )

  00015	f6 c3 02	 test	 bl, 2
  00018	74 21		 je	 SHORT $LN3@NewOptionR

; 2801 : 	{
; 2802 : 		if ( (rand()%2) != 0 )

  0001a	e8 00 00 00 00	 call	 _rand
  0001f	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00024	79 05		 jns	 SHORT $LN7@NewOptionR
  00026	48		 dec	 eax
  00027	83 c8 fe	 or	 eax, -2			; fffffffeH
  0002a	40		 inc	 eax
$LN7@NewOptionR:
  0002b	74 0e		 je	 SHORT $LN3@NewOptionR

; 2803 : 		{
; 2804 : 			NOption = 1 << (rand()%6);

  0002d	e8 00 00 00 00	 call	 _rand
  00032	99		 cdq
  00033	b3 01		 mov	 bl, 1
  00035	f7 fe		 idiv	 esi
  00037	8b ca		 mov	 ecx, edx
  00039	d2 e3		 shl	 bl, cl
$LN3@NewOptionR:

; 2805 : 		}
; 2806 : 	}
; 2807 : 
; 2808 : 	if ( (rand()% 4) == 0 )

  0003b	e8 00 00 00 00	 call	 _rand
  00040	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  00045	79 05		 jns	 SHORT $LN8@NewOptionR
  00047	48		 dec	 eax
  00048	83 c8 fc	 or	 eax, -4			; fffffffcH
  0004b	40		 inc	 eax
$LN8@NewOptionR:
  0004c	75 0e		 jne	 SHORT $LN6@NewOptionR

; 2809 : 	{
; 2810 : 		NOption |= 1 << (rand()%6);

  0004e	0f b6 db	 movzx	 ebx, bl
  00051	e8 00 00 00 00	 call	 _rand
  00056	99		 cdq
  00057	f7 fe		 idiv	 esi
  00059	0f ab d3	 bts	 ebx, edx
$LN6@NewOptionR:

; 2811 : 	}
; 2812 : 
; 2813 : 	return NOption;

  0005c	5e		 pop	 esi
  0005d	8a c3		 mov	 al, bl
  0005f	5b		 pop	 ebx

; 2814 : }

  00060	c3		 ret	 0
?NewOptionRand@@YAEH@Z ENDP				; NewOptionRand
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterTrapAct@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
?gObjMonsterTrapAct@@YAXPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterTrapAct, COMDAT

; 2755 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 2756 : 	if(lpObj->VPCount2 < 1)

  00004	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00007	83 be d0 0f 00
	00 01		 cmp	 DWORD PTR [esi+4048], 1
  0000e	0f 8c 80 00 00
	00		 jl	 $LN11@gObjMonste

; 2757 : 	{
; 2758 : 		return;
; 2759 : 	}
; 2760 : 
; 2761 : 	if(lpObj->m_AttackRange > 0)

  00014	0f b7 86 90 06
	00 00		 movzx	 eax, WORD PTR [esi+1680]
  0001b	66 85 c0	 test	 ax, ax
  0001e	7e 3e		 jle	 SHORT $LN3@gObjMonste

; 2762 : 	{
; 2763 : 		if(lpObj->Dir == 3)

  00020	8a 8e 22 01 00
	00		 mov	 cl, BYTE PTR [esi+290]
  00026	80 f9 03	 cmp	 cl, 3
  00029	75 0e		 jne	 SHORT $LN5@gObjMonste

; 2764 : 		{
; 2765 : 			gObjTrapAttackEnemySearchX(lpObj,lpObj->m_AttackRange+1);

  0002b	98		 cwde
  0002c	40		 inc	 eax
  0002d	50		 push	 eax
  0002e	56		 push	 esi
  0002f	e8 00 00 00 00	 call	 ?gObjTrapAttackEnemySearchX@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjTrapAttackEnemySearchX
  00034	83 c4 08	 add	 esp, 8
  00037	eb 2e		 jmp	 SHORT $LN4@gObjMonste
$LN5@gObjMonste:

; 2766 : 		}
; 2767 : 		else if(lpObj->Dir == 1)

  00039	80 f9 01	 cmp	 cl, 1
  0003c	75 0e		 jne	 SHORT $LN7@gObjMonste

; 2768 : 		{
; 2769 : 			gObjTrapAttackEnemySearchY(lpObj,lpObj->m_AttackRange+1);

  0003e	98		 cwde
  0003f	40		 inc	 eax
  00040	50		 push	 eax
  00041	56		 push	 esi
  00042	e8 00 00 00 00	 call	 ?gObjTrapAttackEnemySearchY@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjTrapAttackEnemySearchY
  00047	83 c4 08	 add	 esp, 8
  0004a	eb 1b		 jmp	 SHORT $LN4@gObjMonste
$LN7@gObjMonste:

; 2770 : 		}
; 2771 : 		else if(lpObj->Dir == 8)

  0004c	80 f9 08	 cmp	 cl, 8
  0004f	75 16		 jne	 SHORT $LN4@gObjMonste

; 2772 : 		{
; 2773 : 			gObjTrapAttackEnemySearchRange(lpObj,lpObj->m_AttackRange);

  00051	98		 cwde
  00052	50		 push	 eax
  00053	56		 push	 esi
  00054	e8 00 00 00 00	 call	 ?gObjTrapAttackEnemySearchRange@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjTrapAttackEnemySearchRange
  00059	83 c4 08	 add	 esp, 8

; 2774 : 		}
; 2775 : 	}
; 2776 : 	else

  0005c	eb 09		 jmp	 SHORT $LN4@gObjMonste
$LN3@gObjMonste:

; 2777 : 	{
; 2778 : 		gObjTrapAttackEnemySearch(lpObj);

  0005e	56		 push	 esi
  0005f	e8 00 00 00 00	 call	 ?gObjTrapAttackEnemySearch@@YAXPAUOBJECTSTRUCT@@@Z ; gObjTrapAttackEnemySearch
  00064	83 c4 04	 add	 esp, 4
$LN4@gObjMonste:

; 2779 : 	}
; 2780 : 
; 2781 : 	if(lpObj->TargetNumber >= 0)

  00067	66 83 be 38 06
	00 00 00	 cmp	 WORD PTR [esi+1592], 0
  0006f	7c 16		 jl	 SHORT $LN10@gObjMonste

; 2782 : 	{
; 2783 : 		lpObj->m_ActState.Attack = 1;
; 2784 : 		lpObj->NextActionTime = lpObj->m_AttackSpeed;

  00071	8b 86 6c 06 00
	00		 mov	 eax, DWORD PTR [esi+1644]
  00077	83 8e c8 01 00
	00 02		 or	 DWORD PTR [esi+456], 2

; 2785 : 	}
; 2786 : 	else
; 2787 : 	{
; 2788 : 		lpObj->NextActionTime = lpObj->m_MoveSpeed;

  0007e	89 86 a0 05 00
	00		 mov	 DWORD PTR [esi+1440], eax
  00084	5e		 pop	 esi

; 2789 : 	}
; 2790 : }

  00085	5d		 pop	 ebp
  00086	c3		 ret	 0
$LN10@gObjMonste:

; 2785 : 	}
; 2786 : 	else
; 2787 : 	{
; 2788 : 		lpObj->NextActionTime = lpObj->m_MoveSpeed;

  00087	0f bf 86 8c 06
	00 00		 movsx	 eax, WORD PTR [esi+1676]
  0008e	89 86 a0 05 00
	00		 mov	 DWORD PTR [esi+1440], eax
$LN11@gObjMonste:
  00094	5e		 pop	 esi

; 2789 : 	}
; 2790 : }

  00095	5d		 pop	 ebp
  00096	c3		 ret	 0
?gObjMonsterTrapAct@@YAXPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterTrapAct
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjTrapAttackEnemySearchRange@@YAXPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
_iTargetingRate$1$ = -12				; size = 4
tv273 = -8						; size = 4
tv271 = -8						; size = 4
tv274 = -4						; size = 4
tv272 = -4						; size = 4
_lpObj$ = 8						; size = 4
_iRange$ = 12						; size = 4
?gObjTrapAttackEnemySearchRange@@YAXPAUOBJECTSTRUCT@@H@Z PROC ; gObjTrapAttackEnemySearchRange, COMDAT

; 2704 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH

; 2705 : 	int tObjNum = -1;
; 2706 : 	int iTargetingRate = 0;
; 2707 : 	int iSuccessRate = 0;
; 2708 : 
; 2709 : 	lpObj->TargetNumber = -1;

  00006	83 c8 ff	 or	 eax, -1
  00009	53		 push	 ebx
  0000a	8b 5d 08	 mov	 ebx, DWORD PTR _lpObj$[ebp]

; 2710 : 
; 2711 : 	if(lpObj->VPCount <= 0)

  0000d	8b 8b cc 0f 00
	00		 mov	 ecx, DWORD PTR [ebx+4044]
  00013	66 89 83 38 06
	00 00		 mov	 WORD PTR [ebx+1592], ax
  0001a	85 c9		 test	 ecx, ecx
  0001c	0f 8e c3 00 00
	00		 jle	 $LN19@gObjTrapAt

; 2712 : 	{
; 2713 : 		return;
; 2714 : 	}
; 2715 : 
; 2716 : 	iTargetingRate = 100 / lpObj->VPCount;

  00022	b8 64 00 00 00	 mov	 eax, 100		; 00000064H
  00027	99		 cdq
  00028	f7 f9		 idiv	 ecx
  0002a	56		 push	 esi
  0002b	57		 push	 edi
  0002c	89 45 f4	 mov	 DWORD PTR _iTargetingRate$1$[ebp], eax
  0002f	8d bb 4a 0c 00
	00		 lea	 edi, DWORD PTR [ebx+3146]

; 2717 : 
; 2718 : 	for(int i = 0; i < MAX_VIEWPORT_MONSTER;i++)

  00035	33 f6		 xor	 esi, esi
  00037	66 0f 1f 84 00
	00 00 00 00	 npad	 9
$LL4@gObjTrapAt:

; 2719 : 	{
; 2720 : 		tObjNum = lpObj->VpPlayer2[i].number;

  00040	0f bf 17	 movsx	 edx, WORD PTR [edi]

; 2721 : 
; 2722 : 		if(tObjNum >= 0)

  00043	85 d2		 test	 edx, edx
  00045	0f 88 8b 00 00
	00		 js	 $LN2@gObjTrapAt

; 2723 : 		{
; 2724 : 			if(gObj[tObjNum].Type==1)

  0004b	69 ca 40 27 00
	00		 imul	 ecx, edx, 10048
  00051	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00057	80 79 50 01	 cmp	 BYTE PTR [ecx+80], 1
  0005b	75 79		 jne	 SHORT $LN2@gObjTrapAt

; 2725 : 			{
; 2726 : 				if(gObj[tObjNum].Live)

  0005d	80 79 51 00	 cmp	 BYTE PTR [ecx+81], 0
  00061	74 73		 je	 SHORT $LN2@gObjTrapAt

; 2727 : 				{
; 2728 : 					if((lpObj->Y - iRange) <= gObj[tObjNum].Y && (lpObj->Y + iRange) >= gObj[tObjNum].Y)

  00063	0f b6 81 21 01
	00 00		 movzx	 eax, BYTE PTR [ecx+289]
  0006a	89 45 fc	 mov	 DWORD PTR tv274[ebp], eax
  0006d	0f b6 83 21 01
	00 00		 movzx	 eax, BYTE PTR [ebx+289]
  00074	8b 5d 08	 mov	 ebx, DWORD PTR _lpObj$[ebp]
  00077	89 45 f8	 mov	 DWORD PTR tv273[ebp], eax
  0007a	2b 45 0c	 sub	 eax, DWORD PTR _iRange$[ebp]
  0007d	3b 45 fc	 cmp	 eax, DWORD PTR tv274[ebp]
  00080	7f 54		 jg	 SHORT $LN2@gObjTrapAt
  00082	8b 45 f8	 mov	 eax, DWORD PTR tv273[ebp]
  00085	03 45 0c	 add	 eax, DWORD PTR _iRange$[ebp]
  00088	3b 45 fc	 cmp	 eax, DWORD PTR tv274[ebp]
  0008b	7c 49		 jl	 SHORT $LN2@gObjTrapAt

; 2729 : 					{
; 2730 : 						if((lpObj->X - iRange) <= gObj[tObjNum].X && (lpObj->X + iRange) >= gObj[tObjNum].X)

  0008d	0f b6 81 20 01
	00 00		 movzx	 eax, BYTE PTR [ecx+288]
  00094	89 45 fc	 mov	 DWORD PTR tv272[ebp], eax
  00097	0f b6 83 20 01
	00 00		 movzx	 eax, BYTE PTR [ebx+288]
  0009e	89 45 f8	 mov	 DWORD PTR tv271[ebp], eax
  000a1	2b 45 0c	 sub	 eax, DWORD PTR _iRange$[ebp]
  000a4	3b 45 fc	 cmp	 eax, DWORD PTR tv272[ebp]
  000a7	7f 2d		 jg	 SHORT $LN2@gObjTrapAt
  000a9	8b 45 f8	 mov	 eax, DWORD PTR tv271[ebp]
  000ac	03 45 0c	 add	 eax, DWORD PTR _iRange$[ebp]
  000af	3b 45 fc	 cmp	 eax, DWORD PTR tv272[ebp]
  000b2	7c 22		 jl	 SHORT $LN2@gObjTrapAt

; 2731 : 						{
; 2732 : 							if((gObj[tObjNum].Authority&2)!=2)

  000b4	f6 81 bc 01 00
	00 02		 test	 BYTE PTR [ecx+444], 2
  000bb	75 19		 jne	 SHORT $LN2@gObjTrapAt

; 2733 : 							{
; 2734 : 								lpObj->TargetNumber = tObjNum;

  000bd	66 89 93 38 06
	00 00		 mov	 WORD PTR [ebx+1592], dx

; 2735 : 								iSuccessRate = rand()%100;

  000c4	e8 00 00 00 00	 call	 _rand
  000c9	99		 cdq
  000ca	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  000cf	f7 f9		 idiv	 ecx

; 2736 : 
; 2737 : 								if(iSuccessRate < iTargetingRate)

  000d1	3b 55 f4	 cmp	 edx, DWORD PTR _iTargetingRate$1$[ebp]
  000d4	7c 0d		 jl	 SHORT $LN20@gObjTrapAt
$LN2@gObjTrapAt:

; 2717 : 
; 2718 : 	for(int i = 0; i < MAX_VIEWPORT_MONSTER;i++)

  000d6	46		 inc	 esi
  000d7	83 c7 0c	 add	 edi, 12			; 0000000cH
  000da	83 fe 4b	 cmp	 esi, 75			; 0000004bH
  000dd	0f 8c 5d ff ff
	ff		 jl	 $LL4@gObjTrapAt
$LN20@gObjTrapAt:
  000e3	5f		 pop	 edi
  000e4	5e		 pop	 esi
$LN19@gObjTrapAt:
  000e5	5b		 pop	 ebx

; 2738 : 								{
; 2739 : 									break;
; 2740 : 								}
; 2741 : 							}
; 2742 : 						}
; 2743 : 					}
; 2744 : 				}
; 2745 : 			}
; 2746 : 		}
; 2747 : 	}
; 2748 : }

  000e6	8b e5		 mov	 esp, ebp
  000e8	5d		 pop	 ebp
  000e9	c3		 ret	 0
?gObjTrapAttackEnemySearchRange@@YAXPAUOBJECTSTRUCT@@H@Z ENDP ; gObjTrapAttackEnemySearchRange
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjTrapAttackEnemySearch@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
?gObjTrapAttackEnemySearch@@YAXPAUOBJECTSTRUCT@@@Z PROC	; gObjTrapAttackEnemySearch, COMDAT

; 2668 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx

; 2669 : 	int tObjNum;
; 2670 : 	lpObj->TargetNumber = -1;

  00004	8b 5d 08	 mov	 ebx, DWORD PTR _lpObj$[ebp]
  00007	83 c8 ff	 or	 eax, -1
  0000a	56		 push	 esi
  0000b	57		 push	 edi

; 2671 : 
; 2672 : 	for(int i = 0; i < MAX_VIEWPORT_MONSTER;i++)

  0000c	33 d2		 xor	 edx, edx
  0000e	66 89 83 38 06
	00 00		 mov	 WORD PTR [ebx+1592], ax
  00015	8d b3 4a 0c 00
	00		 lea	 esi, DWORD PTR [ebx+3146]
  0001b	0f 1f 44 00 00	 npad	 5
$LL4@gObjTrapAt:

; 2673 : 	{
; 2674 : 		tObjNum = lpObj->VpPlayer2[i].number;

  00020	0f bf 3e	 movsx	 edi, WORD PTR [esi]

; 2675 : 
; 2676 : 		if(tObjNum >= 0)

  00023	85 ff		 test	 edi, edi
  00025	78 3f		 js	 SHORT $LN2@gObjTrapAt

; 2677 : 		{
; 2678 : 			if(gObj[tObjNum].Type==1)

  00027	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0002d	69 c7 40 27 00
	00		 imul	 eax, edi, 10048
  00033	03 c8		 add	 ecx, eax
  00035	80 79 50 01	 cmp	 BYTE PTR [ecx+80], 1
  00039	75 2b		 jne	 SHORT $LN2@gObjTrapAt

; 2679 : 			{
; 2680 : 				if(gObj[tObjNum].Live)

  0003b	80 79 51 00	 cmp	 BYTE PTR [ecx+81], 0
  0003f	74 25		 je	 SHORT $LN2@gObjTrapAt

; 2681 : 				{
; 2682 : 					if(lpObj->Y == gObj[tObjNum].Y)

  00041	8a 83 21 01 00
	00		 mov	 al, BYTE PTR [ebx+289]
  00047	3a 81 21 01 00
	00		 cmp	 al, BYTE PTR [ecx+289]
  0004d	75 17		 jne	 SHORT $LN2@gObjTrapAt

; 2683 : 					{
; 2684 : 						if(lpObj->X == gObj[tObjNum].X)

  0004f	8a 83 20 01 00
	00		 mov	 al, BYTE PTR [ebx+288]
  00055	3a 81 20 01 00
	00		 cmp	 al, BYTE PTR [ecx+288]
  0005b	75 09		 jne	 SHORT $LN2@gObjTrapAt

; 2685 : 						{
; 2686 : 							if((gObj[tObjNum].Authority&2)!=2)

  0005d	f6 81 bc 01 00
	00 02		 test	 BYTE PTR [ecx+444], 2
  00064	74 0e		 je	 SHORT $LN13@gObjTrapAt
$LN2@gObjTrapAt:

; 2671 : 
; 2672 : 	for(int i = 0; i < MAX_VIEWPORT_MONSTER;i++)

  00066	42		 inc	 edx
  00067	83 c6 0c	 add	 esi, 12			; 0000000cH
  0006a	83 fa 4b	 cmp	 edx, 75			; 0000004bH
  0006d	7c b1		 jl	 SHORT $LL4@gObjTrapAt
  0006f	5f		 pop	 edi
  00070	5e		 pop	 esi
  00071	5b		 pop	 ebx

; 2689 : 								return;
; 2690 : 							}
; 2691 : 						}
; 2692 : 					}
; 2693 : 				}
; 2694 : 			}
; 2695 : 		}
; 2696 : 	}
; 2697 : }

  00072	5d		 pop	 ebp
  00073	c3		 ret	 0
$LN13@gObjTrapAt:

; 2687 : 							{
; 2688 : 								lpObj->TargetNumber = tObjNum;

  00074	66 89 bb 38 06
	00 00		 mov	 WORD PTR [ebx+1592], di
  0007b	5f		 pop	 edi
  0007c	5e		 pop	 esi
  0007d	5b		 pop	 ebx

; 2689 : 								return;
; 2690 : 							}
; 2691 : 						}
; 2692 : 					}
; 2693 : 				}
; 2694 : 			}
; 2695 : 		}
; 2696 : 	}
; 2697 : }

  0007e	5d		 pop	 ebp
  0007f	c3		 ret	 0
?gObjTrapAttackEnemySearch@@YAXPAUOBJECTSTRUCT@@@Z ENDP	; gObjTrapAttackEnemySearch
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjTrapAttackEnemySearchY@@YAXPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
tv251 = -12						; size = 4
_x$1$ = -8						; size = 4
_n$1$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_count$ = 12						; size = 4
?gObjTrapAttackEnemySearchY@@YAXPAUOBJECTSTRUCT@@H@Z PROC ; gObjTrapAttackEnemySearchY, COMDAT

; 2626 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH

; 2627 : 	lpObj->TargetNumber = -1;

  00006	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00009	83 c8 ff	 or	 eax, -1

; 2628 : 	int tObjNum;
; 2629 : 	int pos = lpObj->Y;
; 2630 : 	int x = lpObj->X;
; 2631 : 
; 2632 : 	for(int n =0;n<count;n++)

  0000c	83 7d 0c 00	 cmp	 DWORD PTR _count$[ebp], 0
  00010	53		 push	 ebx
  00011	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _n$1$[ebp], 0
  00018	0f b6 99 21 01
	00 00		 movzx	 ebx, BYTE PTR [ecx+289]
  0001f	66 89 81 38 06
	00 00		 mov	 WORD PTR [ecx+1592], ax
  00026	0f b6 81 20 01
	00 00		 movzx	 eax, BYTE PTR [ecx+288]
  0002d	89 45 f8	 mov	 DWORD PTR _x$1$[ebp], eax
  00030	0f 8e 86 00 00
	00		 jle	 $LN25@gObjTrapAt
  00036	8d 81 4a 0c 00
	00		 lea	 eax, DWORD PTR [ecx+3146]
  0003c	56		 push	 esi
  0003d	89 45 f4	 mov	 DWORD PTR tv251[ebp], eax
  00040	57		 push	 edi
$LL4@gObjTrapAt:

; 2633 : 	{
; 2634 : 		pos--;

  00041	4b		 dec	 ebx
  00042	8b f0		 mov	 esi, eax

; 2635 : 		for(int i =0; i< MAX_VIEWPORT_MONSTER; i++)

  00044	33 d2		 xor	 edx, edx
$LL7@gObjTrapAt:

; 2636 : 		{
; 2637 : 			tObjNum = lpObj->VpPlayer2[i].number;

  00046	0f bf 3e	 movsx	 edi, WORD PTR [esi]

; 2638 : 
; 2639 : 			if(tObjNum >= 0)

  00049	85 ff		 test	 edi, edi
  0004b	78 49		 js	 SHORT $LN5@gObjTrapAt

; 2640 : 			{
; 2641 : 				if(gObj[tObjNum].Type==1)

  0004d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00053	69 c7 40 27 00
	00		 imul	 eax, edi, 10048
  00059	80 7c 08 50 01	 cmp	 BYTE PTR [eax+ecx+80], 1
  0005e	75 36		 jne	 SHORT $LN5@gObjTrapAt

; 2642 : 				{
; 2643 : 					if(gObj[tObjNum].Live)

  00060	80 7c 08 51 00	 cmp	 BYTE PTR [eax+ecx+81], 0
  00065	74 2f		 je	 SHORT $LN5@gObjTrapAt

; 2644 : 					{
; 2645 : 						if(pos == gObj[tObjNum].Y)

  00067	0f b6 8c 08 21
	01 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+289]
  0006f	3b d9		 cmp	 ebx, ecx
  00071	75 23		 jne	 SHORT $LN5@gObjTrapAt

; 2646 : 						{
; 2647 : 							if(x == gObj[tObjNum].X)

  00073	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00079	0f b6 8c 08 20
	01 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+288]
  00081	39 4d f8	 cmp	 DWORD PTR _x$1$[ebp], ecx
  00084	75 10		 jne	 SHORT $LN5@gObjTrapAt

; 2648 : 							{
; 2649 : 								if((gObj[tObjNum].Authority&2)!=2)

  00086	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0008c	f6 84 08 bc 01
	00 00 02	 test	 BYTE PTR [eax+ecx+444], 2
  00094	74 1a		 je	 SHORT $LN17@gObjTrapAt
$LN5@gObjTrapAt:

; 2635 : 		for(int i =0; i< MAX_VIEWPORT_MONSTER; i++)

  00096	42		 inc	 edx
  00097	83 c6 0c	 add	 esi, 12			; 0000000cH
  0009a	83 fa 4b	 cmp	 edx, 75			; 0000004bH
  0009d	7c a7		 jl	 SHORT $LL7@gObjTrapAt

; 2628 : 	int tObjNum;
; 2629 : 	int pos = lpObj->Y;
; 2630 : 	int x = lpObj->X;
; 2631 : 
; 2632 : 	for(int n =0;n<count;n++)

  0009f	8b 45 fc	 mov	 eax, DWORD PTR _n$1$[ebp]
  000a2	40		 inc	 eax
  000a3	89 45 fc	 mov	 DWORD PTR _n$1$[ebp], eax
  000a6	3b 45 0c	 cmp	 eax, DWORD PTR _count$[ebp]
  000a9	7d 0f		 jge	 SHORT $LN28@gObjTrapAt
  000ab	8b 45 f4	 mov	 eax, DWORD PTR tv251[ebp]
  000ae	eb 91		 jmp	 SHORT $LL4@gObjTrapAt
$LN17@gObjTrapAt:

; 2650 : 								{
; 2651 : 									lpObj->TargetNumber = tObjNum;

  000b0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  000b3	66 89 b8 38 06
	00 00		 mov	 WORD PTR [eax+1592], di
$LN28@gObjTrapAt:
  000ba	5f		 pop	 edi
  000bb	5e		 pop	 esi
$LN25@gObjTrapAt:
  000bc	5b		 pop	 ebx

; 2652 : 									return;
; 2653 : 								}
; 2654 : 							}
; 2655 : 						}
; 2656 : 					}
; 2657 : 				}
; 2658 : 			}
; 2659 : 		}
; 2660 : 	}
; 2661 : }

  000bd	8b e5		 mov	 esp, ebp
  000bf	5d		 pop	 ebp
  000c0	c3		 ret	 0
?gObjTrapAttackEnemySearchY@@YAXPAUOBJECTSTRUCT@@H@Z ENDP ; gObjTrapAttackEnemySearchY
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjTrapAttackEnemySearchX@@YAXPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
tv252 = -12						; size = 4
_y$1$ = -8						; size = 4
_n$1$ = -4						; size = 4
_lpObj$ = 8						; size = 4
_count$ = 12						; size = 4
?gObjTrapAttackEnemySearchX@@YAXPAUOBJECTSTRUCT@@H@Z PROC ; gObjTrapAttackEnemySearchX, COMDAT

; 2583 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH

; 2584 : 	lpObj->TargetNumber = -1;

  00006	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00009	83 c8 ff	 or	 eax, -1

; 2585 : 	int tObjNum;
; 2586 : 	int pos = lpObj->X;
; 2587 : 	int y = lpObj->Y;
; 2588 : 
; 2589 : 	for(int n =0;n<count;n++)

  0000c	83 7d 0c 00	 cmp	 DWORD PTR _count$[ebp], 0
  00010	53		 push	 ebx
  00011	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _n$1$[ebp], 0
  00018	0f b6 99 20 01
	00 00		 movzx	 ebx, BYTE PTR [ecx+288]
  0001f	66 89 81 38 06
	00 00		 mov	 WORD PTR [ecx+1592], ax
  00026	0f b6 81 21 01
	00 00		 movzx	 eax, BYTE PTR [ecx+289]
  0002d	89 45 f8	 mov	 DWORD PTR _y$1$[ebp], eax
  00030	0f 8e 86 00 00
	00		 jle	 $LN25@gObjTrapAt
  00036	8d 81 4a 0c 00
	00		 lea	 eax, DWORD PTR [ecx+3146]
  0003c	56		 push	 esi
  0003d	89 45 f4	 mov	 DWORD PTR tv252[ebp], eax
  00040	57		 push	 edi
$LL4@gObjTrapAt:

; 2590 : 	{
; 2591 : 		pos++;

  00041	43		 inc	 ebx
  00042	8b f0		 mov	 esi, eax

; 2592 : 		for(int i =0; i< MAX_VIEWPORT_MONSTER; i++)

  00044	33 d2		 xor	 edx, edx
$LL7@gObjTrapAt:

; 2593 : 		{
; 2594 : 			tObjNum = lpObj->VpPlayer2[i].number;

  00046	0f bf 3e	 movsx	 edi, WORD PTR [esi]

; 2595 : 
; 2596 : 			if(tObjNum >= 0)

  00049	85 ff		 test	 edi, edi
  0004b	78 49		 js	 SHORT $LN5@gObjTrapAt

; 2597 : 			{
; 2598 : 				if(gObj[tObjNum].Type==OBJ_USER)

  0004d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00053	69 c7 40 27 00
	00		 imul	 eax, edi, 10048
  00059	80 7c 08 50 01	 cmp	 BYTE PTR [eax+ecx+80], 1
  0005e	75 36		 jne	 SHORT $LN5@gObjTrapAt

; 2599 : 				{
; 2600 : 					if(gObj[tObjNum].Live)

  00060	80 7c 08 51 00	 cmp	 BYTE PTR [eax+ecx+81], 0
  00065	74 2f		 je	 SHORT $LN5@gObjTrapAt

; 2601 : 					{
; 2602 : 						if(y == gObj[tObjNum].Y)

  00067	0f b6 8c 08 21
	01 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+289]
  0006f	39 4d f8	 cmp	 DWORD PTR _y$1$[ebp], ecx
  00072	75 22		 jne	 SHORT $LN5@gObjTrapAt

; 2603 : 						{
; 2604 : 							if(pos == gObj[tObjNum].X)

  00074	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0007a	0f b6 8c 08 20
	01 00 00	 movzx	 ecx, BYTE PTR [eax+ecx+288]
  00082	3b d9		 cmp	 ebx, ecx
  00084	75 10		 jne	 SHORT $LN5@gObjTrapAt

; 2605 : 							{
; 2606 : 								if((gObj[tObjNum].Authority&2)!=2)

  00086	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0008c	f6 84 08 bc 01
	00 00 02	 test	 BYTE PTR [eax+ecx+444], 2
  00094	74 1a		 je	 SHORT $LN17@gObjTrapAt
$LN5@gObjTrapAt:

; 2592 : 		for(int i =0; i< MAX_VIEWPORT_MONSTER; i++)

  00096	42		 inc	 edx
  00097	83 c6 0c	 add	 esi, 12			; 0000000cH
  0009a	83 fa 4b	 cmp	 edx, 75			; 0000004bH
  0009d	7c a7		 jl	 SHORT $LL7@gObjTrapAt

; 2585 : 	int tObjNum;
; 2586 : 	int pos = lpObj->X;
; 2587 : 	int y = lpObj->Y;
; 2588 : 
; 2589 : 	for(int n =0;n<count;n++)

  0009f	8b 45 fc	 mov	 eax, DWORD PTR _n$1$[ebp]
  000a2	40		 inc	 eax
  000a3	89 45 fc	 mov	 DWORD PTR _n$1$[ebp], eax
  000a6	3b 45 0c	 cmp	 eax, DWORD PTR _count$[ebp]
  000a9	7d 0f		 jge	 SHORT $LN28@gObjTrapAt
  000ab	8b 45 f4	 mov	 eax, DWORD PTR tv252[ebp]
  000ae	eb 91		 jmp	 SHORT $LL4@gObjTrapAt
$LN17@gObjTrapAt:

; 2607 : 								{
; 2608 : 									lpObj->TargetNumber = tObjNum;

  000b0	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  000b3	66 89 b8 38 06
	00 00		 mov	 WORD PTR [eax+1592], di
$LN28@gObjTrapAt:
  000ba	5f		 pop	 edi
  000bb	5e		 pop	 esi
$LN25@gObjTrapAt:
  000bc	5b		 pop	 ebx

; 2609 : 									return;
; 2610 : 								}
; 2611 : 							}
; 2612 : 						}
; 2613 : 					}
; 2614 : 				}
; 2615 : 			}
; 2616 : 		}
; 2617 : 	}
; 2618 : }

  000bd	8b e5		 mov	 esp, ebp
  000bf	5d		 pop	 ebp
  000c0	c3		 ret	 0
?gObjTrapAttackEnemySearchX@@YAXPAUOBJECTSTRUCT@@H@Z ENDP ; gObjTrapAttackEnemySearchX
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterBaseAct@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
tv947 = -4						; size = 4
_ty$1 = -4						; size = 4
tv956 = 8						; size = 4
tv954 = 8						; size = 4
_tx$2 = 8						; size = 4
_lpObj$ = 8						; size = 4
?gObjMonsterBaseAct@@YAXPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterBaseAct, COMDAT

; 2242 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	56		 push	 esi

; 2243 : 	/*for( int i = 0; i < lpObj->VPCount; i++ )
; 2244 : 	{
; 2245 : 		if( lpObj->VpPlayer[i].type != OBJ_USER )
; 2246 : 		{
; 2247 : 			continue;
; 2248 : 		}
; 2249 : 		// ----
; 2250 : 		if( lpObj->TargetNumber < 0 )
; 2251 : 		{
; 2252 : 			continue;
; 2253 : 		}
; 2254 : 		// ----
; 2255 : 		LPOBJ NowTarget = &gObj[lpObj->TargetNumber];
; 2256 : 		LPOBJ NewTarget = &gObj[lpObj->VpPlayer[i].number];
; 2257 : 		int Distance	= gObjCalDistance(lpObj, NewTarget);
; 2258 : 		// ----
; 2259 : 		if( Distance > lpObj->m_AttackRange + 5 )
; 2260 : 		{
; 2261 : 			continue;
; 2262 : 		}
; 2263 : 		// ----
; 2264 : 		if( NewTarget->m_Defense < NowTarget->m_Defense || NewTarget->Life < NowTarget->Life )
; 2265 : 		{
; 2266 : 			//char * Text[] = { "Fresh meat...", "Meat...meat...meat", 
; 2267 : 			//	"Grab it!11!1", "Nom-nom-nom", "I smell your fear..." };
; 2268 : 			//ChatTargetSend(lpObj, Text[rand()%4], NewTarget->m_Index);
; 2269 : 			gObjAddMsgSendDelay(lpObj, 0, NewTarget->m_Index, 100, 0);
; 2270 : 			lpObj->LastAttackerID			= NewTarget->m_Index;
; 2271 : 			lpObj->TargetNumber				= NewTarget->m_Index;
; 2272 : 			lpObj->m_ActState.Emotion		= 1;
; 2273 : 			lpObj->m_ActState.EmotionCount	= 30;
; 2274 : 			break;
; 2275 : 		}
; 2276 : 	}*/
; 2277 : 	// ----
; 2278 : 
; 2279 : 	LPOBJ lpTargetObj = NULL;
; 2280 : 
; 2281 : 	if ( lpObj->TargetNumber >= 0 )

  00005	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00008	57		 push	 edi
  00009	33 ff		 xor	 edi, edi
  0000b	0f b7 86 38 06
	00 00		 movzx	 eax, WORD PTR [esi+1592]
  00012	66 85 c0	 test	 ax, ax
  00015	78 0f		 js	 SHORT $LN2@gObjMonste

; 2282 : 		lpTargetObj = &gObj[lpObj->TargetNumber];

  00017	98		 cwde
  00018	69 f8 40 27 00
	00		 imul	 edi, eax, 10048
  0001e	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2283 : 	else

  00024	eb 0a		 jmp	 SHORT $LN3@gObjMonste
$LN2@gObjMonste:

; 2284 : 		lpObj->m_ActState.Emotion = 0;

  00026	81 a6 c8 01 00
	00 0f ff ff ff	 and	 DWORD PTR [esi+456], -241 ; ffffff0fH
$LN3@gObjMonste:

; 2285 : 
; 2286 : 	if ( gObjCheckUsedBuffEffect(lpObj,BUFF_SLEEP) == TRUE )

  00030	6a 48		 push	 72			; 00000048H
  00032	56		 push	 esi
  00033	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  00038	83 c4 08	 add	 esp, 8
  0003b	3c 01		 cmp	 al, 1
  0003d	0f 84 98 06 00
	00		 je	 $LN61@gObjMonste

; 2287 : 		return;
; 2288 : 
; 2289 : 	if ( lpObj->m_ActState.Emotion == 0 )

  00043	8b 86 c8 01 00
	00		 mov	 eax, DWORD PTR [esi+456]
  00049	8b c8		 mov	 ecx, eax
  0004b	c1 e9 04	 shr	 ecx, 4
  0004e	53		 push	 ebx
  0004f	83 e1 0f	 and	 ecx, 15			; 0000000fH
  00052	0f 85 e6 02 00
	00		 jne	 $LN5@gObjMonste

; 2290 : 	{
; 2291 : 		if ( lpObj->m_Attribute )

  00058	66 39 8e 96 06
	00 00		 cmp	 WORD PTR [esi+1686], cx
  0005f	0f 84 75 06 00
	00		 je	 $LN74@gObjMonste

; 2292 : 		{
; 2293 : 			if ( lpObj->m_ActState.Attack )

  00065	83 cb ff	 or	 ebx, -1
  00068	a8 02		 test	 al, 2
  0006a	74 1a		 je	 SHORT $LN8@gObjMonste

; 2294 : 			{
; 2295 : 				lpObj->m_ActState.Attack = 0;

  0006c	83 e0 fd	 and	 eax, -3			; fffffffdH

; 2296 : 				lpObj->TargetNumber = -1;

  0006f	66 89 9e 38 06
	00 00		 mov	 WORD PTR [esi+1592], bx
  00076	89 86 c8 01 00
	00		 mov	 DWORD PTR [esi+456], eax

; 2297 : 				lpObj->NextActionTime = 500;

  0007c	c7 86 a0 05 00
	00 f4 01 00 00	 mov	 DWORD PTR [esi+1440], 500 ; 000001f4H
$LN8@gObjMonste:

; 2298 : 			}
; 2299 : 
; 2300 : 			int actcode1 = rand()%2;

  00086	e8 00 00 00 00	 call	 _rand
  0008b	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00090	79 05		 jns	 SHORT $LN75@gObjMonste
  00092	48		 dec	 eax
  00093	83 c8 fe	 or	 eax, -2			; fffffffeH
  00096	40		 inc	 eax
$LN75@gObjMonste:

; 2301 : 
; 2302 : 			if ( lpObj->m_Attribute == 100 )

  00097	66 83 be 96 06
	00 00 64	 cmp	 WORD PTR [esi+1686], 100 ; 00000064H
  0009f	74 1a		 je	 SHORT $LN10@gObjMonste

; 2303 : 				actcode1 = 1;
; 2304 : 			
; 2305 : 			if ( actcode1 == 0 )

  000a1	85 c0		 test	 eax, eax
  000a3	75 16		 jne	 SHORT $LN10@gObjMonste

; 2306 : 			{
; 2307 : 				lpObj->m_ActState.Rest = 1;

  000a5	83 8e c8 01 00
	00 01		 or	 DWORD PTR [esi+456], 1

; 2308 : 				lpObj->NextActionTime = 500;

  000ac	c7 86 a0 05 00
	00 f4 01 00 00	 mov	 DWORD PTR [esi+1440], 500 ; 000001f4H

; 2309 : 			}
; 2310 : 			else if ( lpObj->m_MoveRange > 0 &&

  000b6	e9 04 01 00 00	 jmp	 $LN18@gObjMonste
$LN10@gObjMonste:

; 2311 : 					  gObjCheckUsedBuffEffect(lpObj,BUFF_ICEARROW) == FALSE &&
; 2312 : 					  gObjCheckUsedBuffEffect(lpObj,BUFF_STUN) == FALSE &&
; 2313 : 					  gObjCheckUsedBuffEffect(lpObj,BUFF_SLEEP) == FALSE &&
; 2314 : 					  gObjCheckUsedBuffEffect(lpObj,BUFF_FREEZE) == FALSE &&

  000bb	66 83 be 8e 06
	00 00 00	 cmp	 WORD PTR [esi+1678], 0
  000c3	0f 8e f6 00 00
	00		 jle	 $LN18@gObjMonste
  000c9	6a 39		 push	 57			; 00000039H
  000cb	56		 push	 esi
  000cc	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  000d1	83 c4 08	 add	 esp, 8
  000d4	84 c0		 test	 al, al
  000d6	0f 85 e3 00 00
	00		 jne	 $LN18@gObjMonste
  000dc	6a 3d		 push	 61			; 0000003dH
  000de	56		 push	 esi
  000df	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  000e4	83 c4 08	 add	 esp, 8
  000e7	84 c0		 test	 al, al
  000e9	0f 85 d0 00 00
	00		 jne	 $LN18@gObjMonste
  000ef	6a 48		 push	 72			; 00000048H
  000f1	56		 push	 esi
  000f2	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  000f7	83 c4 08	 add	 esp, 8
  000fa	84 c0		 test	 al, al
  000fc	0f 85 bd 00 00
	00		 jne	 $LN18@gObjMonste
  00102	68 92 00 00 00	 push	 146			; 00000092H
  00107	56		 push	 esi
  00108	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  0010d	83 c4 08	 add	 esp, 8
  00110	84 c0		 test	 al, al
  00112	0f 85 a7 00 00
	00		 jne	 $LN18@gObjMonste
  00118	68 93 00 00 00	 push	 147			; 00000093H
  0011d	56		 push	 esi
  0011e	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  00123	83 c4 08	 add	 esp, 8
  00126	84 c0		 test	 al, al
  00128	0f 85 91 00 00
	00		 jne	 $LN18@gObjMonste

; 2315 : 					  gObjCheckUsedBuffEffect(lpObj,BUFF_EARTHBINDS) == FALSE )
; 2316 : 			{
; 2317 : 				if ( lpObj->m_Attribute != 100 )

  0012e	66 83 be 96 06
	00 00 64	 cmp	 WORD PTR [esi+1686], 100 ; 00000064H
  00136	74 0b		 je	 SHORT $LN13@gObjMonste

; 2318 : 				{
; 2319 : 					gObjMonsterMoveAction(lpObj);

  00138	56		 push	 esi
  00139	e8 00 00 00 00	 call	 ?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterMoveAction
  0013e	83 c4 04	 add	 esp, 4

; 2320 : 				}
; 2321 : 				else

  00141	eb 7c		 jmp	 SHORT $LN18@gObjMonste
$LN13@gObjMonste:

; 2322 : 				{
; 2323 : 					int tx=0;
; 2324 : 					int ty=0;
; 2325 : 
; 2326 : 					if ( lpObj->m_RecallMon >= 0 )

  00143	8b 86 30 06 00
	00		 mov	 eax, DWORD PTR [esi+1584]
  00149	c7 45 08 00 00
	00 00		 mov	 DWORD PTR _tx$2[ebp], 0
  00150	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _ty$1[ebp], 0
  00157	85 c0		 test	 eax, eax
  00159	78 64		 js	 SHORT $LN18@gObjMonste

; 2327 : 					{
; 2328 : 						if ( gObj[lpObj->m_RecallMon].Connected > PLAYER_LOGGED )

  0015b	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  00161	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00167	83 79 04 02	 cmp	 DWORD PTR [ecx+4], 2
  0016b	7e 52		 jle	 SHORT $LN18@gObjMonste

; 2329 : 						{
; 2330 : 							LPOBJ lpRecallObj = &gObj[lpObj->m_RecallMon];
; 2331 : 
; 2332 : 							if ( lpRecallObj->m_Rest == FALSE )

  0016d	80 b9 d4 01 00
	00 00		 cmp	 BYTE PTR [ecx+468], 0
  00174	75 49		 jne	 SHORT $LN18@gObjMonste

; 2333 : 							{
; 2334 : 								if ( gObjGetTargetPos(lpObj, lpRecallObj->X, lpRecallObj->Y, tx, ty) == TRUE )

  00176	8d 45 fc	 lea	 eax, DWORD PTR _ty$1[ebp]
  00179	50		 push	 eax
  0017a	8d 45 08	 lea	 eax, DWORD PTR _tx$2[ebp]
  0017d	50		 push	 eax
  0017e	0f b6 81 21 01
	00 00		 movzx	 eax, BYTE PTR [ecx+289]
  00185	50		 push	 eax
  00186	0f b6 81 20 01
	00 00		 movzx	 eax, BYTE PTR [ecx+288]
  0018d	50		 push	 eax
  0018e	56		 push	 esi
  0018f	e8 00 00 00 00	 call	 ?gObjGetTargetPos@@YAHPAUOBJECTSTRUCT@@HHAAH1@Z ; gObjGetTargetPos
  00194	83 c4 14	 add	 esp, 20			; 00000014H
  00197	83 f8 01	 cmp	 eax, 1
  0019a	75 23		 jne	 SHORT $LN18@gObjMonste

; 2335 : 								{
; 2336 : 									lpObj->MTX = tx;

  0019c	8a 45 08	 mov	 al, BYTE PTR _tx$2[ebp]

; 2337 : 									lpObj->MTY = ty;
; 2338 : 									lpObj->m_ActState.Move = 1;

  0019f	83 8e c8 01 00
	00 04		 or	 DWORD PTR [esi+456], 4
  001a6	88 86 54 01 00
	00		 mov	 BYTE PTR [esi+340], al
  001ac	8a 45 fc	 mov	 al, BYTE PTR _ty$1[ebp]
  001af	88 86 55 01 00
	00		 mov	 BYTE PTR [esi+341], al

; 2339 : 									lpObj->NextActionTime = 1000;

  001b5	c7 86 a0 05 00
	00 e8 03 00 00	 mov	 DWORD PTR [esi+1440], 1000 ; 000003e8H
$LN18@gObjMonste:

; 2340 : 								}
; 2341 : 							}
; 2342 : 						}
; 2343 : 					}
; 2344 : 				}
; 2345 : 			}
; 2346 : 
; 2347 : 			if (lpObj->Class == 249 || lpObj->Class == 247 )	// Guard

  001bf	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  001c6	b9 f9 00 00 00	 mov	 ecx, 249		; 000000f9H
  001cb	66 3b c1	 cmp	 ax, cx
  001ce	74 78		 je	 SHORT $LN21@gObjMonste
  001d0	b9 f7 00 00 00	 mov	 ecx, 247		; 000000f7H
  001d5	66 3b c1	 cmp	 ax, cx
  001d8	74 6e		 je	 SHORT $LN21@gObjMonste

; 2368 : 					}
; 2369 : 				}
; 2370 : 			}
; 2371 : 			else 
; 2372 : 			{
; 2373 : 				if ( lpObj->m_Attribute == 100 )

  001da	66 83 be 96 06
	00 00 64	 cmp	 WORD PTR [esi+1686], 100 ; 00000064H
  001e2	75 50		 jne	 SHORT $LN27@gObjMonste

; 2374 : 				{
; 2375 : 					lpObj->TargetNumber = gObjMonsterSearchEnemy(lpObj, OBJ_MONSTER);

  001e4	6a 02		 push	 2
  001e6	56		 push	 esi
  001e7	e8 00 00 00 00	 call	 ?gObjMonsterSearchEnemy@@YAHPAUOBJECTSTRUCT@@E@Z ; gObjMonsterSearchEnemy

; 2376 : 
; 2377 : 					if( IF_MAP_RANGE(lpObj->MapNumber) )

  001ec	8a 8e 23 01 00
	00		 mov	 cl, BYTE PTR [esi+291]
  001f2	83 c4 08	 add	 esp, 8
  001f5	66 89 86 38 06
	00 00		 mov	 WORD PTR [esi+1592], ax
  001fc	80 f9 45	 cmp	 cl, 69			; 00000045H
  001ff	0f 82 b1 00 00
	00		 jb	 $LN26@gObjMonste
  00205	b2 48		 mov	 dl, 72			; 00000048H
  00207	3a d1		 cmp	 dl, cl
  00209	1b c9		 sbb	 ecx, ecx
  0020b	83 c1 01	 add	 ecx, 1
  0020e	0f 84 a2 00 00
	00		 je	 $LN26@gObjMonste

; 2378 : 					{
; 2379 : 						if( lpObj->Live && g_ImperialGuardian.IsAttackAbleMonster(lpObj->TargetNumber) )

  00214	80 7e 51 00	 cmp	 BYTE PTR [esi+81], 0
  00218	0f 84 91 00 00
	00		 je	 $LN30@gObjMonste
  0021e	98		 cwde
  0021f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ImperialGuardian@@3VCImperialGuardian@@A ; g_ImperialGuardian
  00224	50		 push	 eax
  00225	e8 00 00 00 00	 call	 ?IsAttackAbleMonster@CImperialGuardian@@QAE_NH@Z ; CImperialGuardian::IsAttackAbleMonster
  0022a	84 c0		 test	 al, al
  0022c	0f 85 84 00 00
	00		 jne	 $LN26@gObjMonste

; 2380 : 						{
; 2381 : 
; 2382 : 						}
; 2383 : 						else
; 2384 : 						{
; 2385 : 							lpObj->TargetNumber = -1;
; 2386 : 						}
; 2387 : 					}
; 2388 : #if (ENABLETEST_ARCA == 1)
; 2389 : 					if( g_ArcaBattle.IsArcaBattleServer() 
; 2390 : #if (ENABLETEST_ACHERON == 1)
; 2391 : 						&& !g_AcheronGuardianEvent.IsPlayStart()
; 2392 : #endif
; 2393 : 						&& !g_ArcaBattle.IsEnableAttackObelisk(gObj[lpObj->m_RecallMon], gObj[lpObj->TargetNumber].Class) )
; 2394 : 					{
; 2395 : 						lpObj->TargetNumber = -1;
; 2396 : 					}
; 2397 : #endif
; 2398 : 				}
; 2399 : 				else

  00232	eb 7b		 jmp	 SHORT $LN30@gObjMonste
$LN27@gObjMonste:

; 2400 : 				{
; 2401 : 					lpObj->TargetNumber = gObjMonsterSearchEnemy(lpObj, OBJ_USER);

  00234	6a 01		 push	 1
  00236	56		 push	 esi
  00237	e8 00 00 00 00	 call	 ?gObjMonsterSearchEnemy@@YAHPAUOBJECTSTRUCT@@E@Z ; gObjMonsterSearchEnemy
  0023c	83 c4 08	 add	 esp, 8
  0023f	66 89 86 38 06
	00 00		 mov	 WORD PTR [esi+1592], ax
  00246	eb 6e		 jmp	 SHORT $LN26@gObjMonste
$LN21@gObjMonste:

; 2348 : 			{
; 2349 : 				if ( gEnableEventNPCTalk )

  00248	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?gEnableEventNPCTalk@@3HA, 0 ; gEnableEventNPCTalk
  0024f	74 2e		 je	 SHORT $LN24@gObjMonste

; 2350 : 				{
; 2351 : 					if ( !(rand()%30) )

  00251	e8 00 00 00 00	 call	 _rand
  00256	99		 cdq
  00257	b9 1e 00 00 00	 mov	 ecx, 30			; 0000001eH
  0025c	f7 f9		 idiv	 ecx
  0025e	85 d2		 test	 edx, edx
  00260	75 1d		 jne	 SHORT $LN24@gObjMonste

; 2352 : 					{
; 2353 : 						if ( lpObj->m_PK_Count == 0 )

  00262	38 96 18 01 00
	00		 cmp	 BYTE PTR [esi+280], dl
  00268	75 15		 jne	 SHORT $LN24@gObjMonste

; 2354 : 						{
; 2355 : 							ChatSend(lpObj, "   .    ");	// Need Translation

  0026a	68 00 00 00 00	 push	 OFFSET ??_C@_0DD@MDNPGPML@?G?O?F?$KO?5?$LO?F?$MA?L?E?$NL?$MA?$LL?5?$LL?s?A?$KB?$LP?$KB?5?A?V?$LM?$LM?$LP?d?4?5?G?$KK?A@
  0026f	56		 push	 esi
  00270	e8 00 00 00 00	 call	 ?ChatSend@@YAXPAUOBJECTSTRUCT@@PAD@Z ; ChatSend
  00275	83 c4 08	 add	 esp, 8

; 2356 : 							lpObj->m_PK_Count = 0;

  00278	c6 86 18 01 00
	00 00		 mov	 BYTE PTR [esi+280], 0
$LN24@gObjMonste:

; 2357 : 						}
; 2358 : 					}
; 2359 : 				}
; 2360 : 
; 2361 : 				lpObj->TargetNumber = gObjGuardSearchEnemy(lpObj);

  0027f	56		 push	 esi
  00280	e8 00 00 00 00	 call	 ?gObjGuardSearchEnemy@@YAHPAUOBJECTSTRUCT@@@Z ; gObjGuardSearchEnemy
  00285	83 c4 04	 add	 esp, 4
  00288	66 89 86 38 06
	00 00		 mov	 WORD PTR [esi+1592], ax

; 2362 : 
; 2363 : 				if ( lpObj->TargetNumber >= 0 )

  0028f	66 85 c0	 test	 ax, ax
  00292	78 22		 js	 SHORT $LN26@gObjMonste

; 2364 : 				{
; 2365 : 					if ( gObj[lpObj->TargetNumber].Class >= 248 )

  00294	98		 cwde
  00295	ba f8 00 00 00	 mov	 edx, 248		; 000000f8H
  0029a	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  002a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002a5	66 39 94 01 90
	00 00 00	 cmp	 WORD PTR [ecx+eax+144], dx
  002ad	72 07		 jb	 SHORT $LN26@gObjMonste
$LN30@gObjMonste:

; 2366 : 					{
; 2367 : 						lpObj->TargetNumber = -1;

  002af	66 89 9e 38 06
	00 00		 mov	 WORD PTR [esi+1592], bx
$LN26@gObjMonste:

; 2402 : 				}
; 2403 : 			}
; 2404 : 
; 2405 : 			if ( lpObj->TargetNumber >= 0 )

  002b6	66 83 be 38 06
	00 00 00	 cmp	 WORD PTR [esi+1592], 0
  002be	0f 8c 16 04 00
	00		 jl	 $LN74@gObjMonste

; 2406 : 			{
; 2407 : 				if( DG_MAP_RANGE(lpObj->MapNumber) )

  002c4	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  002ca	3c 41		 cmp	 al, 65			; 00000041H
  002cc	72 4e		 jb	 SHORT $LN33@gObjMonste
  002ce	b1 44		 mov	 cl, 68			; 00000044H
  002d0	3a c8		 cmp	 cl, al
  002d2	1b c0		 sbb	 eax, eax
  002d4	83 c0 01	 add	 eax, 1
  002d7	74 43		 je	 SHORT $LN33@gObjMonste

; 2408 : 				{
; 2409 : 
; 2410 : 					int _r = 4;
; 2411 : 
; 2412 : 					if( rand()%_r == 0 )

  002d9	e8 00 00 00 00	 call	 _rand
  002de	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  002e3	79 05		 jns	 SHORT $LN76@gObjMonste
  002e5	48		 dec	 eax
  002e6	83 c8 fc	 or	 eax, -4			; fffffffcH
  002e9	40		 inc	 eax
$LN76@gObjMonste:
  002ea	75 22		 jne	 SHORT $LN34@gObjMonste

; 2413 : 					{
; 2414 : 						lpObj->m_ActState.EmotionCount = 5;

  002ec	c6 86 c9 01 00
	00 05		 mov	 BYTE PTR [esi+457], 5

; 2415 : 						lpObj->m_ActState.Emotion = 1;

  002f3	8b 86 c8 01 00
	00		 mov	 eax, DWORD PTR [esi+456]
  002f9	25 1f ff ff ff	 and	 eax, -225		; ffffff1fH
  002fe	5b		 pop	 ebx
  002ff	83 c8 10	 or	 eax, 16			; 00000010H
  00302	5f		 pop	 edi
  00303	89 86 c8 01 00
	00		 mov	 DWORD PTR [esi+456], eax
  00309	5e		 pop	 esi

; 2575 : 	}
; 2576 : }

  0030a	8b e5		 mov	 esp, ebp
  0030c	5d		 pop	 ebp
  0030d	c3		 ret	 0
$LN34@gObjMonste:

; 2416 : 					}
; 2417 : 					else
; 2418 : 					{
; 2419 : 						lpObj->TargetNumber = -1;

  0030e	66 89 9e 38 06
	00 00		 mov	 WORD PTR [esi+1592], bx
  00315	5b		 pop	 ebx
  00316	5f		 pop	 edi
  00317	5e		 pop	 esi

; 2575 : 	}
; 2576 : }

  00318	8b e5		 mov	 esp, ebp
  0031a	5d		 pop	 ebp
  0031b	c3		 ret	 0
$LN33@gObjMonste:

; 2420 : 					}
; 2421 : 
; 2422 : 				return;
; 2423 : 				}
; 2424 : 
; 2425 : 				lpObj->m_ActState.EmotionCount = 30;

  0031c	c6 86 c9 01 00
	00 1e		 mov	 BYTE PTR [esi+457], 30	; 0000001eH

; 2426 : 				lpObj->m_ActState.Emotion = 1;

  00323	8b 86 c8 01 00
	00		 mov	 eax, DWORD PTR [esi+456]
  00329	25 1f ff ff ff	 and	 eax, -225		; ffffff1fH
  0032e	5b		 pop	 ebx
  0032f	83 c8 10	 or	 eax, 16			; 00000010H
  00332	5f		 pop	 edi
  00333	89 86 c8 01 00
	00		 mov	 DWORD PTR [esi+456], eax
  00339	5e		 pop	 esi

; 2575 : 	}
; 2576 : }

  0033a	8b e5		 mov	 esp, ebp
  0033c	5d		 pop	 ebp
  0033d	c3		 ret	 0
$LN5@gObjMonste:

; 2427 : 			}
; 2428 : 		}
; 2429 : 	}
; 2430 : 	else if ( lpObj->m_ActState.Emotion == 1 )

  0033e	83 f9 01	 cmp	 ecx, 1
  00341	0f 85 bf 02 00
	00		 jne	 $LN36@gObjMonste

; 2431 : 	{
; 2432 : 		if ( lpObj->m_ActState.EmotionCount > 0 )

  00347	8a 8e c9 01 00
	00		 mov	 cl, BYTE PTR [esi+457]
  0034d	84 c9		 test	 cl, cl
  0034f	74 0a		 je	 SHORT $LN38@gObjMonste

; 2433 : 		{
; 2434 : 			lpObj->m_ActState.EmotionCount--;

  00351	fe c9		 dec	 cl
  00353	88 8e c9 01 00
	00		 mov	 BYTE PTR [esi+457], cl

; 2435 : 		}
; 2436 : 		else

  00359	eb 0b		 jmp	 SHORT $LN39@gObjMonste
$LN38@gObjMonste:

; 2437 : 		{
; 2438 : 			lpObj->m_ActState.Emotion = 0;

  0035b	25 0f ff ff ff	 and	 eax, -241		; ffffff0fH
  00360	89 86 c8 01 00
	00		 mov	 DWORD PTR [esi+456], eax
$LN39@gObjMonste:

; 2439 : 		}
; 2440 : 
; 2441 : 		if ( lpTargetObj != NULL && lpObj->TargetNumber >= 0 && lpObj->PathStartEnd == 0)

  00366	85 ff		 test	 edi, edi
  00368	0f 84 6c 03 00
	00		 je	 $LN74@gObjMonste
  0036e	66 83 be 38 06
	00 00 00	 cmp	 WORD PTR [esi+1592], 0
  00376	0f 8c 5e 03 00
	00		 jl	 $LN74@gObjMonste
  0037c	80 be 60 01 00
	00 00		 cmp	 BYTE PTR [esi+352], 0
  00383	0f 85 51 03 00
	00		 jne	 $LN74@gObjMonste

; 2442 : 		{
; 2443 : 			if ( BC_MAP_RANGE(lpObj->MapNumber) )

  00389	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  0038f	83 cb ff	 or	 ebx, -1
  00392	3c 34		 cmp	 al, 52			; 00000034H
  00394	74 0f		 je	 SHORT $LN73@gObjMonste
  00396	3c 0b		 cmp	 al, 11			; 0000000bH
  00398	72 77		 jb	 SHORT $LN45@gObjMonste
  0039a	b1 11		 mov	 cl, 17			; 00000011H
  0039c	3a c8		 cmp	 cl, al
  0039e	1b c0		 sbb	 eax, eax
  003a0	83 c0 01	 add	 eax, 1
  003a3	74 6c		 je	 SHORT $LN45@gObjMonste
$LN73@gObjMonste:

; 2444 : 			{
; 2445 : 				int iRAND_CHANGE_TARGET = rand()%10;

  003a5	e8 00 00 00 00	 call	 _rand
  003aa	99		 cdq
  003ab	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  003b0	f7 f9		 idiv	 ecx

; 2446 : 
; 2447 : 				if ( iRAND_CHANGE_TARGET == 3 )

  003b2	83 fa 03	 cmp	 edx, 3
  003b5	75 09		 jne	 SHORT $LN42@gObjMonste

; 2448 : 					lpObj->LastAttackerID = -1;

  003b7	66 89 9e 3e 06
	00 00		 mov	 WORD PTR [esi+1598], bx

; 2449 : 
; 2450 : 				if ( iRAND_CHANGE_TARGET == 1 )

  003be	eb 51		 jmp	 SHORT $LN45@gObjMonste
$LN42@gObjMonste:
  003c0	83 fa 01	 cmp	 edx, 1
  003c3	75 4c		 jne	 SHORT $LN45@gObjMonste

; 2451 : 				{
; 2452 : 					if ( lpObj->LastAttackerID != -1 && lpObj->LastAttackerID != lpObj->TargetNumber )

  003c5	0f b7 8e 3e 06
	00 00		 movzx	 ecx, WORD PTR [esi+1598]
  003cc	66 83 f9 ff	 cmp	 cx, -1
  003d0	74 3f		 je	 SHORT $LN45@gObjMonste
  003d2	66 3b 8e 38 06
	00 00		 cmp	 cx, WORD PTR [esi+1592]
  003d9	74 36		 je	 SHORT $LN45@gObjMonste

; 2453 : 					{
; 2454 : 						if ( gObj[lpObj->LastAttackerID].Connected > PLAYER_LOGGED &&

  003db	0f bf c1	 movsx	 eax, cx
  003de	69 d0 40 27 00
	00		 imul	 edx, eax, 10048
  003e4	89 55 08	 mov	 DWORD PTR tv956[ebp], edx
  003e7	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003ed	83 7a 04 02	 cmp	 DWORD PTR [edx+4], 2
  003f1	7e 1e		 jle	 SHORT $LN45@gObjMonste
  003f3	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  003f9	3a 82 23 01 00
	00		 cmp	 al, BYTE PTR [edx+291]
  003ff	75 10		 jne	 SHORT $LN45@gObjMonste

; 2455 : 							lpObj->MapNumber == gObj[lpObj->LastAttackerID].MapNumber )
; 2456 : 						{
; 2457 : 							lpObj->TargetNumber = lpObj->LastAttackerID;
; 2458 : 							lpTargetObj = &gObj[lpObj->LastAttackerID];

  00401	8b 7d 08	 mov	 edi, DWORD PTR tv956[ebp]
  00404	66 89 8e 38 06
	00 00		 mov	 WORD PTR [esi+1592], cx
  0040b	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN45@gObjMonste:

; 2459 : 						}
; 2460 : 					}
; 2461 : 				}
; 2462 : 			}
; 2463 : 
; 2464 : 			int dis = gObjCalDistance(lpObj, lpTargetObj);

  00411	57		 push	 edi
  00412	56		 push	 esi
  00413	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance

; 2465 : 			int attackrange;
; 2466 : 
; 2467 : 			if ( lpObj->m_AttackType >= 100 )
; 2468 : 				attackrange = lpObj->m_AttackRange+2;

  00418	0f bf 8e 90 06
	00 00		 movsx	 ecx, WORD PTR [esi+1680]
  0041f	83 c4 08	 add	 esp, 8
  00422	66 83 be 92 06
	00 00 64	 cmp	 WORD PTR [esi+1682], 100 ; 00000064H
  0042a	7c 03		 jl	 SHORT $LN47@gObjMonste
  0042c	83 c1 02	 add	 ecx, 2
$LN47@gObjMonste:

; 2469 : 			else
; 2470 : 				attackrange = lpObj->m_AttackRange;
; 2471 : 
; 2472 : 			if ( dis <= attackrange )

  0042f	3b c1		 cmp	 eax, ecx
  00431	0f 8f fd 00 00
	00		 jg	 $LN48@gObjMonste

; 2473 : 			{
; 2474 : 				int tuser = lpObj->TargetNumber;

  00437	0f bf 86 38 06
	00 00		 movsx	 eax, WORD PTR [esi+1592]

; 2475 : 				int map = gObj[tuser].MapNumber;

  0043e	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  00444	89 4d 08	 mov	 DWORD PTR tv954[ebp], ecx
  00447	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0044d	0f b6 81 23 01
	00 00		 movzx	 eax, BYTE PTR [ecx+291]

; 2476 : 				BYTE attr;
; 2477 : 
; 2478 : 				if ( MapC[map].CheckWall(lpObj->X, lpObj->Y, gObj[tuser].X, gObj[tuser].Y) == TRUE )

  00454	69 c0 28 38 05
	00		 imul	 eax, eax, 342056
  0045a	8d 90 00 00 00
	00		 lea	 edx, DWORD PTR ?MapC@@3PAVMapClass@@A[eax]
  00460	0f b6 81 21 01
	00 00		 movzx	 eax, BYTE PTR [ecx+289]
  00467	50		 push	 eax
  00468	0f b6 81 20 01
	00 00		 movzx	 eax, BYTE PTR [ecx+288]
  0046f	8b ca		 mov	 ecx, edx
  00471	50		 push	 eax
  00472	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  00479	50		 push	 eax
  0047a	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  00481	50		 push	 eax
  00482	89 55 fc	 mov	 DWORD PTR tv947[ebp], edx
  00485	e8 00 00 00 00	 call	 ?CheckWall@MapClass@@QAEHHHHH@Z ; MapClass::CheckWall
  0048a	83 f8 01	 cmp	 eax, 1
  0048d	75 6b		 jne	 SHORT $LN50@gObjMonste

; 2479 : 				{
; 2480 : 					attr = MapC[map].GetAttr(gObj[tuser].X, gObj[tuser].Y);

  0048f	8b 55 08	 mov	 edx, DWORD PTR tv954[ebp]
  00492	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00498	8b 4d fc	 mov	 ecx, DWORD PTR tv947[ebp]
  0049b	0f b6 82 21 01
	00 00		 movzx	 eax, BYTE PTR [edx+289]
  004a2	50		 push	 eax
  004a3	0f b6 82 20 01
	00 00		 movzx	 eax, BYTE PTR [edx+288]
  004aa	50		 push	 eax
  004ab	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 2481 : 
; 2482 : 					lpObj->m_ActState.Attack = 1;

  004b0	83 8e c8 01 00
	00 02		 or	 DWORD PTR [esi+456], 2

; 2483 : 
; 2484 : 					/*if ( (attr&1) != 1 )
; 2485 : 					{
; 2486 : 						lpObj->m_ActState.Attack = 1;
; 2487 : 					}
; 2488 : 					else
; 2489 : 					{
; 2490 : 						lpObj->TargetNumber = -1;
; 2491 : 						lpObj->m_ActState.EmotionCount = 30;
; 2492 : 						lpObj->m_ActState.Emotion = 1;
; 2493 : 					}*/
; 2494 : 
; 2495 : 					lpObj->Dir = GetPathPacketDirPos(lpTargetObj->X-lpObj->X, lpTargetObj->Y-lpObj->Y);

  004b7	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  004be	0f b6 8f 21 01
	00 00		 movzx	 ecx, BYTE PTR [edi+289]
  004c5	2b c8		 sub	 ecx, eax
  004c7	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  004ce	51		 push	 ecx
  004cf	0f b6 8f 20 01
	00 00		 movzx	 ecx, BYTE PTR [edi+288]
  004d6	2b c8		 sub	 ecx, eax
  004d8	51		 push	 ecx
  004d9	e8 00 00 00 00	 call	 ?GetPathPacketDirPos@@YAEHH@Z ; GetPathPacketDirPos
  004de	83 c4 08	 add	 esp, 8
  004e1	88 86 22 01 00
	00		 mov	 BYTE PTR [esi+290], al

; 2496 : 					lpObj->NextActionTime = lpObj->m_AttackSpeed;

  004e7	8b 86 6c 06 00
	00		 mov	 eax, DWORD PTR [esi+1644]
  004ed	89 86 a0 05 00
	00		 mov	 DWORD PTR [esi+1440], eax
  004f3	5b		 pop	 ebx
  004f4	5f		 pop	 edi
  004f5	5e		 pop	 esi

; 2575 : 	}
; 2576 : }

  004f6	8b e5		 mov	 esp, ebp
  004f8	5d		 pop	 ebp
  004f9	c3		 ret	 0
$LN50@gObjMonste:

; 2497 : 				}
; 2498 : 				else
; 2499 : 				{
; 2500 : 					//if( lpObj->Class == 275 )
; 2501 : 					//{
; 2502 : 						lpObj->TargetNumber = -1;
; 2503 : 						lpObj->m_ActState.Attack = 0;
; 2504 : 						lpObj->NextActionTime = 500;
; 2505 : 						lpObj->m_ActState.Emotion = 2;

  004fa	8b 86 c8 01 00
	00		 mov	 eax, DWORD PTR [esi+456]
  00500	25 2d ff ff ff	 and	 eax, -211		; ffffff2dH
  00505	66 89 9e 38 06
	00 00		 mov	 WORD PTR [esi+1592], bx
  0050c	83 c8 20	 or	 eax, 32			; 00000020H
  0050f	c7 86 a0 05 00
	00 f4 01 00 00	 mov	 DWORD PTR [esi+1440], 500 ; 000001f4H
  00519	89 86 c8 01 00
	00		 mov	 DWORD PTR [esi+456], eax
  0051f	5b		 pop	 ebx

; 2506 : 						lpObj->m_ActState.EmotionCount = 2;

  00520	c6 86 c9 01 00
	00 02		 mov	 BYTE PTR [esi+457], 2

; 2507 : 						lpObj->m_ActState.Move = 1;

  00527	83 8e c8 01 00
	00 04		 or	 DWORD PTR [esi+456], 4
  0052e	5f		 pop	 edi
  0052f	5e		 pop	 esi

; 2575 : 	}
; 2576 : }

  00530	8b e5		 mov	 esp, ebp
  00532	5d		 pop	 ebp
  00533	c3		 ret	 0
$LN48@gObjMonste:

; 2508 : 					//}*/
; 2509 : 
; 2510 : 					//gObjMonsterMoveAction(lpObj);
; 2511 : 					//lpObj->m_ActState.Emotion = 3;
; 2512 : 					//lpObj->m_ActState.EmotionCount = 10;
; 2513 : 				}
; 2514 : 			}
; 2515 : 			else
; 2516 : 			{
; 2517 : 				if ( gObjMonsterGetTargetPos(lpObj) == TRUE )

  00534	56		 push	 esi
  00535	e8 00 00 00 00	 call	 ?gObjMonsterGetTargetPos@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterGetTargetPos
  0053a	83 c4 04	 add	 esp, 4
  0053d	83 f8 01	 cmp	 eax, 1
  00540	0f 85 b0 00 00
	00		 jne	 $LN52@gObjMonste

; 2518 : 				{
; 2519 : 					if ( MapC[lpObj->MapNumber].CheckWall(lpObj->X, lpObj->Y, lpObj->MTX, lpObj->MTY) == TRUE )

  00546	0f b6 86 55 01
	00 00		 movzx	 eax, BYTE PTR [esi+341]
  0054d	50		 push	 eax
  0054e	0f b6 86 54 01
	00 00		 movzx	 eax, BYTE PTR [esi+340]
  00555	50		 push	 eax
  00556	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  0055d	50		 push	 eax
  0055e	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  00565	50		 push	 eax
  00566	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  0056d	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  00573	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00579	e8 00 00 00 00	 call	 ?CheckWall@MapClass@@QAEHHHHH@Z ; MapClass::CheckWall
  0057e	83 f8 01	 cmp	 eax, 1
  00581	75 48		 jne	 SHORT $LN54@gObjMonste

; 2520 : 					{
; 2521 : 						lpObj->m_ActState.Move = 1;

  00583	83 8e c8 01 00
	00 04		 or	 DWORD PTR [esi+456], 4

; 2522 : 						lpObj->NextActionTime = 400;
; 2523 : 						lpObj->Dir = GetPathPacketDirPos(lpTargetObj->X-lpObj->X, lpTargetObj->Y-lpObj->Y);

  0058a	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  00591	c7 86 a0 05 00
	00 90 01 00 00	 mov	 DWORD PTR [esi+1440], 400 ; 00000190H
  0059b	0f b6 8f 21 01
	00 00		 movzx	 ecx, BYTE PTR [edi+289]
  005a2	2b c8		 sub	 ecx, eax
  005a4	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  005ab	51		 push	 ecx
  005ac	0f b6 8f 20 01
	00 00		 movzx	 ecx, BYTE PTR [edi+288]
  005b3	2b c8		 sub	 ecx, eax
  005b5	51		 push	 ecx
  005b6	e8 00 00 00 00	 call	 ?GetPathPacketDirPos@@YAEHH@Z ; GetPathPacketDirPos
  005bb	83 c4 08	 add	 esp, 8
  005be	88 86 22 01 00
	00		 mov	 BYTE PTR [esi+290], al
  005c4	5b		 pop	 ebx
  005c5	5f		 pop	 edi
  005c6	5e		 pop	 esi

; 2575 : 	}
; 2576 : }

  005c7	8b e5		 mov	 esp, ebp
  005c9	5d		 pop	 ebp
  005ca	c3		 ret	 0
$LN54@gObjMonste:

; 2524 : 					}
; 2525 : 					else
; 2526 : 					{
; 2527 : 						gObjMonsterMoveAction(lpObj);

  005cb	56		 push	 esi
  005cc	e8 00 00 00 00	 call	 ?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterMoveAction

; 2528 : 						lpObj->m_ActState.Emotion = 3;

  005d1	8b 86 c8 01 00
	00		 mov	 eax, DWORD PTR [esi+456]
  005d7	83 c4 04	 add	 esp, 4
  005da	25 3f ff ff ff	 and	 eax, -193		; ffffff3fH
  005df	83 c8 30	 or	 eax, 48			; 00000030H
  005e2	89 86 c8 01 00
	00		 mov	 DWORD PTR [esi+456], eax
  005e8	5b		 pop	 ebx
  005e9	5f		 pop	 edi

; 2529 : 						lpObj->m_ActState.EmotionCount = 10;

  005ea	c6 86 c9 01 00
	00 0a		 mov	 BYTE PTR [esi+457], 10	; 0000000aH
  005f1	5e		 pop	 esi

; 2575 : 	}
; 2576 : }

  005f2	8b e5		 mov	 esp, ebp
  005f4	5d		 pop	 ebp
  005f5	c3		 ret	 0
$LN52@gObjMonste:

; 2530 : 
; 2531 : 					}
; 2532 : 				}
; 2533 : 				else
; 2534 : 				{
; 2535 : 					gObjMonsterMoveAction(lpObj);

  005f6	56		 push	 esi
  005f7	e8 00 00 00 00	 call	 ?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterMoveAction
  005fc	83 c4 04	 add	 esp, 4
  005ff	5b		 pop	 ebx
  00600	5f		 pop	 edi
  00601	5e		 pop	 esi

; 2575 : 	}
; 2576 : }

  00602	8b e5		 mov	 esp, ebp
  00604	5d		 pop	 ebp
  00605	c3		 ret	 0
$LN36@gObjMonste:

; 2536 : 				}
; 2537 : 			}
; 2538 : 		}
; 2539 : 	}
; 2540 : 	else if ( lpObj->m_ActState.Emotion == 2 )

  00606	83 f9 02	 cmp	 ecx, 2
  00609	0f 85 96 00 00
	00		 jne	 $LN56@gObjMonste

; 2541 : 	{
; 2542 : 		if ( lpObj->m_ActState.EmotionCount > 0 )

  0060f	8a 8e c9 01 00
	00		 mov	 cl, BYTE PTR [esi+457]
  00615	84 c9		 test	 cl, cl
  00617	74 0a		 je	 SHORT $LN58@gObjMonste

; 2543 : 		{
; 2544 : 			lpObj->m_ActState.EmotionCount--;

  00619	fe c9		 dec	 cl
  0061b	88 8e c9 01 00
	00		 mov	 BYTE PTR [esi+457], cl

; 2545 : 		}
; 2546 : 		else

  00621	eb 0b		 jmp	 SHORT $LN59@gObjMonste
$LN58@gObjMonste:

; 2547 : 		{
; 2548 : 			lpObj->m_ActState.Emotion = 0;

  00623	25 0f ff ff ff	 and	 eax, -241		; ffffff0fH
  00628	89 86 c8 01 00
	00		 mov	 DWORD PTR [esi+456], eax
$LN59@gObjMonste:

; 2549 : 		}
; 2550 : 
; 2551 : 		lpObj->m_ActState.Move = 1;

  0062e	83 8e c8 01 00
	00 04		 or	 DWORD PTR [esi+456], 4

; 2552 : 		lpObj->NextActionTime = 800;

  00635	c7 86 a0 05 00
	00 20 03 00 00	 mov	 DWORD PTR [esi+1440], 800 ; 00000320H

; 2553 : 
; 2554 : 		if ( lpTargetObj )

  0063f	85 ff		 test	 edi, edi
  00641	0f 84 93 00 00
	00		 je	 $LN74@gObjMonste

; 2555 : 		{
; 2556 : 			int tdir = GetPathPacketDirPos(lpTargetObj->X-lpObj->X, lpTargetObj->Y-lpObj->Y)*2;

  00647	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  0064e	0f b6 8f 21 01
	00 00		 movzx	 ecx, BYTE PTR [edi+289]
  00655	2b c8		 sub	 ecx, eax
  00657	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  0065e	51		 push	 ecx
  0065f	0f b6 8f 20 01
	00 00		 movzx	 ecx, BYTE PTR [edi+288]
  00666	2b c8		 sub	 ecx, eax
  00668	51		 push	 ecx
  00669	e8 00 00 00 00	 call	 ?GetPathPacketDirPos@@YAEHH@Z ; GetPathPacketDirPos
  0066e	0f b6 c8	 movzx	 ecx, al
  00671	83 c4 08	 add	 esp, 8
  00674	03 c9		 add	 ecx, ecx
  00676	5b		 pop	 ebx

; 2557 : 			lpObj->MTX += RoadPathTable[tdir] * (-3);

  00677	0f b6 04 4d 00
	00 00 00	 movzx	 eax, BYTE PTR ?RoadPathTable@@3PAFA[ecx*2]
  0067f	69 c0 fd 00 00
	00		 imul	 eax, eax, 253
  00685	5f		 pop	 edi
  00686	00 86 54 01 00
	00		 add	 BYTE PTR [esi+340], al

; 2558 : 			lpObj->MTY += RoadPathTable[tdir+1] * (-3);

  0068c	0f b6 04 4d 02
	00 00 00	 movzx	 eax, BYTE PTR ?RoadPathTable@@3PAFA[ecx*2+2]
  00694	69 c0 fd 00 00
	00		 imul	 eax, eax, 253
  0069a	00 86 55 01 00
	00		 add	 BYTE PTR [esi+341], al
  006a0	5e		 pop	 esi

; 2575 : 	}
; 2576 : }

  006a1	8b e5		 mov	 esp, ebp
  006a3	5d		 pop	 ebp
  006a4	c3		 ret	 0
$LN56@gObjMonste:

; 2559 : 		}
; 2560 : 	}
; 2561 : 	else if ( lpObj->m_ActState.Emotion == 3 )

  006a5	83 f9 03	 cmp	 ecx, 3
  006a8	75 30		 jne	 SHORT $LN74@gObjMonste

; 2562 : 	{
; 2563 : 		if ( lpObj->m_ActState.EmotionCount > 0 )

  006aa	8a 8e c9 01 00
	00		 mov	 cl, BYTE PTR [esi+457]
  006b0	84 c9		 test	 cl, cl
  006b2	74 0a		 je	 SHORT $LN62@gObjMonste

; 2564 : 		{
; 2565 : 			lpObj->m_ActState.EmotionCount--;

  006b4	fe c9		 dec	 cl
  006b6	88 8e c9 01 00
	00		 mov	 BYTE PTR [esi+457], cl

; 2566 : 		}
; 2567 : 		else

  006bc	eb 0b		 jmp	 SHORT $LN63@gObjMonste
$LN62@gObjMonste:

; 2568 : 		{
; 2569 : 			lpObj->m_ActState.Emotion = 0;

  006be	25 0f ff ff ff	 and	 eax, -241		; ffffff0fH
  006c3	89 86 c8 01 00
	00		 mov	 DWORD PTR [esi+456], eax
$LN63@gObjMonste:

; 2570 : 		}
; 2571 : 
; 2572 : 		lpObj->m_ActState.Move = 0;
; 2573 : 		lpObj->m_ActState.Attack = 0;

  006c9	83 a6 c8 01 00
	00 f9		 and	 DWORD PTR [esi+456], -7	; fffffff9H

; 2574 : 		lpObj->NextActionTime = 400;

  006d0	c7 86 a0 05 00
	00 90 01 00 00	 mov	 DWORD PTR [esi+1440], 400 ; 00000190H
$LN74@gObjMonste:
  006da	5b		 pop	 ebx
$LN61@gObjMonste:
  006db	5f		 pop	 edi
  006dc	5e		 pop	 esi

; 2575 : 	}
; 2576 : }

  006dd	8b e5		 mov	 esp, ebp
  006df	5d		 pop	 ebp
  006e0	c3		 ret	 0
?gObjMonsterBaseAct@@YAXPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterBaseAct
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_mchk$1$ = -44						; size = 4
tv297 = -40						; size = 4
_maxmoverange$ = -36					; size = 4
_searchc$ = -32						; size = 4
_tpy$ = -26						; size = 1
_tpx$ = -25						; size = 1
__$SEHRec$ = -24					; size = 24
_lpObj$ = 8						; size = 4
?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterMoveAction, COMDAT

; 2176 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a fe		 push	 -2			; fffffffeH
  00005	68 00 00 00 00	 push	 OFFSET __sehtable$?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z
  0000a	68 00 00 00 00	 push	 OFFSET __except_handler4
  0000f	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00015	50		 push	 eax
  00016	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00019	53		 push	 ebx
  0001a	56		 push	 esi
  0001b	57		 push	 edi
  0001c	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00021	31 45 f8	 xor	 DWORD PTR __$SEHRec$[ebp+16], eax
  00024	33 c5		 xor	 eax, ebp
  00026	50		 push	 eax
  00027	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0002a	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00030	89 65 e8	 mov	 DWORD PTR __$SEHRec$[ebp], esp

; 2177 : 	if (DG_MAP_RANGE(lpObj->MapNumber) )

  00033	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00036	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  0003c	3c 41		 cmp	 al, 65			; 00000041H
  0003e	72 28		 jb	 SHORT $LN4@gObjMonste
  00040	b1 44		 mov	 cl, 68			; 00000044H
  00042	3a c8		 cmp	 cl, al
  00044	1b c0		 sbb	 eax, eax
  00046	83 c0 01	 add	 eax, 1
  00049	74 1d		 je	 SHORT $LN4@gObjMonste

; 2178 : 	{
; 2179 : 		gDoubleGoer.gObjMonsterMove(lpObj);

  0004b	56		 push	 esi
  0004c	b9 00 00 00 00	 mov	 ecx, OFFSET ?gDoubleGoer@@3VCDoubleGoerEvent@@A ; gDoubleGoer
  00051	e8 00 00 00 00	 call	 ?gObjMonsterMove@CDoubleGoerEvent@@QAEXPAUOBJECTSTRUCT@@@Z ; CDoubleGoerEvent::gObjMonsterMove

; 2235 : 				return;
; 2236 : 			}
; 2237 : 		}
; 2238 : 	}
; 2239 : }

  00056	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  00059	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00060	59		 pop	 ecx
  00061	5f		 pop	 edi
  00062	5e		 pop	 esi
  00063	5b		 pop	 ebx
  00064	8b e5		 mov	 esp, ebp
  00066	5d		 pop	 ebp
  00067	c3		 ret	 0
$LN4@gObjMonste:

; 2180 : 		return;
; 2181 : 	}
; 2182 : 
; 2183 : 	if( gObjCheckUsedBuffEffect(lpObj,BUFF_ICEARROW) == TRUE ||
; 2184 : 		gObjCheckUsedBuffEffect(lpObj,BUFF_STUN) == TRUE ||
; 2185 : 		gObjCheckUsedBuffEffect(lpObj,BUFF_SLEEP) == TRUE ||
; 2186 : 		gObjCheckUsedBuffEffect(lpObj,BUFF_FREEZE) == TRUE ||

  00068	6a 39		 push	 57			; 00000039H
  0006a	56		 push	 esi
  0006b	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  00070	83 c4 08	 add	 esp, 8
  00073	3c 01		 cmp	 al, 1
  00075	0f 84 db 01 00
	00		 je	 $LN6@gObjMonste
  0007b	6a 3d		 push	 61			; 0000003dH
  0007d	56		 push	 esi
  0007e	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  00083	83 c4 08	 add	 esp, 8
  00086	3c 01		 cmp	 al, 1
  00088	0f 84 c8 01 00
	00		 je	 $LN6@gObjMonste
  0008e	6a 48		 push	 72			; 00000048H
  00090	56		 push	 esi
  00091	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  00096	83 c4 08	 add	 esp, 8
  00099	3c 01		 cmp	 al, 1
  0009b	0f 84 b5 01 00
	00		 je	 $LN6@gObjMonste
  000a1	68 92 00 00 00	 push	 146			; 00000092H
  000a6	56		 push	 esi
  000a7	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  000ac	83 c4 08	 add	 esp, 8
  000af	3c 01		 cmp	 al, 1
  000b1	0f 84 9f 01 00
	00		 je	 $LN6@gObjMonste
  000b7	68 93 00 00 00	 push	 147			; 00000093H
  000bc	56		 push	 esi
  000bd	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  000c2	83 c4 08	 add	 esp, 8
  000c5	3c 01		 cmp	 al, 1
  000c7	0f 84 89 01 00
	00		 je	 $LN6@gObjMonste

; 2187 : 		gObjCheckUsedBuffEffect(lpObj,BUFF_EARTHBINDS) == TRUE )
; 2188 : 	{
; 2189 : 		return;
; 2190 : 	}
; 2191 : 
; 2192 : 	int maxmoverange = lpObj->m_MoveRange*2+1;

  000cd	0f bf 86 8e 06
	00 00		 movsx	 eax, WORD PTR [esi+1678]
  000d4	8d 04 45 01 00
	00 00		 lea	 eax, DWORD PTR [eax*2+1]
  000db	89 45 dc	 mov	 DWORD PTR _maxmoverange$[ebp], eax

; 2193 : 	int searchc=10;

  000de	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH

; 2194 : 	lpObj->NextActionTime = 1000;

  000e3	c7 86 a0 05 00
	00 e8 03 00 00	 mov	 DWORD PTR [esi+1440], 1000 ; 000003e8H
  000ed	0f 1f 00	 npad	 3
$LL2@gObjMonste:

; 2195 : 	BYTE tpx;
; 2196 : 	BYTE tpy;
; 2197 : 
; 2198 : 	while ( searchc-- != 0 )

  000f0	8b c1		 mov	 eax, ecx
  000f2	49		 dec	 ecx
  000f3	89 4d e0	 mov	 DWORD PTR _searchc$[ebp], ecx
  000f6	85 c0		 test	 eax, eax
  000f8	0f 84 58 01 00
	00		 je	 $LN6@gObjMonste

; 2199 : 	{
; 2200 : 		__try

  000fe	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$SEHRec$[ebp+20], 0

; 2201 : 		{
; 2202 : 			tpx = (lpObj->X - lpObj->m_MoveRange) + (rand()%maxmoverange);

  00105	e8 00 00 00 00	 call	 _rand
  0010a	8b 4d dc	 mov	 ecx, DWORD PTR _maxmoverange$[ebp]
  0010d	99		 cdq
  0010e	f7 f9		 idiv	 ecx
  00110	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  00117	03 d0		 add	 edx, eax
  00119	0f bf 86 8e 06
	00 00		 movsx	 eax, WORD PTR [esi+1678]
  00120	2b d0		 sub	 edx, eax
  00122	88 55 e7	 mov	 BYTE PTR _tpx$[ebp], dl

; 2203 : 			tpy = (lpObj->Y - lpObj->m_MoveRange) + (rand()%maxmoverange);

  00125	e8 00 00 00 00	 call	 _rand
  0012a	8b 4d dc	 mov	 ecx, DWORD PTR _maxmoverange$[ebp]
  0012d	99		 cdq
  0012e	f7 f9		 idiv	 ecx
  00130	0f b6 8e 21 01
	00 00		 movzx	 ecx, BYTE PTR [esi+289]
  00137	03 ca		 add	 ecx, edx
  00139	0f bf 86 8e 06
	00 00		 movsx	 eax, WORD PTR [esi+1678]
  00140	2b c8		 sub	 ecx, eax
  00142	89 4d d8	 mov	 DWORD PTR tv297[ebp], ecx
  00145	88 4d e6	 mov	 BYTE PTR _tpy$[ebp], cl

; 2204 : 		}

  00148	c7 45 fc fe ff
	ff ff		 mov	 DWORD PTR __$SEHRec$[ebp+20], -2 ; fffffffeH
  0014f	eb 20		 jmp	 SHORT $LN20@gObjMonste
$LN17@gObjMonste:
$LN26@gObjMonste:

; 2205 : 		__except(maxmoverange=1, 1)

  00151	c7 45 dc 01 00
	00 00		 mov	 DWORD PTR _maxmoverange$[ebp], 1
  00158	b8 01 00 00 00	 mov	 eax, 1
$LN25@gObjMonste:
$LN19@gObjMonste:
  0015d	c3		 ret	 0
$LN18@gObjMonste:
  0015e	8b 65 e8	 mov	 esp, DWORD PTR __$SEHRec$[ebp]

; 2204 : 		}

  00161	c7 45 fc fe ff
	ff ff		 mov	 DWORD PTR __$SEHRec$[ebp+20], -2 ; fffffffeH
  00168	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  0016b	8a 4d e6	 mov	 cl, BYTE PTR _tpy$[ebp]
  0016e	89 4d d8	 mov	 DWORD PTR tv297[ebp], ecx
$LN20@gObjMonste:

; 2206 : 		{
; 2207 : 
; 2208 : 		}
; 2209 : 
; 2210 : 		int mchk = gObjMonsterMoveCheck(lpObj, tpx, tpy);

  00171	0f b6 d9	 movzx	 ebx, cl
  00174	0f b6 7d e7	 movzx	 edi, BYTE PTR _tpx$[ebp]
  00178	53		 push	 ebx
  00179	57		 push	 edi
  0017a	56		 push	 esi
  0017b	e8 00 00 00 00	 call	 ?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z ; gObjMonsterMoveCheck
  00180	83 c4 0c	 add	 esp, 12			; 0000000cH
  00183	89 45 d4	 mov	 DWORD PTR _mchk$1$[ebp], eax

; 2211 : 		BYTE attr = MapC[lpObj->MapNumber].GetAttr(tpx, tpy);

  00186	53		 push	 ebx
  00187	57		 push	 edi
  00188	0f b6 8e 23 01
	00 00		 movzx	 ecx, BYTE PTR [esi+291]
  0018f	69 c9 28 38 05
	00		 imul	 ecx, ecx, 342056
  00195	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  0019b	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  001a0	8a c8		 mov	 cl, al

; 2212 : 
; 2213 : 		if ( (lpObj->Class ==249 || lpObj->Class == 247) && mchk )	// Guard

  001a2	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  001a9	ba f9 00 00 00	 mov	 edx, 249		; 000000f9H
  001ae	66 3b c2	 cmp	 ax, dx
  001b1	74 0a		 je	 SHORT $LN10@gObjMonste
  001b3	ba f7 00 00 00	 mov	 edx, 247		; 000000f7H
  001b8	66 3b c2	 cmp	 ax, dx
  001bb	75 48		 jne	 SHORT $LN24@gObjMonste
$LN10@gObjMonste:
  001bd	8b 45 d4	 mov	 eax, DWORD PTR _mchk$1$[ebp]
  001c0	85 c0		 test	 eax, eax
  001c2	74 44		 je	 SHORT $LN8@gObjMonste

; 2214 : 		{
; 2215 : 			if ( (attr&2)!=2)

  001c4	f6 c1 02	 test	 cl, 2
  001c7	8b 4d e0	 mov	 ecx, DWORD PTR _searchc$[ebp]
  001ca	0f 85 20 ff ff
	ff		 jne	 $LL2@gObjMonste

; 2216 : 			{
; 2217 : 				lpObj->MTX = tpx;

  001d0	8a 45 e7	 mov	 al, BYTE PTR _tpx$[ebp]
  001d3	88 86 54 01 00
	00		 mov	 BYTE PTR [esi+340], al

; 2218 : 				lpObj->MTY = tpy;

  001d9	8b 45 d8	 mov	 eax, DWORD PTR tv297[ebp]
  001dc	88 86 55 01 00
	00		 mov	 BYTE PTR [esi+341], al

; 2219 : 				lpObj->m_ActState.Move = 1;

  001e2	83 8e c8 01 00
	00 04		 or	 DWORD PTR [esi+456], 4

; 2220 : 				lpObj->NextActionTime = 3000;

  001e9	c7 86 a0 05 00
	00 b8 0b 00 00	 mov	 DWORD PTR [esi+1440], 3000 ; 00000bb8H

; 2235 : 				return;
; 2236 : 			}
; 2237 : 		}
; 2238 : 	}
; 2239 : }

  001f3	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  001f6	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  001fd	59		 pop	 ecx
  001fe	5f		 pop	 edi
  001ff	5e		 pop	 esi
  00200	5b		 pop	 ebx
  00201	8b e5		 mov	 esp, ebp
  00203	5d		 pop	 ebp
  00204	c3		 ret	 0
$LN24@gObjMonste:
  00205	8b 45 d4	 mov	 eax, DWORD PTR _mchk$1$[ebp]
$LN8@gObjMonste:
  00208	f6 c1 0f	 test	 cl, 15			; 0000000fH

; 2221 : 				return;
; 2222 : 			}
; 2223 : 		}
; 2224 : 		else
; 2225 : 		{
; 2226 : 			if ( (attr&1)!=1 && (attr&2)!=2 && (attr&4)!=4 && (attr&8)!= 8 && mchk )

  0020b	8b 4d e0	 mov	 ecx, DWORD PTR _searchc$[ebp]
  0020e	0f 85 dc fe ff
	ff		 jne	 $LL2@gObjMonste
  00214	85 c0		 test	 eax, eax
  00216	0f 84 d4 fe ff
	ff		 je	 $LL2@gObjMonste

; 2227 : 			{
; 2228 : 				lpObj->TargetNumber = -1;

  0021c	83 c8 ff	 or	 eax, -1
  0021f	66 89 86 38 06
	00 00		 mov	 WORD PTR [esi+1592], ax

; 2229 : 				lpObj->m_ActState.Attack = 0;
; 2230 : 				lpObj->NextActionTime = 500;

  00226	c7 86 a0 05 00
	00 f4 01 00 00	 mov	 DWORD PTR [esi+1440], 500 ; 000001f4H

; 2232 : 				lpObj->MTX = tpx;

  00230	8a 45 e7	 mov	 al, BYTE PTR _tpx$[ebp]
  00233	88 86 54 01 00
	00		 mov	 BYTE PTR [esi+340], al

; 2233 : 				lpObj->MTY = tpy;

  00239	8b 45 d8	 mov	 eax, DWORD PTR tv297[ebp]
  0023c	88 86 55 01 00
	00		 mov	 BYTE PTR [esi+341], al

; 2231 : 				lpObj->m_ActState.Emotion = 0;

  00242	8b 86 c8 01 00
	00		 mov	 eax, DWORD PTR [esi+456]
  00248	25 0d ff ff ff	 and	 eax, -243		; ffffff0dH

; 2234 : 				lpObj->m_ActState.Move = 1;

  0024d	83 c8 04	 or	 eax, 4
  00250	89 86 c8 01 00
	00		 mov	 DWORD PTR [esi+456], eax
$LN6@gObjMonste:

; 2235 : 				return;
; 2236 : 			}
; 2237 : 		}
; 2238 : 	}
; 2239 : }

  00256	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  00259	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00260	59		 pop	 ecx
  00261	5f		 pop	 edi
  00262	5e		 pop	 esi
  00263	5b		 pop	 ebx
  00264	8b e5		 mov	 esp, ebp
  00266	5d		 pop	 ebp
  00267	c3		 ret	 0
?gObjMonsterMoveAction@@YAXPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterMoveAction
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?PathFindMoveMsgSend@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_lpObj$GSCopy$1$ = -176					; size = 4
tv607 = -172						; size = 4
_sy$1$ = -168						; size = 4
_ty$1$ = -164						; size = 4
_sx$1$ = -164						; size = 4
_pos$1$ = -157						; size = 1
_path$ = -156						; size = 128
_pMove$ = -28						; size = 13
_bPath$ = -12						; size = 8
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?PathFindMoveMsgSend@@YAHPAUOBJECTSTRUCT@@@Z PROC	; PathFindMoveMsgSend, COMDAT

; 2074 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec b0 00 00
	00		 sub	 esp, 176		; 000000b0H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	56		 push	 esi
  00014	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]

; 2075 : 	if( gObjCheckUsedBuffEffect(lpObj,BUFF_ICEARROW) == TRUE ||
; 2076 : 		gObjCheckUsedBuffEffect(lpObj,BUFF_STUN) == TRUE  ||
; 2077 : 		gObjCheckUsedBuffEffect(lpObj,BUFF_SLEEP) == TRUE ||
; 2078 : 		gObjCheckUsedBuffEffect(lpObj,BUFF_FREEZE) == TRUE ||

  00017	6a 39		 push	 57			; 00000039H
  00019	56		 push	 esi
  0001a	89 b5 50 ff ff
	ff		 mov	 DWORD PTR _lpObj$GSCopy$1$[ebp], esi
  00020	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  00025	83 c4 08	 add	 esp, 8
  00028	3c 01		 cmp	 al, 1
  0002a	0f 84 4f 03 00
	00		 je	 $LN6@PathFindMo
  00030	6a 3d		 push	 61			; 0000003dH
  00032	56		 push	 esi
  00033	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  00038	83 c4 08	 add	 esp, 8
  0003b	3c 01		 cmp	 al, 1
  0003d	0f 84 3c 03 00
	00		 je	 $LN6@PathFindMo
  00043	6a 48		 push	 72			; 00000048H
  00045	56		 push	 esi
  00046	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  0004b	83 c4 08	 add	 esp, 8
  0004e	3c 01		 cmp	 al, 1
  00050	0f 84 29 03 00
	00		 je	 $LN6@PathFindMo
  00056	68 92 00 00 00	 push	 146			; 00000092H
  0005b	56		 push	 esi
  0005c	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  00061	83 c4 08	 add	 esp, 8
  00064	3c 01		 cmp	 al, 1
  00066	0f 84 13 03 00
	00		 je	 $LN6@PathFindMo
  0006c	68 93 00 00 00	 push	 147			; 00000093H
  00071	56		 push	 esi
  00072	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  00077	83 c4 08	 add	 esp, 8
  0007a	3c 01		 cmp	 al, 1
  0007c	0f 84 fd 02 00
	00		 je	 $LN6@PathFindMo

; 2079 : 		gObjCheckUsedBuffEffect(lpObj,BUFF_EARTHBINDS) == TRUE )
; 2080 : 	{
; 2081 : 		return FALSE;
; 2082 : 	}
; 2083 : 
; 2084 : 	PATH_t path;
; 2085 : 	PMSG_MOVE pMove;
; 2086 : 	unsigned char bPath[8];
; 2087 : 	
; 2088 : 	
; 2089 : 	pMove.h.c = 0xC1;
; 2090 : #if (__ENG__ == 1)
; 2091 : 	pMove.h.headcode = 0xD4;
; 2092 : #else
; 2093 : 	// KOR PROTOCOL !!!
; 2094 : 	pMove.h.headcode = 0xD7;
; 2095 : #endif
; 2096 : 	pMove.h.size = sizeof(pMove);
; 2097 : 	pMove.X = lpObj->X;
; 2098 : 	pMove.Y = lpObj->Y;
; 2099 : 
; 2100 : 	BOOL bPathFound = FALSE;
; 2101 : 
; 2102 : 	if ( lpObj->Type == OBJ_MONSTER && lpObj->m_bIsInMonsterHerd != FALSE )

  00082	80 7e 50 02	 cmp	 BYTE PTR [esi+80], 2
  00086	8a 96 20 01 00
	00		 mov	 dl, BYTE PTR [esi+288]
  0008c	53		 push	 ebx
  0008d	8a 9e 21 01 00
	00		 mov	 bl, BYTE PTR [esi+289]
  00093	66 c7 45 e4 c1
	0d		 mov	 WORD PTR _pMove$[ebp], 3521 ; 00000dc1H
  00099	c6 45 e6 d4	 mov	 BYTE PTR _pMove$[ebp+2], 212 ; 000000d4H
  0009d	88 55 e7	 mov	 BYTE PTR _pMove$[ebp+3], dl
  000a0	88 5d e8	 mov	 BYTE PTR _pMove$[ebp+4], bl
  000a3	75 42		 jne	 SHORT $LN7@PathFindMo
  000a5	83 be 78 14 00
	00 00		 cmp	 DWORD PTR [esi+5240], 0
  000ac	74 39		 je	 SHORT $LN7@PathFindMo

; 2103 : 	{
; 2104 : 		bPathFound = MapC[lpObj->MapNumber].PathFinding3(lpObj->X, lpObj->Y, lpObj->MTX, lpObj->MTY, &path);

  000ae	8d 85 64 ff ff
	ff		 lea	 eax, DWORD PTR _path$[ebp]
  000b4	50		 push	 eax
  000b5	0f b6 86 55 01
	00 00		 movzx	 eax, BYTE PTR [esi+341]
  000bc	50		 push	 eax
  000bd	0f b6 86 54 01
	00 00		 movzx	 eax, BYTE PTR [esi+340]
  000c4	50		 push	 eax
  000c5	0f b6 c3	 movzx	 eax, bl
  000c8	50		 push	 eax
  000c9	0f b6 c2	 movzx	 eax, dl
  000cc	50		 push	 eax
  000cd	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  000d4	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  000da	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  000e0	e8 00 00 00 00	 call	 ?PathFinding3@MapClass@@QAE_NHHHHPAUPATH_t@@@Z ; MapClass::PathFinding3
  000e5	eb 7e		 jmp	 SHORT $LN25@PathFindMo
$LN7@PathFindMo:

; 2105 : 	}
; 2106 : 	else if( DG_MAP_RANGE(lpObj->MapNumber) )

  000e7	8a 8e 23 01 00
	00		 mov	 cl, BYTE PTR [esi+291]
  000ed	80 f9 41	 cmp	 cl, 65			; 00000041H
  000f0	72 40		 jb	 SHORT $LN9@PathFindMo
  000f2	b0 44		 mov	 al, 68			; 00000044H
  000f4	3a c1		 cmp	 al, cl
  000f6	1b c0		 sbb	 eax, eax
  000f8	83 c0 01	 add	 eax, 1
  000fb	74 35		 je	 SHORT $LN9@PathFindMo

; 2107 : 	{
; 2108 : 		bPathFound = MapC[lpObj->MapNumber].PathFinding4(lpObj->X, lpObj->Y, lpObj->MTX, lpObj->MTY, &path);

  000fd	8d 85 64 ff ff
	ff		 lea	 eax, DWORD PTR _path$[ebp]
  00103	50		 push	 eax
  00104	0f b6 86 55 01
	00 00		 movzx	 eax, BYTE PTR [esi+341]
  0010b	50		 push	 eax
  0010c	0f b6 86 54 01
	00 00		 movzx	 eax, BYTE PTR [esi+340]
  00113	50		 push	 eax
  00114	0f b6 c3	 movzx	 eax, bl
  00117	50		 push	 eax
  00118	0f b6 c2	 movzx	 eax, dl
  0011b	50		 push	 eax
  0011c	0f b6 c1	 movzx	 eax, cl
  0011f	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  00125	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  0012b	e8 00 00 00 00	 call	 ?PathFinding4@MapClass@@QAE_NHHHHPAUPATH_t@@@Z ; MapClass::PathFinding4

; 2109 : 	}
; 2110 : 	else

  00130	eb 33		 jmp	 SHORT $LN25@PathFindMo
$LN9@PathFindMo:

; 2111 : 	{
; 2112 : 		bPathFound = MapC[lpObj->MapNumber].PathFinding2(lpObj->X, lpObj->Y, lpObj->MTX, lpObj->MTY, &path);

  00132	8d 85 64 ff ff
	ff		 lea	 eax, DWORD PTR _path$[ebp]
  00138	50		 push	 eax
  00139	0f b6 86 55 01
	00 00		 movzx	 eax, BYTE PTR [esi+341]
  00140	50		 push	 eax
  00141	0f b6 86 54 01
	00 00		 movzx	 eax, BYTE PTR [esi+340]
  00148	50		 push	 eax
  00149	0f b6 c3	 movzx	 eax, bl
  0014c	50		 push	 eax
  0014d	0f b6 c2	 movzx	 eax, dl
  00150	50		 push	 eax
  00151	0f b6 c1	 movzx	 eax, cl
  00154	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  0015a	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00160	e8 00 00 00 00	 call	 ?PathFinding2@MapClass@@QAE_NHHHHPAUPATH_t@@@Z ; MapClass::PathFinding2
$LN25@PathFindMo:
  00165	0f b6 c0	 movzx	 eax, al

; 2113 : 	}
; 2114 : 
; 2115 : 	if ( bPathFound )

  00168	85 c0		 test	 eax, eax
  0016a	0f 84 fd 01 00
	00		 je	 $LN11@PathFindMo

; 2116 : 	{
; 2117 : 		int tx;
; 2118 : 		int ty;
; 2119 : 		int sx;
; 2120 : 		int sy;
; 2121 : 		BYTE pos = 0;
; 2122 : 
; 2123 : 		memset(bPath, 0, sizeof(bPath));
; 2124 : 		bPath[0] = (lpObj->Dir *16) + ((path.PathNum-1)&0x0F);

  00170	8b 8d 64 ff ff
	ff		 mov	 ecx, DWORD PTR _path$[ebp]
  00176	0f 57 c0	 xorps	 xmm0, xmm0
  00179	8a 86 22 01 00
	00		 mov	 al, BYTE PTR [esi+290]
  0017f	8a f9		 mov	 bh, cl
  00181	fe cf		 dec	 bh
  00183	c0 e0 04	 shl	 al, 4
  00186	80 e7 0f	 and	 bh, 15			; 0000000fH
  00189	66 0f d6 45 f4	 movq	 QWORD PTR _bPath$[ebp], xmm0
  0018e	02 f8		 add	 bh, al
  00190	32 db		 xor	 bl, bl

; 2125 : 		sx = lpObj->X;

  00192	8a 86 20 01 00
	00		 mov	 al, BYTE PTR [esi+288]
  00198	0f b6 d0	 movzx	 edx, al
  0019b	88 7d f4	 mov	 BYTE PTR _bPath$[ebp], bh
  0019e	89 95 5c ff ff
	ff		 mov	 DWORD PTR _sx$1$[ebp], edx
  001a4	57		 push	 edi

; 2126 : 		sy = lpObj->Y;

  001a5	0f b6 be 21 01
	00 00		 movzx	 edi, BYTE PTR [esi+289]

; 2127 : 		lpObj->PathX[0] = lpObj->X;

  001ac	88 86 80 01 00
	00		 mov	 BYTE PTR [esi+384], al

; 2128 : 		lpObj->PathY[0] = lpObj->Y;

  001b2	8a 86 21 01 00
	00		 mov	 al, BYTE PTR [esi+289]
  001b8	88 86 8f 01 00
	00		 mov	 BYTE PTR [esi+399], al

; 2129 : 		lpObj->PathDir[0] = lpObj->Dir;

  001be	8a 86 22 01 00
	00		 mov	 al, BYTE PTR [esi+290]
  001c4	89 bd 58 ff ff
	ff		 mov	 DWORD PTR _sy$1$[ebp], edi
  001ca	88 86 9e 01 00
	00		 mov	 BYTE PTR [esi+414], al

; 2130 : 
; 2131 : 		for (int n=1;n<path.PathNum;n++)

  001d0	83 f9 01	 cmp	 ecx, 1
  001d3	0f 8e c9 00 00
	00		 jle	 $LN3@PathFindMo
  001d9	8d 86 8e 01 00
	00		 lea	 eax, DWORD PTR [esi+398]
  001df	bf 02 00 00 00	 mov	 edi, 2
  001e4	89 85 54 ff ff
	ff		 mov	 DWORD PTR tv607[ebp], eax
  001ea	8d 75 a8	 lea	 esi, DWORD PTR _path$[ebp+68]
  001ed	eb 07		 jmp	 SHORT $LN4@PathFindMo
  001ef	90		 npad	 1
$LL22@PathFindMo:
  001f0	8b 95 5c ff ff
	ff		 mov	 edx, DWORD PTR _sx$1$[ebp]
$LN4@PathFindMo:

; 2132 : 		{
; 2133 : 			tx = path.PathX[n];
; 2134 : 			ty = path.PathY[n];

  001f6	8b 06		 mov	 eax, DWORD PTR [esi]
  001f8	8b 5e c4	 mov	 ebx, DWORD PTR [esi-60]
  001fb	89 85 5c ff ff
	ff		 mov	 DWORD PTR _ty$1$[ebp], eax

; 2135 : 			pos = GetPathPacketDirPos(tx-sx, ty-sy);

  00201	2b 85 58 ff ff
	ff		 sub	 eax, DWORD PTR _sy$1$[ebp]
  00207	50		 push	 eax
  00208	8b c3		 mov	 eax, ebx
  0020a	2b c2		 sub	 eax, edx
  0020c	50		 push	 eax
  0020d	e8 00 00 00 00	 call	 ?GetPathPacketDirPos@@YAEHH@Z ; GetPathPacketDirPos

; 2136 : 			lpObj->PathX[n] = tx;
; 2137 : 			lpObj->PathY[n] = ty;

  00212	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _ty$1$[ebp]
  00218	8a d0		 mov	 dl, al
  0021a	8b 85 54 ff ff
	ff		 mov	 eax, DWORD PTR tv607[ebp]
  00220	83 c4 08	 add	 esp, 8

; 2138 : 			lpObj->PathDir[n] = pos;
; 2139 : 			sx = tx;
; 2140 : 			sy = ty;

  00223	89 8d 58 ff ff
	ff		 mov	 DWORD PTR _sy$1$[ebp], ecx
  00229	88 95 63 ff ff
	ff		 mov	 BYTE PTR _pos$1$[ebp], dl
  0022f	89 9d 5c ff ff
	ff		 mov	 DWORD PTR _sx$1$[ebp], ebx
  00235	88 0c 38	 mov	 BYTE PTR [eax+edi], cl

; 2141 : 
; 2142 : 			if ( (n%2)==1 )

  00238	8d 4f ff	 lea	 ecx, DWORD PTR [edi-1]
  0023b	88 5c 38 f1	 mov	 BYTE PTR [eax+edi-15], bl
  0023f	88 54 38 0f	 mov	 BYTE PTR [eax+edi+15], dl
  00243	81 e1 01 00 00
	80		 and	 ecx, -2147483647	; 80000001H
  00249	79 05		 jns	 SHORT $LN24@PathFindMo
  0024b	49		 dec	 ecx
  0024c	83 c9 fe	 or	 ecx, -2			; fffffffeH
  0024f	41		 inc	 ecx
$LN24@PathFindMo:
  00250	83 f9 01	 cmp	 ecx, 1
  00253	75 16		 jne	 SHORT $LN12@PathFindMo

; 2143 : 			{
; 2144 : 				bPath[(n+1)/2] = (pos * 16);

  00255	8a ca		 mov	 cl, dl
  00257	c0 e1 04	 shl	 cl, 4
  0025a	8b c7		 mov	 eax, edi
  0025c	85 c0		 test	 eax, eax
  0025e	79 03		 jns	 SHORT $LN27@PathFindMo
  00260	83 c0 01	 add	 eax, 1
$LN27@PathFindMo:
  00263	d1 f8		 sar	 eax, 1
  00265	88 4c 05 f4	 mov	 BYTE PTR _bPath$[ebp+eax], cl

; 2145 : 			}
; 2146 : 			else

  00269	eb 0f		 jmp	 SHORT $LN2@PathFindMo
$LN12@PathFindMo:

; 2147 : 			{
; 2148 : 				bPath[(n+1)/2] |= pos;

  0026b	8b c7		 mov	 eax, edi
  0026d	85 c0		 test	 eax, eax
  0026f	79 03		 jns	 SHORT $LN28@PathFindMo
  00271	83 c0 01	 add	 eax, 1
$LN28@PathFindMo:
  00274	d1 f8		 sar	 eax, 1
  00276	08 54 05 f4	 or	 BYTE PTR _bPath$[ebp+eax], dl
$LN2@PathFindMo:

; 2130 : 
; 2131 : 		for (int n=1;n<path.PathNum;n++)

  0027a	47		 inc	 edi
  0027b	83 c6 04	 add	 esi, 4
  0027e	8d 47 ff	 lea	 eax, DWORD PTR [edi-1]
  00281	3b 85 64 ff ff
	ff		 cmp	 eax, DWORD PTR _path$[ebp]
  00287	0f 8c 63 ff ff
	ff		 jl	 $LL22@PathFindMo
  0028d	8a 7d f4	 mov	 bh, BYTE PTR _bPath$[ebp]
  00290	8b b5 50 ff ff
	ff		 mov	 esi, DWORD PTR _lpObj$GSCopy$1$[ebp]
  00296	8a 9d 63 ff ff
	ff		 mov	 bl, BYTE PTR _pos$1$[ebp]
  0029c	8b bd 58 ff ff
	ff		 mov	 edi, DWORD PTR _sy$1$[ebp]
$LN3@PathFindMo:

; 2149 : 			}
; 2150 : 		}
; 2151 : 
; 2152 : 		lpObj->Dir = bPath[0] >> 4;

  002a2	8a c7		 mov	 al, bh

; 2153 : 		lpObj->PathCount = bPath[0] & 0x0F;
; 2154 : 		lpObj->PathCur = 1;

  002a4	c7 86 5c 01 00
	00 01 00 00 00	 mov	 DWORD PTR [esi+348], 1
  002ae	c0 e8 04	 shr	 al, 4
  002b1	88 86 22 01 00
	00		 mov	 BYTE PTR [esi+290], al
  002b7	0f b6 c7	 movzx	 eax, bh
  002ba	83 e0 0f	 and	 eax, 15			; 0000000fH
  002bd	89 86 58 01 00
	00		 mov	 DWORD PTR [esi+344], eax

; 2155 : 		lpObj->PathTime = GetTickCount();

  002c3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0

; 2156 : 		bPath[0] &= 0x0F;

  002c9	80 e7 0f	 and	 bh, 15			; 0000000fH

; 2157 : 		bPath[0] |= pos*16;

  002cc	c0 e3 04	 shl	 bl, 4
  002cf	0a fb		 or	 bh, bl
  002d1	89 86 b0 01 00
	00		 mov	 DWORD PTR [esi+432], eax

; 2158 : 		memcpy(pMove.Path, bPath, sizeof(pMove.Path));
; 2159 : 
; 2160 : 		if ( lpObj->PathCount > 0 )

  002d7	83 be 58 01 00
	00 00		 cmp	 DWORD PTR [esi+344], 0
  002de	88 7d f4	 mov	 BYTE PTR _bPath$[ebp], bh
  002e1	8b 45 f4	 mov	 eax, DWORD PTR _bPath$[ebp]
  002e4	89 45 e9	 mov	 DWORD PTR _pMove$[ebp+5], eax
  002e7	8b 45 f8	 mov	 eax, DWORD PTR _bPath$[ebp+4]
  002ea	89 45 ed	 mov	 DWORD PTR _pMove$[ebp+9], eax
  002ed	7e 5a		 jle	 SHORT $LN14@PathFindMo

; 2161 : 		{
; 2162 : 			MapC[lpObj->MapNumber].ClearStandAttr(lpObj->m_OldX, lpObj->m_OldY);

  002ef	0f b6 86 51 01
	00 00		 movzx	 eax, BYTE PTR [esi+337]
  002f6	50		 push	 eax
  002f7	0f b6 86 50 01
	00 00		 movzx	 eax, BYTE PTR [esi+336]
  002fe	50		 push	 eax
  002ff	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  00306	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  0030c	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00312	e8 00 00 00 00	 call	 ?ClearStandAttr@MapClass@@QAEXHH@Z ; MapClass::ClearStandAttr

; 2163 : 			MapC[lpObj->MapNumber].SetStandAttr(sx, sy);

  00317	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  0031e	8b 9d 5c ff ff
	ff		 mov	 ebx, DWORD PTR _sx$1$[ebp]
  00324	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  0032a	57		 push	 edi
  0032b	53		 push	 ebx
  0032c	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00332	e8 00 00 00 00	 call	 ?SetStandAttr@MapClass@@QAEXHH@Z ; MapClass::SetStandAttr

; 2164 : 			lpObj->m_OldX = sx;
; 2165 : 			lpObj->m_OldY = sy;

  00337	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _sy$1$[ebp]
  0033d	88 9e 50 01 00
	00		 mov	 BYTE PTR [esi+336], bl
  00343	88 86 51 01 00
	00		 mov	 BYTE PTR [esi+337], al
$LN14@PathFindMo:

; 2166 : 		}
; 2167 : 
; 2168 : 		PMoveProc(&pMove, lpObj->m_Index);

  00349	ff 36		 push	 DWORD PTR [esi]
  0034b	8d 45 e4	 lea	 eax, DWORD PTR _pMove$[ebp]
  0034e	50		 push	 eax
  0034f	e8 00 00 00 00	 call	 ?PMoveProc@@YAXPAUPMSG_MOVE@@H@Z ; PMoveProc
  00354	83 c4 08	 add	 esp, 8

; 2169 : 		return TRUE;

  00357	b8 01 00 00 00	 mov	 eax, 1
  0035c	5f		 pop	 edi
  0035d	5b		 pop	 ebx
  0035e	5e		 pop	 esi

; 2173 : }

  0035f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00362	33 cd		 xor	 ecx, ebp
  00364	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00369	8b e5		 mov	 esp, ebp
  0036b	5d		 pop	 ebp
  0036c	c3		 ret	 0
$LN11@PathFindMo:
  0036d	5b		 pop	 ebx

; 2170 : 	}
; 2171 : 
; 2172 : 	return FALSE;

  0036e	33 c0		 xor	 eax, eax
  00370	5e		 pop	 esi

; 2173 : }

  00371	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00374	33 cd		 xor	 ecx, ebp
  00376	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0037b	8b e5		 mov	 esp, ebp
  0037d	5d		 pop	 ebp
  0037e	c3		 ret	 0
$LN6@PathFindMo:
  0037f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00382	33 c0		 xor	 eax, eax
  00384	33 cd		 xor	 ecx, ebp
  00386	5e		 pop	 esi
  00387	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0038c	8b e5		 mov	 esp, ebp
  0038e	5d		 pop	 ebp
  0038f	c3		 ret	 0
?PathFindMoveMsgSend@@YAHPAUOBJECTSTRUCT@@@Z ENDP	; PathFindMoveMsgSend
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterAttack@@YAXPAUOBJECTSTRUCT@@0@Z
_TEXT	SEGMENT
_pDuration$1 = -20					; size = 14
_pAttackMsg$2 = -16					; size = 8
_pAttackMsg$3 = -16					; size = 7
_pAttackMsg$4 = -16					; size = 8
_pAttackMsg$5 = -16					; size = 8
_pAttackMsg$6 = -16					; size = 8
_pAttackMsg$7 = -16					; size = 8
_pAttackMsg$8 = -16					; size = 8
_pAttackMsg$9 = -16					; size = 8
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_lpTargetObj$ = 12					; size = 4
?gObjMonsterAttack@@YAXPAUOBJECTSTRUCT@@0@Z PROC	; gObjMonsterAttack, COMDAT

; 1840 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]

; 1841 : 	int AttackType = lpObj->m_AttackType;
; 1842 : 
; 1843 : 	if ( AttackType >= 100 )

  00014	33 c0		 xor	 eax, eax
  00016	0f bf 8e 92 06
	00 00		 movsx	 ecx, WORD PTR [esi+1682]
  0001d	83 f9 64	 cmp	 ecx, 100		; 00000064H
  00020	0f 4d c8	 cmovge	 ecx, eax

; 1844 : 		AttackType = 0;
; 1845 : 
; 1846 : 	if ( lpObj->m_iMonsterBattleDelay > 0 )

  00023	38 86 a9 05 00
	00		 cmp	 BYTE PTR [esi+1449], al
  00029	0f 8f 6d 05 00
	00		 jg	 $LN2@gObjMonste

; 1847 : 		return;
; 1848 : 
; 1849 : 	if ( lpObj->Class == 144 || lpObj->Class == 174 || lpObj->Class == 182 || lpObj->Class == 190 ||
; 1850 : 		lpObj->Class == 260 || lpObj->Class == 268 )

  0002f	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  00036	ba 90 00 00 00	 mov	 edx, 144		; 00000090H
  0003b	66 3b c2	 cmp	 ax, dx
  0003e	74 32		 je	 SHORT $LN7@gObjMonste
  00040	ba ae 00 00 00	 mov	 edx, 174		; 000000aeH
  00045	66 3b c2	 cmp	 ax, dx
  00048	74 28		 je	 SHORT $LN7@gObjMonste
  0004a	ba b6 00 00 00	 mov	 edx, 182		; 000000b6H
  0004f	66 3b c2	 cmp	 ax, dx
  00052	74 1e		 je	 SHORT $LN7@gObjMonste
  00054	ba be 00 00 00	 mov	 edx, 190		; 000000beH
  00059	66 3b c2	 cmp	 ax, dx
  0005c	74 14		 je	 SHORT $LN7@gObjMonste
  0005e	ba 04 01 00 00	 mov	 edx, 260		; 00000104H
  00063	66 3b c2	 cmp	 ax, dx
  00066	74 0a		 je	 SHORT $LN7@gObjMonste
  00068	ba 0c 01 00 00	 mov	 edx, 268		; 0000010cH
  0006d	66 3b c2	 cmp	 ax, dx
  00070	75 20		 jne	 SHORT $LN6@gObjMonste
$LN7@gObjMonste:

; 1851 : 	{
; 1852 : 		if ( rand()%2 )

  00072	e8 00 00 00 00	 call	 _rand
  00077	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0007c	79 05		 jns	 SHORT $LN31@gObjMonste
  0007e	48		 dec	 eax
  0007f	83 c8 fe	 or	 eax, -2			; fffffffeH
  00082	40		 inc	 eax
$LN31@gObjMonste:
  00083	74 0b		 je	 SHORT $LN8@gObjMonste

; 1853 : 		{
; 1854 : 			PMSG_MAGICATTACK pAttackMsg;
; 1855 : 
; 1856 : 			pAttackMsg.MagicNumberH = 0;
; 1857 : 			pAttackMsg.MagicNumberL = 0;

  00085	66 c7 45 f6 00
	00		 mov	 WORD PTR _pAttackMsg$9[ebp+6], 0

; 1858 : 
; 1859 : 			pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 1860 : 			pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1861 : 			pAttackMsg.Dis = 0;
; 1862 : 
; 1863 : 			CGMagicAttack(&pAttackMsg, lpObj->m_Index);
; 1864 : 			return;

  0008b	e9 e6 03 00 00	 jmp	 $LN38@gObjMonste
$LN8@gObjMonste:

; 1865 : 		}
; 1866 : 
; 1867 : 		AttackType = 0;

  00090	33 c9		 xor	 ecx, ecx
$LN6@gObjMonste:

; 1868 : 	}
; 1869 : 
; 1870 : 	if ( lpObj->Class == 161 || lpObj->Class == 181 || lpObj->Class == 189 ||
; 1871 : 		lpObj->Class == 197 || lpObj->Class == 267 || lpObj->Class == 275  )

  00092	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  00099	ba a1 00 00 00	 mov	 edx, 161		; 000000a1H
  0009e	66 3b c2	 cmp	 ax, dx
  000a1	0f 84 86 04 00
	00		 je	 $LN10@gObjMonste
  000a7	ba b5 00 00 00	 mov	 edx, 181		; 000000b5H
  000ac	66 3b c2	 cmp	 ax, dx
  000af	0f 84 78 04 00
	00		 je	 $LN10@gObjMonste
  000b5	ba bd 00 00 00	 mov	 edx, 189		; 000000bdH
  000ba	66 3b c2	 cmp	 ax, dx
  000bd	0f 84 6a 04 00
	00		 je	 $LN10@gObjMonste
  000c3	ba c5 00 00 00	 mov	 edx, 197		; 000000c5H
  000c8	66 3b c2	 cmp	 ax, dx
  000cb	0f 84 5c 04 00
	00		 je	 $LN10@gObjMonste
  000d1	ba 0b 01 00 00	 mov	 edx, 267		; 0000010bH
  000d6	66 3b c2	 cmp	 ax, dx
  000d9	0f 84 4e 04 00
	00		 je	 $LN10@gObjMonste
  000df	ba 13 01 00 00	 mov	 edx, 275		; 00000113H
  000e4	66 3b c2	 cmp	 ax, dx
  000e7	0f 84 40 04 00
	00		 je	 $LN10@gObjMonste

; 1892 : 		return;
; 1893 : 	}
; 1894 : 
; 1895 : 	if ( lpObj->Class == 149 || lpObj->Class == 179 || lpObj->Class == 187 ||
; 1896 : 		lpObj->Class == 195 || lpObj->Class == 265 || lpObj->Class == 273  )

  000ed	ba 95 00 00 00	 mov	 edx, 149		; 00000095H
  000f2	66 3b c2	 cmp	 ax, dx
  000f5	0f 84 09 04 00
	00		 je	 $LN14@gObjMonste
  000fb	ba b3 00 00 00	 mov	 edx, 179		; 000000b3H
  00100	66 3b c2	 cmp	 ax, dx
  00103	0f 84 fb 03 00
	00		 je	 $LN14@gObjMonste
  00109	ba bb 00 00 00	 mov	 edx, 187		; 000000bbH
  0010e	66 3b c2	 cmp	 ax, dx
  00111	0f 84 ed 03 00
	00		 je	 $LN14@gObjMonste
  00117	ba c3 00 00 00	 mov	 edx, 195		; 000000c3H
  0011c	66 3b c2	 cmp	 ax, dx
  0011f	0f 84 df 03 00
	00		 je	 $LN14@gObjMonste
  00125	ba 09 01 00 00	 mov	 edx, 265		; 00000109H
  0012a	66 3b c2	 cmp	 ax, dx
  0012d	0f 84 d1 03 00
	00		 je	 $LN14@gObjMonste
  00133	ba 11 01 00 00	 mov	 edx, 273		; 00000111H
  00138	66 3b c2	 cmp	 ax, dx
  0013b	0f 84 c3 03 00
	00		 je	 $LN14@gObjMonste

; 1911 : 	}
; 1912 : 	
; 1913 : 	if (     lpObj->Class == 145
; 1914 :           || lpObj->Class == 175
; 1915 :           || lpObj->Class == 183
; 1916 :           || lpObj->Class == 191
; 1917 :           || lpObj->Class == 261
; 1918 :           || lpObj->Class == 269
; 1919 :           || lpObj->Class == 146
; 1920 :           || lpObj->Class == 176
; 1921 :           || lpObj->Class == 184
; 1922 :           || lpObj->Class == 192
; 1923 :           || lpObj->Class == 262
; 1924 :           || lpObj->Class == 270
; 1925 :           || lpObj->Class == 147
; 1926 :           || lpObj->Class == 177
; 1927 :           || lpObj->Class == 185
; 1928 :           || lpObj->Class == 193
; 1929 :           || lpObj->Class == 263
; 1930 :           || lpObj->Class == 271
; 1931 :           || lpObj->Class == 148
; 1932 :           || lpObj->Class == 178
; 1933 :           || lpObj->Class == 186
; 1934 :           || lpObj->Class == 194
; 1935 :           || lpObj->Class == 264
; 1936 :           || lpObj->Class == 272
; 1937 :           || lpObj->Class == 160
; 1938 :           || lpObj->Class == 180
; 1939 :           || lpObj->Class == 188
; 1940 :           || lpObj->Class == 196
; 1941 :           || lpObj->Class == 266
; 1942 :           || lpObj->Class == 274 )

  00141	ba 91 00 00 00	 mov	 edx, 145		; 00000091H
  00146	66 3b c2	 cmp	 ax, dx
  00149	0f 84 62 01 00
	00		 je	 $LN16@gObjMonste
  0014f	ba af 00 00 00	 mov	 edx, 175		; 000000afH
  00154	66 3b c2	 cmp	 ax, dx
  00157	0f 84 54 01 00
	00		 je	 $LN16@gObjMonste
  0015d	ba b7 00 00 00	 mov	 edx, 183		; 000000b7H
  00162	66 3b c2	 cmp	 ax, dx
  00165	0f 84 46 01 00
	00		 je	 $LN16@gObjMonste
  0016b	ba bf 00 00 00	 mov	 edx, 191		; 000000bfH
  00170	66 3b c2	 cmp	 ax, dx
  00173	0f 84 38 01 00
	00		 je	 $LN16@gObjMonste
  00179	ba 05 01 00 00	 mov	 edx, 261		; 00000105H
  0017e	66 3b c2	 cmp	 ax, dx
  00181	0f 84 2a 01 00
	00		 je	 $LN16@gObjMonste
  00187	ba 0d 01 00 00	 mov	 edx, 269		; 0000010dH
  0018c	66 3b c2	 cmp	 ax, dx
  0018f	0f 84 1c 01 00
	00		 je	 $LN16@gObjMonste
  00195	ba 92 00 00 00	 mov	 edx, 146		; 00000092H
  0019a	66 3b c2	 cmp	 ax, dx
  0019d	0f 84 0e 01 00
	00		 je	 $LN16@gObjMonste
  001a3	ba b0 00 00 00	 mov	 edx, 176		; 000000b0H
  001a8	66 3b c2	 cmp	 ax, dx
  001ab	0f 84 00 01 00
	00		 je	 $LN16@gObjMonste
  001b1	ba b8 00 00 00	 mov	 edx, 184		; 000000b8H
  001b6	66 3b c2	 cmp	 ax, dx
  001b9	0f 84 f2 00 00
	00		 je	 $LN16@gObjMonste
  001bf	ba c0 00 00 00	 mov	 edx, 192		; 000000c0H
  001c4	66 3b c2	 cmp	 ax, dx
  001c7	0f 84 e4 00 00
	00		 je	 $LN16@gObjMonste
  001cd	ba 06 01 00 00	 mov	 edx, 262		; 00000106H
  001d2	66 3b c2	 cmp	 ax, dx
  001d5	0f 84 d6 00 00
	00		 je	 $LN16@gObjMonste
  001db	ba 0e 01 00 00	 mov	 edx, 270		; 0000010eH
  001e0	66 3b c2	 cmp	 ax, dx
  001e3	0f 84 c8 00 00
	00		 je	 $LN16@gObjMonste
  001e9	ba 93 00 00 00	 mov	 edx, 147		; 00000093H
  001ee	66 3b c2	 cmp	 ax, dx
  001f1	0f 84 ba 00 00
	00		 je	 $LN16@gObjMonste
  001f7	ba b1 00 00 00	 mov	 edx, 177		; 000000b1H
  001fc	66 3b c2	 cmp	 ax, dx
  001ff	0f 84 ac 00 00
	00		 je	 $LN16@gObjMonste
  00205	ba b9 00 00 00	 mov	 edx, 185		; 000000b9H
  0020a	66 3b c2	 cmp	 ax, dx
  0020d	0f 84 9e 00 00
	00		 je	 $LN16@gObjMonste
  00213	ba c1 00 00 00	 mov	 edx, 193		; 000000c1H
  00218	66 3b c2	 cmp	 ax, dx
  0021b	0f 84 90 00 00
	00		 je	 $LN16@gObjMonste
  00221	ba 07 01 00 00	 mov	 edx, 263		; 00000107H
  00226	66 3b c2	 cmp	 ax, dx
  00229	0f 84 82 00 00
	00		 je	 $LN16@gObjMonste
  0022f	ba 0f 01 00 00	 mov	 edx, 271		; 0000010fH
  00234	66 3b c2	 cmp	 ax, dx
  00237	74 78		 je	 SHORT $LN16@gObjMonste
  00239	ba 94 00 00 00	 mov	 edx, 148		; 00000094H
  0023e	66 3b c2	 cmp	 ax, dx
  00241	74 6e		 je	 SHORT $LN16@gObjMonste
  00243	ba b2 00 00 00	 mov	 edx, 178		; 000000b2H
  00248	66 3b c2	 cmp	 ax, dx
  0024b	74 64		 je	 SHORT $LN16@gObjMonste
  0024d	ba ba 00 00 00	 mov	 edx, 186		; 000000baH
  00252	66 3b c2	 cmp	 ax, dx
  00255	74 5a		 je	 SHORT $LN16@gObjMonste
  00257	ba c2 00 00 00	 mov	 edx, 194		; 000000c2H
  0025c	66 3b c2	 cmp	 ax, dx
  0025f	74 50		 je	 SHORT $LN16@gObjMonste
  00261	ba 08 01 00 00	 mov	 edx, 264		; 00000108H
  00266	66 3b c2	 cmp	 ax, dx
  00269	74 46		 je	 SHORT $LN16@gObjMonste
  0026b	ba 10 01 00 00	 mov	 edx, 272		; 00000110H
  00270	66 3b c2	 cmp	 ax, dx
  00273	74 3c		 je	 SHORT $LN16@gObjMonste
  00275	ba a0 00 00 00	 mov	 edx, 160		; 000000a0H
  0027a	66 3b c2	 cmp	 ax, dx
  0027d	74 32		 je	 SHORT $LN16@gObjMonste
  0027f	ba b4 00 00 00	 mov	 edx, 180		; 000000b4H
  00284	66 3b c2	 cmp	 ax, dx
  00287	74 28		 je	 SHORT $LN16@gObjMonste
  00289	ba bc 00 00 00	 mov	 edx, 188		; 000000bcH
  0028e	66 3b c2	 cmp	 ax, dx
  00291	74 1e		 je	 SHORT $LN16@gObjMonste
  00293	ba c4 00 00 00	 mov	 edx, 196		; 000000c4H
  00298	66 3b c2	 cmp	 ax, dx
  0029b	74 14		 je	 SHORT $LN16@gObjMonste
  0029d	ba 0a 01 00 00	 mov	 edx, 266		; 0000010aH
  002a2	66 3b c2	 cmp	 ax, dx
  002a5	74 0a		 je	 SHORT $LN16@gObjMonste
  002a7	ba 12 01 00 00	 mov	 edx, 274		; 00000112H
  002ac	66 3b c2	 cmp	 ax, dx
  002af	75 19		 jne	 SHORT $LN15@gObjMonste
$LN16@gObjMonste:

; 1943 : 	{
; 1944 : 		if ( (rand()%2) )

  002b1	e8 00 00 00 00	 call	 _rand
  002b6	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  002bb	79 05		 jns	 SHORT $LN32@gObjMonste
  002bd	48		 dec	 eax
  002be	83 c8 fe	 or	 eax, -2			; fffffffeH
  002c1	40		 inc	 eax
$LN32@gObjMonste:
  002c2	0f 85 a8 01 00
	00		 jne	 $LN23@gObjMonste

; 1945 : 		{
; 1946 : 			PMSG_MAGICATTACK pAttackMsg;
; 1947 : 
; 1948 : 			pAttackMsg.MagicNumberH = SET_NUMBERH(AT_SKILL_POISON);
; 1949 : 			pAttackMsg.MagicNumberL = SET_NUMBERL(AT_SKILL_POISON);
; 1950 : 
; 1951 : 			pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 1952 : 			pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1953 : 			pAttackMsg.Dis = 0;
; 1954 : 
; 1955 : 			CGMagicAttack(&pAttackMsg, lpObj->m_Index);
; 1956 : 			return;
; 1957 : 		}
; 1958 : 		AttackType = 0;

  002c8	33 c9		 xor	 ecx, ecx
$LN15@gObjMonste:

; 1959 : 	}
; 1960 : 	
; 1961 : 	if (	 lpObj->Class == 89
; 1962 :           || lpObj->Class == 95
; 1963 :           || lpObj->Class == 112
; 1964 :           || lpObj->Class == 118
; 1965 :           || lpObj->Class == 124
; 1966 :           || lpObj->Class == 130
; 1967 :           || lpObj->Class == 143
; 1968 : 		  || lpObj->Class == 433 )

  002ca	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  002d1	83 f8 59	 cmp	 eax, 89			; 00000059H
  002d4	0f 84 d3 01 00
	00		 je	 $LN20@gObjMonste
  002da	83 f8 5f	 cmp	 eax, 95			; 0000005fH
  002dd	0f 84 ca 01 00
	00		 je	 $LN20@gObjMonste
  002e3	83 f8 70	 cmp	 eax, 112		; 00000070H
  002e6	0f 84 c1 01 00
	00		 je	 $LN20@gObjMonste
  002ec	83 f8 76	 cmp	 eax, 118		; 00000076H
  002ef	0f 84 b8 01 00
	00		 je	 $LN20@gObjMonste
  002f5	83 f8 7c	 cmp	 eax, 124		; 0000007cH
  002f8	0f 84 af 01 00
	00		 je	 $LN20@gObjMonste
  002fe	ba 82 00 00 00	 mov	 edx, 130		; 00000082H
  00303	66 3b c2	 cmp	 ax, dx
  00306	0f 84 a1 01 00
	00		 je	 $LN20@gObjMonste
  0030c	ba 8f 00 00 00	 mov	 edx, 143		; 0000008fH
  00311	66 3b c2	 cmp	 ax, dx
  00314	0f 84 93 01 00
	00		 je	 $LN20@gObjMonste
  0031a	ba b1 01 00 00	 mov	 edx, 433		; 000001b1H
  0031f	66 3b c2	 cmp	 ax, dx
  00322	0f 84 85 01 00
	00		 je	 $LN20@gObjMonste

; 1983 : 	}
; 1984 : 	else if (  lpObj->Class == 163
; 1985 :             || lpObj->Class == 165
; 1986 :             || lpObj->Class == 167
; 1987 :             || lpObj->Class == 169
; 1988 :             || lpObj->Class == 171
; 1989 :             || lpObj->Class == 173
; 1990 : 			|| lpObj->Class == 427 
; 1991 : 			|| lpObj->Class == 66
; 1992 : 			|| lpObj->Class == 73 
; 1993 : 			|| lpObj->Class == 77 )

  00328	ba a3 00 00 00	 mov	 edx, 163		; 000000a3H
  0032d	66 3b c2	 cmp	 ax, dx
  00330	0f 84 3a 01 00
	00		 je	 $LN23@gObjMonste
  00336	ba a5 00 00 00	 mov	 edx, 165		; 000000a5H
  0033b	66 3b c2	 cmp	 ax, dx
  0033e	0f 84 2c 01 00
	00		 je	 $LN23@gObjMonste
  00344	ba a7 00 00 00	 mov	 edx, 167		; 000000a7H
  00349	66 3b c2	 cmp	 ax, dx
  0034c	0f 84 1e 01 00
	00		 je	 $LN23@gObjMonste
  00352	ba a9 00 00 00	 mov	 edx, 169		; 000000a9H
  00357	66 3b c2	 cmp	 ax, dx
  0035a	0f 84 10 01 00
	00		 je	 $LN23@gObjMonste
  00360	ba ab 00 00 00	 mov	 edx, 171		; 000000abH
  00365	66 3b c2	 cmp	 ax, dx
  00368	0f 84 02 01 00
	00		 je	 $LN23@gObjMonste
  0036e	ba ad 00 00 00	 mov	 edx, 173		; 000000adH
  00373	66 3b c2	 cmp	 ax, dx
  00376	0f 84 f4 00 00
	00		 je	 $LN23@gObjMonste
  0037c	ba ab 01 00 00	 mov	 edx, 427		; 000001abH
  00381	66 3b c2	 cmp	 ax, dx
  00384	0f 84 e6 00 00
	00		 je	 $LN23@gObjMonste
  0038a	83 f8 42	 cmp	 eax, 66			; 00000042H
  0038d	0f 84 dd 00 00
	00		 je	 $LN23@gObjMonste
  00393	83 f8 49	 cmp	 eax, 73			; 00000049H
  00396	0f 84 d4 00 00
	00		 je	 $LN23@gObjMonste
  0039c	83 f8 4d	 cmp	 eax, 77			; 0000004dH
  0039f	0f 84 cb 00 00
	00		 je	 $LN23@gObjMonste

; 2005 : 	}
; 2006 : 	else if( lpObj->Class == 561 ) //OK Lee Added

  003a5	ba 31 02 00 00	 mov	 edx, 561		; 00000231H
  003aa	66 3b c2	 cmp	 ax, dx
  003ad	75 6f		 jne	 SHORT $LN24@gObjMonste

; 2007 : 	{
; 2008 : 		int Skill = gObjMonsterSelectSkillForMedusa(lpObj);

  003af	56		 push	 esi
  003b0	e8 00 00 00 00	 call	 ?gObjMonsterSelectSkillForMedusa@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterSelectSkillForMedusa
  003b5	83 c4 04	 add	 esp, 4
  003b8	8b c8		 mov	 ecx, eax

; 2009 : 		// ----
; 2010 : 		if( Skill == 1 )
; 2011 : 		{
; 2012 : 			PMSG_MAGICATTACK pAttackMsg;
; 2013 : 			// ----
; 2014 : 			pAttackMsg.MagicNumberH = SET_NUMBERH(Skill);
; 2015 : 			pAttackMsg.MagicNumberL = SET_NUMBERL(Skill);
; 2016 : 			pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 2017 : 			pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 2018 : 			// ----
; 2019 : 			CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  003ba	ff 36		 push	 DWORD PTR [esi]
  003bc	83 f9 01	 cmp	 ecx, 1
  003bf	75 0c		 jne	 SHORT $LN26@gObjMonste

; 2050 : 				}
; 2051 : 				break;
; 2052 : 		
; 2053 : 			default:
; 2054 : 				{
; 2055 : 					PMSG_MAGICATTACK pAttackMsg;
; 2056 : 
; 2057 : 					pAttackMsg.MagicNumberH = 0;

  003c1	88 45 f6	 mov	 BYTE PTR _pAttackMsg$4[ebp+6], al
  003c4	c6 45 f4 00	 mov	 BYTE PTR _pAttackMsg$2[ebp+4], 0

; 2058 : 					pAttackMsg.MagicNumberL = 0;
; 2059 : 
; 2060 : 					pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 2061 : 					pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 2062 : 					pAttackMsg.Dis = 0;
; 2063 : 
; 2064 : 					CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  003c8	e9 af 00 00 00	 jmp	 $LN42@gObjMonste
$LN26@gObjMonste:

; 2020 : 		}
; 2021 : 		else
; 2022 : 		{
; 2023 : 			PMSG_DURATION_MAGIC_RECV pDuration;
; 2024 : 			// ----
; 2025 : 			//31, 31 missing
; 2026 : 			pDuration.X		= lpObj->X;

  003cd	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  003d4	88 45 ef	 mov	 BYTE PTR _pDuration$1[ebp+3], al

; 2027 : 			pDuration.Y		= lpObj->Y;

  003d7	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  003de	88 45 f1	 mov	 BYTE PTR _pDuration$1[ebp+5], al

; 2028 : 			pDuration.MagicNumberH = SET_NUMBERH(Skill);

  003e1	8b c1		 mov	 eax, ecx
  003e3	c1 e8 08	 shr	 eax, 8
  003e6	88 45 f0	 mov	 BYTE PTR _pDuration$1[ebp+4], al

; 2029 : 			pDuration.MagicNumberL = SET_NUMBERL(Skill);
; 2030 : 			pDuration.NumberH = SET_NUMBERH(lpObj->TargetNumber);

  003e9	0f bf 86 38 06
	00 00		 movsx	 eax, WORD PTR [esi+1592]
  003f0	c1 e8 08	 shr	 eax, 8
  003f3	88 45 f4	 mov	 BYTE PTR _pDuration$1[ebp+8], al

; 2031 : 			pDuration.NumberL = SET_NUMBERL(lpObj->TargetNumber);

  003f6	0f b6 86 38 06
	00 00		 movzx	 eax, BYTE PTR [esi+1592]
  003fd	88 45 f6	 mov	 BYTE PTR _pDuration$1[ebp+10], al

; 2032 : 			// ----
; 2033 : 			CGDurationMagicRecv(&pDuration, lpObj->m_Index);

  00400	8d 45 ec	 lea	 eax, DWORD PTR _pDuration$1[ebp]
  00403	50		 push	 eax
  00404	88 4d f2	 mov	 BYTE PTR _pDuration$1[ebp+6], cl
  00407	e8 00 00 00 00	 call	 ?CGDurationMagicRecv@@YAXPAUPMSG_DURATION_MAGIC_RECV@@H@Z ; CGDurationMagicRecv
  0040c	83 c4 08	 add	 esp, 8
  0040f	5e		 pop	 esi

; 2065 : 				}
; 2066 : 		}
; 2067 : 	}
; 2068 : }

  00410	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00413	33 cd		 xor	 ecx, ebp
  00415	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0041a	8b e5		 mov	 esp, ebp
  0041c	5d		 pop	 ebp
  0041d	c3		 ret	 0
$LN24@gObjMonste:

; 2058 : 					pAttackMsg.MagicNumberL = 0;
; 2059 : 
; 2060 : 					pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 2061 : 					pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 2062 : 					pAttackMsg.Dis = 0;
; 2063 : 
; 2064 : 					CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  0041e	ff 36		 push	 DWORD PTR [esi]
  00420	85 c9		 test	 ecx, ecx
  00422	74 0c		 je	 SHORT $LN28@gObjMonste

; 2050 : 				}
; 2051 : 				break;
; 2052 : 		
; 2053 : 			default:
; 2054 : 				{
; 2055 : 					PMSG_MAGICATTACK pAttackMsg;
; 2056 : 
; 2057 : 					pAttackMsg.MagicNumberH = 0;

  00424	66 c7 45 f6 00
	00		 mov	 WORD PTR _pAttackMsg$2[ebp+6], 0
  0042a	c6 45 f4 00	 mov	 BYTE PTR _pAttackMsg$2[ebp+4], 0

; 2058 : 					pAttackMsg.MagicNumberL = 0;
; 2059 : 
; 2060 : 					pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 2061 : 					pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 2062 : 					pAttackMsg.Dis = 0;
; 2063 : 
; 2064 : 					CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  0042e	eb 4c		 jmp	 SHORT $LN42@gObjMonste
$LN28@gObjMonste:

; 2034 : 		}
; 2035 : 	}
; 2036 : 	else
; 2037 : 	{
; 2038 : 		switch ( AttackType ) 
; 2039 : 		{
; 2040 : 			case 0:
; 2041 : 				{
; 2042 : 					PMSG_ATTACK pAttackMsg;
; 2043 : 
; 2044 : 					pAttackMsg.AttackAction = 120;
; 2045 : 					pAttackMsg.DirDis = lpObj->Dir;

  00430	0f b6 86 22 01
	00 00		 movzx	 eax, BYTE PTR [esi+290]
  00437	88 45 f6	 mov	 BYTE PTR _pAttackMsg$3[ebp+6], al

; 2046 : 					pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);

  0043a	0f bf 86 38 06
	00 00		 movsx	 eax, WORD PTR [esi+1592]
  00441	c1 e8 08	 shr	 eax, 8
  00444	88 45 f3	 mov	 BYTE PTR _pAttackMsg$3[ebp+3], al

; 2047 : 					pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);

  00447	0f b6 86 38 06
	00 00		 movzx	 eax, BYTE PTR [esi+1592]
  0044e	88 45 f4	 mov	 BYTE PTR _pAttackMsg$3[ebp+4], al

; 2048 : 
; 2049 : 					CGAttack(&pAttackMsg, lpObj->m_Index);

  00451	8d 45 f0	 lea	 eax, DWORD PTR _pAttackMsg$3[ebp]
  00454	50		 push	 eax
  00455	c6 45 f5 78	 mov	 BYTE PTR _pAttackMsg$3[ebp+5], 120 ; 00000078H
  00459	e8 00 00 00 00	 call	 ?CGAttack@@YAXPAUPMSG_ATTACK@@H@Z ; CGAttack
  0045e	83 c4 08	 add	 esp, 8
  00461	5e		 pop	 esi

; 2065 : 				}
; 2066 : 		}
; 2067 : 	}
; 2068 : }

  00462	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00465	33 cd		 xor	 ecx, ebp
  00467	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0046c	8b e5		 mov	 esp, ebp
  0046e	5d		 pop	 ebp
  0046f	c3		 ret	 0
$LN23@gObjMonste:

; 1998 : 		pAttackMsg.MagicNumberL = SET_NUMBERL(AT_SKILL_POISON);

  00470	66 c7 45 f6 01
	00		 mov	 WORD PTR _pAttackMsg$5[ebp+6], 1
$LN38@gObjMonste:

; 1994 : 	{
; 1995 : 		PMSG_MAGICATTACK pAttackMsg;
; 1996 : 
; 1997 : 		pAttackMsg.MagicNumberH = SET_NUMBERH(AT_SKILL_POISON);

  00476	c6 45 f4 00	 mov	 BYTE PTR _pAttackMsg$5[ebp+4], 0
$LN40@gObjMonste:

; 2002 : 		pAttackMsg.Dis = 0;
; 2003 : 
; 2004 : 		CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  0047a	ff 36		 push	 DWORD PTR [esi]
$LN42@gObjMonste:

; 1999 : 
; 2000 : 		pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);

  0047c	0f bf 86 38 06
	00 00		 movsx	 eax, WORD PTR [esi+1592]
  00483	c1 e8 08	 shr	 eax, 8
  00486	88 45 f3	 mov	 BYTE PTR _pAttackMsg$5[ebp+3], al

; 2001 : 		pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);

  00489	8a 86 38 06 00
	00		 mov	 al, BYTE PTR [esi+1592]
  0048f	88 45 f5	 mov	 BYTE PTR _pAttackMsg$5[ebp+5], al

; 2002 : 		pAttackMsg.Dis = 0;
; 2003 : 
; 2004 : 		CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  00492	8d 45 f0	 lea	 eax, DWORD PTR _pAttackMsg$5[ebp]
  00495	50		 push	 eax
  00496	e8 00 00 00 00	 call	 ?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z ; CGMagicAttack
  0049b	83 c4 08	 add	 esp, 8
  0049e	5e		 pop	 esi

; 2065 : 				}
; 2066 : 		}
; 2067 : 	}
; 2068 : }

  0049f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  004a2	33 cd		 xor	 ecx, ebp
  004a4	e8 00 00 00 00	 call	 @__security_check_cookie@4
  004a9	8b e5		 mov	 esp, ebp
  004ab	5d		 pop	 ebp
  004ac	c3		 ret	 0
$LN20@gObjMonste:

; 1969 : 	{
; 1970 : 
; 1971 : 		PMSG_MAGICATTACK pAttackMsg;
; 1972 : 
; 1973 : 		WORD MagicNumber = rand()%2+1;

  004ad	e8 00 00 00 00	 call	 _rand
  004b2	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  004b7	79 05		 jns	 SHORT $LN33@gObjMonste
  004b9	48		 dec	 eax
  004ba	83 c8 fe	 or	 eax, -2			; fffffffeH
  004bd	40		 inc	 eax
$LN33@gObjMonste:

; 1974 : 
; 1975 : 		pAttackMsg.MagicNumberH = SET_NUMBERH(MagicNumber);
; 1976 : 		pAttackMsg.MagicNumberL = SET_NUMBERL(MagicNumber);
; 1977 : 
; 1978 : 		pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 1979 : 		pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1980 : 		pAttackMsg.Dis = 0;
; 1981 : 
; 1982 : 		CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  004be	ff 36		 push	 DWORD PTR [esi]
  004c0	40		 inc	 eax
  004c1	c6 45 f7 00	 mov	 BYTE PTR _pAttackMsg$6[ebp+7], 0
  004c5	0f b7 c8	 movzx	 ecx, ax
  004c8	8b c1		 mov	 eax, ecx
  004ca	88 4d f6	 mov	 BYTE PTR _pAttackMsg$6[ebp+6], cl
  004cd	c1 e8 08	 shr	 eax, 8
  004d0	88 45 f4	 mov	 BYTE PTR _pAttackMsg$6[ebp+4], al
  004d3	0f bf 86 38 06
	00 00		 movsx	 eax, WORD PTR [esi+1592]
  004da	c1 e8 08	 shr	 eax, 8
  004dd	88 45 f3	 mov	 BYTE PTR _pAttackMsg$6[ebp+3], al
  004e0	8a 86 38 06 00
	00		 mov	 al, BYTE PTR [esi+1592]
  004e6	88 45 f5	 mov	 BYTE PTR _pAttackMsg$6[ebp+5], al
  004e9	8d 45 f0	 lea	 eax, DWORD PTR _pAttackMsg$6[ebp]
  004ec	50		 push	 eax
  004ed	e8 00 00 00 00	 call	 ?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z ; CGMagicAttack
  004f2	83 c4 08	 add	 esp, 8
  004f5	5e		 pop	 esi

; 2065 : 				}
; 2066 : 		}
; 2067 : 	}
; 2068 : }

  004f6	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  004f9	33 cd		 xor	 ecx, ebp
  004fb	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00500	8b e5		 mov	 esp, ebp
  00502	5d		 pop	 ebp
  00503	c3		 ret	 0
$LN14@gObjMonste:

; 1897 : 	{
; 1898 : 		PMSG_MAGICATTACK pAttackMsg;
; 1899 : 
; 1900 : 		WORD MagicNumber = rand()%2+1;

  00504	e8 00 00 00 00	 call	 _rand
  00509	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  0050e	79 05		 jns	 SHORT $LN34@gObjMonste
  00510	48		 dec	 eax
  00511	83 c8 fe	 or	 eax, -2			; fffffffeH
  00514	40		 inc	 eax
$LN34@gObjMonste:
  00515	40		 inc	 eax

; 1901 : 
; 1902 : 		pAttackMsg.MagicNumberH = SET_NUMBERH(MagicNumber);
; 1903 : 		pAttackMsg.MagicNumberL = SET_NUMBERL(MagicNumber);
; 1904 : 
; 1905 : 		pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 1906 : 		pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1907 : 		pAttackMsg.Dis = 0;

  00516	c6 45 f7 00	 mov	 BYTE PTR _pAttackMsg$7[ebp+7], 0
  0051a	0f b7 c8	 movzx	 ecx, ax
  0051d	8b c1		 mov	 eax, ecx
  0051f	88 4d f6	 mov	 BYTE PTR _pAttackMsg$7[ebp+6], cl
  00522	c1 e8 08	 shr	 eax, 8
  00525	88 45 f4	 mov	 BYTE PTR _pAttackMsg$7[ebp+4], al

; 1908 : 
; 1909 : 		CGMagicAttack(&pAttackMsg, lpObj->m_Index);
; 1910 : 		return;

  00528	e9 4d ff ff ff	 jmp	 $LN40@gObjMonste
$LN10@gObjMonste:
  0052d	53		 push	 ebx

; 1872 : 	{
; 1873 : 		PMSG_MAGICATTACK pAttackMsg;
; 1874 : 
; 1875 : 		WORD MagicNumber = rand()%6+1;

  0052e	e8 00 00 00 00	 call	 _rand
  00533	99		 cdq
  00534	b9 06 00 00 00	 mov	 ecx, 6
  00539	f7 f9		 idiv	 ecx

; 1876 : 
; 1877 : 		pAttackMsg.MagicNumberH = SET_NUMBERH(MagicNumber);
; 1878 : 		pAttackMsg.MagicNumberL = SET_NUMBERL(MagicNumber);
; 1879 : 
; 1880 : 		pAttackMsg.NumberH = SET_NUMBERH(lpObj->TargetNumber);
; 1881 : 		pAttackMsg.NumberL = SET_NUMBERL(lpObj->TargetNumber);
; 1882 : 		pAttackMsg.Dis = 0;
; 1883 : 
; 1884 : 		CGMagicAttack(&pAttackMsg, lpObj->m_Index);

  0053b	ff 36		 push	 DWORD PTR [esi]
  0053d	42		 inc	 edx
  0053e	c6 45 f7 00	 mov	 BYTE PTR _pAttackMsg$8[ebp+7], 0
  00542	0f b7 da	 movzx	 ebx, dx
  00545	8b c3		 mov	 eax, ebx
  00547	88 5d f6	 mov	 BYTE PTR _pAttackMsg$8[ebp+6], bl
  0054a	c1 e8 08	 shr	 eax, 8
  0054d	88 45 f4	 mov	 BYTE PTR _pAttackMsg$8[ebp+4], al
  00550	0f bf 86 38 06
	00 00		 movsx	 eax, WORD PTR [esi+1592]
  00557	c1 e8 08	 shr	 eax, 8
  0055a	88 45 f3	 mov	 BYTE PTR _pAttackMsg$8[ebp+3], al
  0055d	8a 86 38 06 00
	00		 mov	 al, BYTE PTR [esi+1592]
  00563	88 45 f5	 mov	 BYTE PTR _pAttackMsg$8[ebp+5], al
  00566	8d 45 f0	 lea	 eax, DWORD PTR _pAttackMsg$8[ebp]
  00569	50		 push	 eax
  0056a	e8 00 00 00 00	 call	 ?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z ; CGMagicAttack
  0056f	83 c4 08	 add	 esp, 8

; 1885 : 
; 1886 : 		if ( MagicNumber == 1 || MagicNumber == 2 || MagicNumber == 0 )

  00572	83 fb 01	 cmp	 ebx, 1
  00575	74 0a		 je	 SHORT $LN12@gObjMonste
  00577	83 fb 02	 cmp	 ebx, 2
  0057a	74 05		 je	 SHORT $LN12@gObjMonste
  0057c	66 85 db	 test	 bx, bx
  0057f	75 09		 jne	 SHORT $LN11@gObjMonste
$LN12@gObjMonste:

; 1887 : 		{
; 1888 : 			gObjUseMonsterSpecialAbillity(lpObj);	// Kundun

  00581	56		 push	 esi
  00582	e8 00 00 00 00	 call	 ?gObjUseMonsterSpecialAbillity@@YAXPAUOBJECTSTRUCT@@@Z ; gObjUseMonsterSpecialAbillity
  00587	83 c4 04	 add	 esp, 4
$LN11@gObjMonste:

; 1889 : 		}
; 1890 : 
; 1891 : 		gObjMonsterMagicAttack(lpObj, lpObj->Class);

  0058a	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  00591	50		 push	 eax
  00592	56		 push	 esi
  00593	e8 00 00 00 00	 call	 ?gObjMonsterMagicAttack@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjMonsterMagicAttack
  00598	83 c4 08	 add	 esp, 8
  0059b	5b		 pop	 ebx
$LN2@gObjMonste:

; 2065 : 				}
; 2066 : 		}
; 2067 : 	}
; 2068 : }

  0059c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0059f	33 cd		 xor	 ecx, ebp
  005a1	5e		 pop	 esi
  005a2	e8 00 00 00 00	 call	 @__security_check_cookie@4
  005a7	8b e5		 mov	 esp, ebp
  005a9	5d		 pop	 ebp
  005aa	c3		 ret	 0
?gObjMonsterAttack@@YAXPAUOBJECTSTRUCT@@0@Z ENDP	; gObjMonsterAttack
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterBeattackRecv@@YAXPAEH@Z
_TEXT	SEGMENT
tv428 = -528						; size = 4
$T1 = -524						; size = 4
_lpMagic$1$ = -520					; size = 4
__$ArrayPad$ = -4					; size = 4
_lpRecv$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?gObjMonsterBeattackRecv@@YAXPAEH@Z PROC		; gObjMonsterBeattackRecv, COMDAT

; 1800 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 10 02 00
	00		 sub	 esp, 528		; 00000210H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	8b 55 0c	 mov	 edx, DWORD PTR _aIndex$[ebp]
  00016	53		 push	 ebx
  00017	8b 5d 08	 mov	 ebx, DWORD PTR _lpRecv$[ebp]

; 1801 : 	PMSG_BEATTACK_COUNT * lpCount = (PMSG_BEATTACK_COUNT *)lpRecv;
; 1802 : 	int lOfs = sizeof(PMSG_BEATTACK_COUNT);
; 1803 : 	int tNumber;
; 1804 : 
; 1805 : 	WORD MagicNumber = MAKE_NUMBERW(lpCount->MagicNumberH,lpCount->MagicNumberL);

  0001a	0f b6 4b 03	 movzx	 ecx, BYTE PTR [ebx+3]
  0001e	0f b6 43 05	 movzx	 eax, BYTE PTR [ebx+5]
  00022	66 c1 e1 08	 shl	 cx, 8
  00026	66 0b c8	 or	 cx, ax
  00029	0f b7 c1	 movzx	 eax, cx

; 1806 : 
; 1807 : 	CMagicInf * lpMagic = gObjGetMagic(&gObj[aIndex], MagicNumber);

  0002c	69 ca 40 27 00
	00		 imul	 ecx, edx, 10048
  00032	50		 push	 eax
  00033	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00038	03 c1		 add	 eax, ecx
  0003a	89 8d f0 fd ff
	ff		 mov	 DWORD PTR tv428[ebp], ecx
  00040	50		 push	 eax
  00041	e8 00 00 00 00	 call	 ?gObjGetMagic@@YAPAVCMagicInf@@PAUOBJECTSTRUCT@@H@Z ; gObjGetMagic
  00046	83 c4 08	 add	 esp, 8
  00049	89 85 f8 fd ff
	ff		 mov	 DWORD PTR _lpMagic$1$[ebp], eax

; 1808 : 
; 1809 : 	if ( lpMagic == NULL )

  0004f	85 c0		 test	 eax, eax
  00051	75 27		 jne	 SHORT $LN8@gObjMonste

; 1810 : 	{
; 1811 : 		LogAdd("error-L3 %s %d", __FILE__, __LINE__);

  00053	68 13 07 00 00	 push	 1811			; 00000713H
  00058	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@OAKCBJLL@gObjMonster?4cpp?$AA@
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0P@EEHIDPGB@error?9L3?5?$CFs?5?$CFd?$AA@
  00062	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00068	83 c4 0c	 add	 esp, 12			; 0000000cH
  0006b	5b		 pop	 ebx

; 1832 : 	}
; 1833 : }

  0006c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0006f	33 cd		 xor	 ecx, ebp
  00071	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00076	8b e5		 mov	 esp, ebp
  00078	5d		 pop	 ebp
  00079	c3		 ret	 0
$LN8@gObjMonste:
  0007a	56		 push	 esi
  0007b	57		 push	 edi

; 1817 : 	int pTargetNumber[128]={0};
; 1818 : 
; 1819 : 	for (int i=0;i<lpCount->Count;i++)

  0007c	0f b6 7b 04	 movzx	 edi, BYTE PTR [ebx+4]
  00080	33 d2		 xor	 edx, edx
  00082	89 bd f4 fd ff
	ff		 mov	 DWORD PTR $T1[ebp], edi
  00088	85 ff		 test	 edi, edi
  0008a	7e 12		 jle	 SHORT $LN3@gObjMonste

; 1812 : 		return;
; 1813 : 	}
; 1814 : 
; 1815 : 	PMSG_BEATTACK * lpMsg;
; 1816 : 	int lOfs2 = lOfs;

  0008c	8d 73 09	 lea	 esi, DWORD PTR [ebx+9]
  0008f	90		 npad	 1
$LL4@gObjMonste:

; 1817 : 	int pTargetNumber[128]={0};
; 1818 : 
; 1819 : 	for (int i=0;i<lpCount->Count;i++)

  00090	42		 inc	 edx

; 1820 : 	{
; 1821 : 		lpMsg = (PMSG_BEATTACK *)&lpRecv[lOfs2];
; 1822 : 		pTargetNumber[i] = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);
; 1823 : 		lOfs2+= sizeof(PMSG_BEATTACK);

  00091	8d 76 03	 lea	 esi, DWORD PTR [esi+3]
  00094	3b d7		 cmp	 edx, edi
  00096	7c f8		 jl	 SHORT $LL4@gObjMonste
  00098	8b 85 f8 fd ff
	ff		 mov	 eax, DWORD PTR _lpMagic$1$[ebp]
$LN3@gObjMonste:

; 1824 : 	}
; 1825 : 	
; 1826 : 	for (int n=0;n<lpCount->Count;n++)

  0009e	33 ff		 xor	 edi, edi
  000a0	39 bd f4 fd ff
	ff		 cmp	 DWORD PTR $T1[ebp], edi
  000a6	7e 59		 jle	 SHORT $LN18@gObjMonste
  000a8	8d 73 09	 lea	 esi, DWORD PTR [ebx+9]
  000ab	0f 1f 44 00 00	 npad	 5
$LL7@gObjMonste:

; 1827 : 	{
; 1828 : 		lpMsg = (PMSG_BEATTACK *)&lpRecv[lOfs];
; 1829 : 		tNumber = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);
; 1830 : 		gObjAttack(&gObj[aIndex], &gObj[tNumber], lpMagic, 1, 1, 0 ,0, 0, 0);

  000b0	6a 00		 push	 0
  000b2	6a 00		 push	 0
  000b4	6a 00		 push	 0
  000b6	6a 00		 push	 0
  000b8	6a 01		 push	 1
  000ba	6a 01		 push	 1
  000bc	50		 push	 eax
  000bd	0f b6 06	 movzx	 eax, BYTE PTR [esi]
  000c0	66 c1 e0 08	 shl	 ax, 8
  000c4	0f b7 c8	 movzx	 ecx, ax
  000c7	0f b6 46 02	 movzx	 eax, BYTE PTR [esi+2]
  000cb	0b c8		 or	 ecx, eax
  000cd	69 c1 40 27 00
	00		 imul	 eax, ecx, 10048
  000d3	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000d9	50		 push	 eax
  000da	8b 85 f0 fd ff
	ff		 mov	 eax, DWORD PTR tv428[ebp]
  000e0	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000e6	50		 push	 eax
  000e7	e8 00 00 00 00	 call	 ?gObjAttack@@YAXPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  000ec	0f b6 43 04	 movzx	 eax, BYTE PTR [ebx+4]

; 1831 : 		lOfs+= sizeof(PMSG_BEATTACK);

  000f0	8d 76 03	 lea	 esi, DWORD PTR [esi+3]
  000f3	47		 inc	 edi
  000f4	83 c4 24	 add	 esp, 36			; 00000024H
  000f7	3b f8		 cmp	 edi, eax
  000f9	8b 85 f8 fd ff
	ff		 mov	 eax, DWORD PTR _lpMagic$1$[ebp]
  000ff	7c af		 jl	 SHORT $LL7@gObjMonste
$LN18@gObjMonste:

; 1832 : 	}
; 1833 : }

  00101	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00104	5f		 pop	 edi
  00105	5e		 pop	 esi
  00106	33 cd		 xor	 ecx, ebp
  00108	5b		 pop	 ebx
  00109	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0010e	8b e5		 mov	 esp, ebp
  00110	5d		 pop	 ebp
  00111	c3		 ret	 0
?gObjMonsterBeattackRecv@@YAXPAEH@Z ENDP		; gObjMonsterBeattackRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjUseMonsterSpecialAbillity@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_pAttackMsg$1 = -8					; size = 8
_lpMonsterObj$ = 8					; size = 4
?gObjUseMonsterSpecialAbillity@@YAXPAUOBJECTSTRUCT@@@Z PROC ; gObjUseMonsterSpecialAbillity, COMDAT

; 1773 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 1774 : 	if ( lpMonsterObj->Class == 275 )	// Kundun

  00006	b8 13 01 00 00	 mov	 eax, 275		; 00000113H
  0000b	56		 push	 esi
  0000c	8b 75 08	 mov	 esi, DWORD PTR _lpMonsterObj$[ebp]
  0000f	66 39 86 90 00
	00 00		 cmp	 WORD PTR [esi+144], ax
  00016	75 79		 jne	 SHORT $LN5@gObjUseMon

; 1775 : 	{
; 1776 : 		PMSG_MAGICATTACK pAttackMsg;
; 1777 : 
; 1778 : 		pAttackMsg.MagicNumberH = SET_NUMBERH(AT_SKILL_POISON);
; 1779 : 		pAttackMsg.MagicNumberL = SET_NUMBERH(AT_SKILL_POISON);
; 1780 : 
; 1781 : 		pAttackMsg.NumberH = SET_NUMBERH(lpMonsterObj->TargetNumber);
; 1782 : 		pAttackMsg.NumberL = SET_NUMBERL(lpMonsterObj->TargetNumber);
; 1783 : 		pAttackMsg.Dis = 0;
; 1784 : 
; 1785 : 		if ( (lpMonsterObj->MaxLife / 25.0f) > lpMonsterObj->Life  )

  00018	f3 0f 10 8e dc
	00 00 00	 movss	 xmm1, DWORD PTR [esi+220]
  00020	0f bf 86 38 06
	00 00		 movsx	 eax, WORD PTR [esi+1592]
  00027	0f 28 c1	 movaps	 xmm0, xmm1
  0002a	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@41c80000
  00032	c1 e8 08	 shr	 eax, 8
  00035	88 45 fb	 mov	 BYTE PTR _pAttackMsg$1[ebp+3], al
  00038	8a 86 38 06 00
	00		 mov	 al, BYTE PTR [esi+1592]
  0003e	c6 45 fc 00	 mov	 BYTE PTR _pAttackMsg$1[ebp+4], 0
  00042	66 c7 45 fe 00
	00		 mov	 WORD PTR _pAttackMsg$1[ebp+6], 0
  00048	88 45 fd	 mov	 BYTE PTR _pAttackMsg$1[ebp+5], al
  0004b	f3 0f 10 96 d8
	00 00 00	 movss	 xmm2, DWORD PTR [esi+216]
  00053	0f 2f c2	 comiss	 xmm0, xmm2
  00056	76 1e		 jbe	 SHORT $LN3@gObjUseMon

; 1786 : 		{
; 1787 : 			CGMagicAttack(&pAttackMsg, lpMonsterObj->m_Index);

  00058	ff 36		 push	 DWORD PTR [esi]
  0005a	8d 45 f8	 lea	 eax, DWORD PTR _pAttackMsg$1[ebp]
  0005d	50		 push	 eax
  0005e	e8 00 00 00 00	 call	 ?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z ; CGMagicAttack

; 1788 : 			CGMagicAttack(&pAttackMsg, lpMonsterObj->m_Index);

  00063	ff 36		 push	 DWORD PTR [esi]
  00065	8d 45 f8	 lea	 eax, DWORD PTR _pAttackMsg$1[ebp]
  00068	50		 push	 eax
  00069	e8 00 00 00 00	 call	 ?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z ; CGMagicAttack
  0006e	83 c4 10	 add	 esp, 16			; 00000010H
  00071	5e		 pop	 esi

; 1793 : 		}
; 1794 : 	}
; 1795 : }

  00072	8b e5		 mov	 esp, ebp
  00074	5d		 pop	 ebp
  00075	c3		 ret	 0
$LN3@gObjUseMon:

; 1789 : 		}
; 1790 : 		else if ( (lpMonsterObj->MaxLife / 5.0f) > lpMonsterObj->Life  )

  00076	f3 0f 5e 0d 00
	00 00 00	 divss	 xmm1, DWORD PTR __real@40a00000
  0007e	0f 2f ca	 comiss	 xmm1, xmm2
  00081	76 0e		 jbe	 SHORT $LN5@gObjUseMon

; 1791 : 		{
; 1792 : 			CGMagicAttack(&pAttackMsg, lpMonsterObj->m_Index);

  00083	ff 36		 push	 DWORD PTR [esi]
  00085	8d 45 f8	 lea	 eax, DWORD PTR _pAttackMsg$1[ebp]
  00088	50		 push	 eax
  00089	e8 00 00 00 00	 call	 ?CGMagicAttack@@YAXPAUPMSG_MAGICATTACK@@H@Z ; CGMagicAttack
  0008e	83 c4 08	 add	 esp, 8
$LN5@gObjUseMon:
  00091	5e		 pop	 esi

; 1793 : 		}
; 1794 : 	}
; 1795 : }

  00092	8b e5		 mov	 esp, ebp
  00094	5d		 pop	 ebp
  00095	c3		 ret	 0
?gObjUseMonsterSpecialAbillity@@YAXPAUOBJECTSTRUCT@@@Z ENDP ; gObjUseMonsterSpecialAbillity
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterMagicAttack@@YAXPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
tv382 = -312						; size = 4
tv394 = -308						; size = 4
_lpObj$GSCopy$1$ = -304					; size = 4
_pAttack$ = -300					; size = 3
_pCount$ = -296						; size = 9
_ASBOfs$1$ = -284					; size = 4
_pCount$1$ = -277					; size = 1
_pDuration$ = -276					; size = 14
_AttackSendBuff$ = -260					; size = 256
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_iMonsterClass$ = 12					; size = 4
?gObjMonsterMagicAttack@@YAXPAUOBJECTSTRUCT@@H@Z PROC	; gObjMonsterMagicAttack, COMDAT

; 1683 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 38 01 00
	00		 sub	 esp, 312		; 00000138H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  00016	53		 push	 ebx
  00017	56		 push	 esi
  00018	57		 push	 edi

; 1684 : 	int tObjNum;
; 1685 : 	int count = 0;
; 1686 : 	PMSG_BEATTACK_COUNT pCount;
; 1687 : 	PMSG_BEATTACK pAttack;
; 1688 : 	BYTE AttackSendBuff[256];
; 1689 : 	int ASBOfs = 0;
; 1690 : 	PMSG_DURATION_MAGIC_RECV pDuration;
; 1691 : 
; 1692 : 	pDuration.MagicNumberH = 0;
; 1693 : 	pDuration.MagicNumberL = 0;
; 1694 : 
; 1695 : 	pDuration.Dir = 0;
; 1696 : 	pDuration.X = lpObj->X;

  00019	0f b6 81 20 01
	00 00		 movzx	 eax, BYTE PTR [ecx+288]

; 1697 : 	pDuration.Y = lpObj->Y;
; 1698 : 
; 1699 : 	CGDurationMagicRecv(&pDuration, lpObj->m_Index);

  00020	ff 31		 push	 DWORD PTR [ecx]
  00022	88 85 ef fe ff
	ff		 mov	 BYTE PTR _pDuration$[ebp+3], al
  00028	0f b6 81 21 01
	00 00		 movzx	 eax, BYTE PTR [ecx+289]
  0002f	88 85 f1 fe ff
	ff		 mov	 BYTE PTR _pDuration$[ebp+5], al
  00035	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _pDuration$[ebp]
  0003b	50		 push	 eax
  0003c	89 8d d0 fe ff
	ff		 mov	 DWORD PTR _lpObj$GSCopy$1$[ebp], ecx
  00042	c6 85 f0 fe ff
	ff 00		 mov	 BYTE PTR _pDuration$[ebp+4], 0
  00049	66 c7 85 f2 fe
	ff ff 00 00	 mov	 WORD PTR _pDuration$[ebp+6], 0
  00052	e8 00 00 00 00	 call	 ?CGDurationMagicRecv@@YAXPAUPMSG_DURATION_MAGIC_RECV@@H@Z ; CGDurationMagicRecv

; 1700 : 
; 1701 : 	
; 1702 : 	pCount.h.c = 0xC1;
; 1703 : #if (__ENG__ == 1)
; 1704 : 	pCount.h.headcode = 0xDB;
; 1705 : #else
; 1706 : 	// KOR PROTOCOL
; 1707 : 	pCount.h.headcode = 0xD3;
; 1708 : #endif
; 1709 : 	pCount.h.size = 0;
; 1710 : 
; 1711 : 	pCount.MagicNumberH = 0;
; 1712 : 	pCount.MagicNumberL = 0;
; 1713 : 
; 1714 : 	pCount.Count = 0;
; 1715 : 	pCount.X = lpObj->X;

  00057	8b 95 d0 fe ff
	ff		 mov	 edx, DWORD PTR _lpObj$GSCopy$1$[ebp]
  0005d	8d bd 05 ff ff
	ff		 lea	 edi, DWORD PTR _AttackSendBuff$[ebp+9]
  00063	83 c4 08	 add	 esp, 8
  00066	c7 85 d8 fe ff
	ff c1 00 db 00	 mov	 DWORD PTR _pCount$[ebp], 14352577 ; 00db00c1H
  00070	66 c7 85 dc fe
	ff ff 00 00	 mov	 WORD PTR _pCount$[ebp+4], 0
  00079	32 c9		 xor	 cl, cl
  0007b	c7 85 cc fe ff
	ff 4b 00 00 00	 mov	 DWORD PTR tv394[ebp], 75 ; 0000004bH
  00085	0f b6 82 20 01
	00 00		 movzx	 eax, BYTE PTR [edx+288]
  0008c	8d b2 4c 0c 00
	00		 lea	 esi, DWORD PTR [edx+3148]
  00092	88 85 de fe ff
	ff		 mov	 BYTE PTR _pCount$[ebp+6], al

; 1716 : 	pCount.Y = lpObj->Y;

  00098	8a 82 21 01 00
	00		 mov	 al, BYTE PTR [edx+289]
  0009e	88 85 eb fe ff
	ff		 mov	 BYTE PTR _pCount$1$[ebp], al

; 1717 : 	ASBOfs = sizeof(pCount);

  000a4	b8 09 00 00 00	 mov	 eax, 9
  000a9	89 85 e4 fe ff
	ff		 mov	 DWORD PTR _ASBOfs$1$[ebp], eax
  000af	c7 85 c8 fe ff
	ff 13 01 00 00	 mov	 DWORD PTR tv382[ebp], 275 ; 00000113H
  000b9	0f 1f 80 00 00
	00 00		 npad	 7
$LL2@gObjMonste:

; 1718 : 
; 1719 : 	while ( true )
; 1720 : 	{
; 1721 : 		if ( lpObj->VpPlayer2[count].state )

  000c0	80 7e fc 00	 cmp	 BYTE PTR [esi-4], 0
  000c4	74 7d		 je	 SHORT $LN9@gObjMonste

; 1722 : 		{
; 1723 : 			if ( lpObj->VpPlayer2[count].type == OBJ_USER )

  000c6	80 3e 01	 cmp	 BYTE PTR [esi], 1
  000c9	75 78		 jne	 SHORT $LN9@gObjMonste

; 1724 : 			{
; 1725 : 				tObjNum = lpObj->VpPlayer2[count].number;

  000cb	0f bf 5e fe	 movsx	 ebx, WORD PTR [esi-2]

; 1726 : 
; 1727 : 				if ( tObjNum >= 0 )

  000cf	85 db		 test	 ebx, ebx
  000d1	78 70		 js	 SHORT $LN9@gObjMonste

; 1728 : 				{
; 1729 : 					if ( lpObj->Class == 77 )	// Phoenix of Darkness

  000d3	0f b7 82 90 00
	00 00		 movzx	 eax, WORD PTR [edx+144]
  000da	83 f8 4d	 cmp	 eax, 77			; 0000004dH
  000dd	75 34		 jne	 SHORT $LN7@gObjMonste
$LN10@gObjMonste:

; 1730 : 					{
; 1731 : 						pAttack.NumberH = SET_NUMBERH(tObjNum);

  000df	8b c3		 mov	 eax, ebx
  000e1	c1 e8 08	 shr	 eax, 8
  000e4	88 85 d4 fe ff
	ff		 mov	 BYTE PTR _pAttack$[ebp], al

; 1732 : 						pAttack.NumberL = SET_NUMBERL(tObjNum);
; 1733 : 						memcpy(&AttackSendBuff[ASBOfs], &pAttack, sizeof(pAttack));

  000ea	66 8b 85 d4 fe
	ff ff		 mov	 ax, WORD PTR _pAttack$[ebp]
  000f1	66 89 07	 mov	 WORD PTR [edi], ax

; 1734 : 						ASBOfs+= sizeof(pAttack);

  000f4	8b 85 e4 fe ff
	ff		 mov	 eax, DWORD PTR _ASBOfs$1$[ebp]
  000fa	88 5f 02	 mov	 BYTE PTR [edi+2], bl
  000fd	83 c0 03	 add	 eax, 3
  00100	83 c7 03	 add	 edi, 3
  00103	89 85 e4 fe ff
	ff		 mov	 DWORD PTR _ASBOfs$1$[ebp], eax

; 1735 : 						pCount.Count++;

  00109	fe c1		 inc	 cl
  0010b	88 8d dc fe ff
	ff		 mov	 BYTE PTR _pCount$[ebp+4], cl
  00111	eb 30		 jmp	 SHORT $LN9@gObjMonste
$LN7@gObjMonste:

; 1736 : 					}
; 1737 : 					else if ( lpObj->Class == 275 || gObjCalDistance(lpObj, &gObj[tObjNum]) < 6 )

  00113	66 3b 85 c8 fe
	ff ff		 cmp	 ax, WORD PTR tv382[ebp]
  0011a	74 c3		 je	 SHORT $LN10@gObjMonste
  0011c	69 c3 40 27 00
	00		 imul	 eax, ebx, 10048
  00122	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00128	50		 push	 eax
  00129	52		 push	 edx
  0012a	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  0012f	8a 8d dc fe ff
	ff		 mov	 cl, BYTE PTR _pCount$[ebp+4]
  00135	83 c4 08	 add	 esp, 8
  00138	83 f8 06	 cmp	 eax, 6
  0013b	7c a2		 jl	 SHORT $LN10@gObjMonste
  0013d	8b 85 e4 fe ff
	ff		 mov	 eax, DWORD PTR _ASBOfs$1$[ebp]
$LN9@gObjMonste:

; 1738 : 					{
; 1739 : 						pAttack.NumberH = SET_NUMBERH(tObjNum);
; 1740 : 						pAttack.NumberL = SET_NUMBERL(tObjNum);
; 1741 : 						memcpy(&AttackSendBuff[ASBOfs], &pAttack, sizeof(pAttack));
; 1742 : 						ASBOfs+= sizeof(pAttack);
; 1743 : 						pCount.Count++;
; 1744 : 					}
; 1745 : 				}
; 1746 : 			}
; 1747 : 		}
; 1748 : 
; 1749 : 		count++;
; 1750 : 
; 1751 : 		if ( count > MAX_VIEWPORT_MONSTER-1 )

  00143	8b 95 d0 fe ff
	ff		 mov	 edx, DWORD PTR _lpObj$GSCopy$1$[ebp]
  00149	83 c6 0c	 add	 esi, 12			; 0000000cH
  0014c	83 ad cc fe ff
	ff 01		 sub	 DWORD PTR tv394[ebp], 1
  00153	0f 85 67 ff ff
	ff		 jne	 $LL2@gObjMonste

; 1752 : 			break;
; 1753 : 	}
; 1754 : 
; 1755 : 	if ( pCount.Count > 0 )

  00159	5f		 pop	 edi
  0015a	5e		 pop	 esi
  0015b	5b		 pop	 ebx
  0015c	84 c9		 test	 cl, cl
  0015e	0f 84 99 00 00
	00		 je	 $LN14@gObjMonste

; 1756 : 	{
; 1757 : 		pCount.h.size = ASBOfs;

  00164	88 85 d9 fe ff
	ff		 mov	 BYTE PTR _pCount$[ebp+1], al

; 1758 : 		memcpy(AttackSendBuff, &pCount, sizeof(pCount));
; 1759 : 
; 1760 : 		if ( lpObj->Class == 161 || lpObj->Class == 181 || lpObj->Class == 189 || lpObj->Class == 197 || lpObj->Class == 267 || lpObj->Class == 275 )

  0016a	8b ca		 mov	 ecx, edx
  0016c	8a 85 eb fe ff
	ff		 mov	 al, BYTE PTR _pCount$1$[ebp]
  00172	ba a1 00 00 00	 mov	 edx, 161		; 000000a1H
  00177	f3 0f 7e 85 d8
	fe ff ff	 movq	 xmm0, QWORD PTR _pCount$[ebp]
  0017f	88 85 04 ff ff
	ff		 mov	 BYTE PTR _AttackSendBuff$[ebp+8], al
  00185	0f b7 81 90 00
	00 00		 movzx	 eax, WORD PTR [ecx+144]
  0018c	66 0f d6 85 fc
	fe ff ff	 movq	 QWORD PTR _AttackSendBuff$[ebp], xmm0
  00194	66 3b c2	 cmp	 ax, dx
  00197	74 53		 je	 SHORT $LN15@gObjMonste
  00199	ba b5 00 00 00	 mov	 edx, 181		; 000000b5H
  0019e	66 3b c2	 cmp	 ax, dx
  001a1	74 49		 je	 SHORT $LN15@gObjMonste
  001a3	ba bd 00 00 00	 mov	 edx, 189		; 000000bdH
  001a8	66 3b c2	 cmp	 ax, dx
  001ab	74 3f		 je	 SHORT $LN15@gObjMonste
  001ad	ba c5 00 00 00	 mov	 edx, 197		; 000000c5H
  001b2	66 3b c2	 cmp	 ax, dx
  001b5	74 35		 je	 SHORT $LN15@gObjMonste
  001b7	ba 0b 01 00 00	 mov	 edx, 267		; 0000010bH
  001bc	66 3b c2	 cmp	 ax, dx
  001bf	74 2b		 je	 SHORT $LN15@gObjMonste
  001c1	ba 13 01 00 00	 mov	 edx, 275		; 00000113H
  001c6	66 3b c2	 cmp	 ax, dx
  001c9	74 21		 je	 SHORT $LN15@gObjMonste

; 1763 : 		}
; 1764 : 		else
; 1765 : 		{
; 1766 : 			CGBeattackRecv(AttackSendBuff, lpObj->m_Index, TRUE);

  001cb	6a 01		 push	 1
  001cd	ff 31		 push	 DWORD PTR [ecx]
  001cf	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _AttackSendBuff$[ebp]
  001d5	50		 push	 eax
  001d6	e8 00 00 00 00	 call	 ?CGBeattackRecv@@YAXPAEHH@Z ; CGBeattackRecv
  001db	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1767 : 		}
; 1768 : 	}
; 1769 : }

  001de	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001e1	33 cd		 xor	 ecx, ebp
  001e3	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001e8	8b e5		 mov	 esp, ebp
  001ea	5d		 pop	 ebp
  001eb	c3		 ret	 0
$LN15@gObjMonste:

; 1761 : 		{
; 1762 : 			gObjMonsterBeattackRecv(AttackSendBuff, lpObj->m_Index);

  001ec	ff 31		 push	 DWORD PTR [ecx]
  001ee	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _AttackSendBuff$[ebp]
  001f4	50		 push	 eax
  001f5	e8 00 00 00 00	 call	 ?gObjMonsterBeattackRecv@@YAXPAEH@Z ; gObjMonsterBeattackRecv
  001fa	83 c4 08	 add	 esp, 8
$LN14@gObjMonste:

; 1767 : 		}
; 1768 : 	}
; 1769 : }

  001fd	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00200	33 cd		 xor	 ecx, ebp
  00202	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00207	8b e5		 mov	 esp, ebp
  00209	5d		 pop	 ebp
  0020a	c3		 ret	 0
?gObjMonsterMagicAttack@@YAXPAUOBJECTSTRUCT@@H@Z ENDP	; gObjMonsterMagicAttack
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterProcess@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_ground$1 = 8						; size = 4
_lpObj$ = 8						; size = 4
?gObjMonsterProcess@@YAXPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterProcess, COMDAT

; 1373 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 1374 : 	gObjMsgProc(lpObj);

  00004	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00007	56		 push	 esi
  00008	e8 00 00 00 00	 call	 ?gObjMsgProc@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMsgProc
  0000d	83 c4 04	 add	 esp, 4

; 1375 : 
; 1376 : 	if ( lpObj->Live == FALSE )

  00010	80 7e 51 00	 cmp	 BYTE PTR [esi+81], 0
  00014	0f 84 2f 05 00
	00		 je	 $LN40@gObjMonste

; 1377 : 	{
; 1378 : 		return;
; 1379 : 	}
; 1380 : 
; 1381 : 	if ( lpObj->m_iMonsterBattleDelay > 0 )

  0001a	8a 86 a9 05 00
	00		 mov	 al, BYTE PTR [esi+1449]
  00020	84 c0		 test	 al, al
  00022	7e 08		 jle	 SHORT $LN3@gObjMonste

; 1382 : 	{
; 1383 : 		lpObj->m_iMonsterBattleDelay--;

  00024	fe c8		 dec	 al
  00026	88 86 a9 05 00
	00		 mov	 BYTE PTR [esi+1449], al
$LN3@gObjMonste:

; 1384 : 	}
; 1385 : 
; 1386 : 	if ( (GetTickCount() - lpObj->CurActionTime ) < (lpObj->NextActionTime + lpObj->DelayActionTime) )

  0002c	57		 push	 edi
  0002d	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR __imp__GetTickCount@0
  00033	ff d7		 call	 edi
  00035	8b 8e a4 05 00
	00		 mov	 ecx, DWORD PTR [esi+1444]
  0003b	2b 86 9c 05 00
	00		 sub	 eax, DWORD PTR [esi+1436]
  00041	03 8e a0 05 00
	00		 add	 ecx, DWORD PTR [esi+1440]
  00047	3b c1		 cmp	 eax, ecx
  00049	0f 82 f9 04 00
	00		 jb	 $LN93@gObjMonste

; 1387 : 	{
; 1388 : 		return;
; 1389 : 	}
; 1390 : 
; 1391 : 	lpObj->CurActionTime = GetTickCount();

  0004f	ff d7		 call	 edi
  00051	89 86 9c 05 00
	00		 mov	 DWORD PTR [esi+1436], eax

; 1392 : 
; 1393 : 	if ( BC_MAP_RANGE(lpObj->MapNumber) != FALSE )

  00057	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  0005d	3c 34		 cmp	 al, 52			; 00000034H
  0005f	74 0f		 je	 SHORT $LN88@gObjMonste
  00061	3c 0b		 cmp	 al, 11			; 0000000bH
  00063	72 3a		 jb	 SHORT $LN6@gObjMonste
  00065	b1 11		 mov	 cl, 17			; 00000011H
  00067	3a c8		 cmp	 cl, al
  00069	1b c0		 sbb	 eax, eax
  0006b	83 c0 01	 add	 eax, 1
  0006e	74 2f		 je	 SHORT $LN6@gObjMonste
$LN88@gObjMonste:

; 1394 : 	{
; 1395 : 		if ( lpObj->Class == 131|| ((lpObj->Class-132<0)?FALSE:(lpObj->Class-132>2)?FALSE:TRUE) != FALSE )

  00070	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  00077	b9 83 00 00 00	 mov	 ecx, 131		; 00000083H
  0007c	66 3b c1	 cmp	 ax, cx
  0007f	0f 84 c3 04 00
	00		 je	 $LN93@gObjMonste
  00085	8b c8		 mov	 ecx, eax
  00087	81 c1 7c ff ff
	ff		 add	 ecx, -132		; ffffff7cH
  0008d	78 10		 js	 SHORT $LN6@gObjMonste
  0008f	33 c0		 xor	 eax, eax
  00091	83 f9 02	 cmp	 ecx, 2
  00094	0f 9e c0	 setle	 al
  00097	85 c0		 test	 eax, eax
  00099	0f 85 a9 04 00
	00		 jne	 $LN93@gObjMonste
$LN6@gObjMonste:

; 1396 : 		{
; 1397 : 			return;
; 1398 : 		}
; 1399 : 	}
; 1400 : 
; 1401 : 	if ( ((lpObj->m_Attribute < 51)?FALSE:(lpObj->m_Attribute > 58)?FALSE:TRUE) != FALSE )

  0009f	0f b7 8e 96 06
	00 00		 movzx	 ecx, WORD PTR [esi+1686]
  000a6	66 83 f9 33	 cmp	 cx, 51			; 00000033H
  000aa	7c 2c		 jl	 SHORT $LN8@gObjMonste
  000ac	33 c0		 xor	 eax, eax
  000ae	66 83 f9 3a	 cmp	 cx, 58			; 0000003aH
  000b2	0f 9e c0	 setle	 al
  000b5	85 c0		 test	 eax, eax
  000b7	74 1f		 je	 SHORT $LN8@gObjMonste

; 1402 : 	{
; 1403 : 		if ( lpObj->m_Attribute == 58 )
; 1404 : 		{
; 1405 : 			g_KalimaGate.KalimaGateAct2(lpObj->m_Index);

  000b9	ff 36		 push	 DWORD PTR [esi]
  000bb	66 83 f9 3a	 cmp	 cx, 58			; 0000003aH
  000bf	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KalimaGate@@3VCKalimaGate@@A ; g_KalimaGate
  000c4	75 09		 jne	 SHORT $LN9@gObjMonste
  000c6	e8 00 00 00 00	 call	 ?KalimaGateAct2@CKalimaGate@@QAEXH@Z ; CKalimaGate::KalimaGateAct2
  000cb	5f		 pop	 edi
  000cc	5e		 pop	 esi

; 1673 : 		}
; 1674 : 	}
; 1675 : }

  000cd	5d		 pop	 ebp
  000ce	c3		 ret	 0
$LN9@gObjMonste:

; 1406 : 			return;
; 1407 : 		}
; 1408 : 
; 1409 : 		g_KalimaGate.KalimaGateAct(lpObj->m_Index);

  000cf	e8 00 00 00 00	 call	 ?KalimaGateAct@CKalimaGate@@QAEXH@Z ; CKalimaGate::KalimaGateAct
  000d4	5f		 pop	 edi
  000d5	5e		 pop	 esi

; 1673 : 		}
; 1674 : 	}
; 1675 : }

  000d6	5d		 pop	 ebp
  000d7	c3		 ret	 0
$LN8@gObjMonste:

; 1410 : 		return;
; 1411 : 	}
; 1412 : #if (GS_CASTLE == 1)
; 1413 : 	if( lpObj->Class == 283 )

  000d8	0f b7 8e 90 00
	00 00		 movzx	 ecx, WORD PTR [esi+144]
  000df	b8 1b 01 00 00	 mov	 eax, 283		; 0000011bH
  000e4	66 3b c8	 cmp	 cx, ax
  000e7	0f 84 5b 04 00
	00		 je	 $LN93@gObjMonste

; 1414 : 		return;
; 1415 : 
; 1416 : 	if( lpObj->Class == 288 )

  000ed	b8 20 01 00 00	 mov	 eax, 288		; 00000120H
  000f2	66 3b c8	 cmp	 cx, ax
  000f5	0f 84 4d 04 00
	00		 je	 $LN93@gObjMonste

; 1417 : 		return;
; 1418 : 
; 1419 : 	if( lpObj->Class == 216 )

  000fb	b8 d8 00 00 00	 mov	 eax, 216		; 000000d8H
  00100	66 3b c8	 cmp	 cx, ax
  00103	0f 84 3f 04 00
	00		 je	 $LN93@gObjMonste

; 1420 : 		return;
; 1421 : #endif
; 1422 : 
; 1423 : 	if ( lpObj->Class >= 100 && lpObj->Class <= 110 )

  00109	53		 push	 ebx
  0010a	bb f8 01 00 00	 mov	 ebx, 504		; 000001f8H
  0010f	83 f9 64	 cmp	 ecx, 100		; 00000064H
  00112	72 13		 jb	 SHORT $LN13@gObjMonste
  00114	83 f9 6e	 cmp	 ecx, 110		; 0000006eH
  00117	77 0e		 ja	 SHORT $LN13@gObjMonste

; 1424 : 	{
; 1425 : 		gObjMonsterTrapAct(lpObj);

  00119	56		 push	 esi
  0011a	e8 00 00 00 00	 call	 ?gObjMonsterTrapAct@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterTrapAct
  0011f	83 c4 04	 add	 esp, 4
  00122	e9 db 00 00 00	 jmp	 $LN28@gObjMonste
$LN13@gObjMonste:

; 1426 : 	}
; 1427 : 	else if ( lpObj->Class == 200 )

  00127	b8 c8 00 00 00	 mov	 eax, 200		; 000000c8H
  0012c	66 3b c8	 cmp	 cx, ax
  0012f	75 3d		 jne	 SHORT $LN15@gObjMonste

; 1428 : 	{
; 1429 : 		int ground;
; 1430 : 		int team = gCheckGoal(lpObj->X, lpObj->Y, ground);

  00131	8d 45 08	 lea	 eax, DWORD PTR _ground$1[ebp]
  00134	50		 push	 eax
  00135	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  0013c	50		 push	 eax
  0013d	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  00144	50		 push	 eax
  00145	e8 00 00 00 00	 call	 ?gCheckGoal@@YAHHHAAH@Z	; gCheckGoal
  0014a	8b f8		 mov	 edi, eax
  0014c	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1431 : 
; 1432 : 		if ( team >= 0 )

  0014f	85 ff		 test	 edi, edi
  00151	0f 88 ab 00 00
	00		 js	 $LN28@gObjMonste

; 1433 : 		{
; 1434 : 			gObjMonsterRegen(lpObj);

  00157	56		 push	 esi
  00158	e8 00 00 00 00	 call	 ?gObjMonsterRegen@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterRegen

; 1435 : 			gBattleSoccerScoreUpdate(ground, team);

  0015d	57		 push	 edi
  0015e	ff 75 08	 push	 DWORD PTR _ground$1[ebp]
  00161	e8 00 00 00 00	 call	 ?gBattleSoccerScoreUpdate@@YAHHH@Z ; gBattleSoccerScoreUpdate
  00166	83 c4 0c	 add	 esp, 12			; 0000000cH
  00169	5b		 pop	 ebx
  0016a	5f		 pop	 edi
  0016b	5e		 pop	 esi

; 1673 : 		}
; 1674 : 	}
; 1675 : }

  0016c	5d		 pop	 ebp
  0016d	c3		 ret	 0
$LN15@gObjMonste:

; 1436 : 			return;
; 1437 : 		}
; 1438 : 	}
; 1439 : 	else if( lpObj->Class == 523 )

  0016e	b8 0b 02 00 00	 mov	 eax, 523		; 0000020bH
  00173	66 3b c8	 cmp	 cx, ax
  00176	75 0b		 jne	 SHORT $LN18@gObjMonste

; 1440 : 	{
; 1441 : 		gObjMonsterTrapAct(lpObj);

  00178	56		 push	 esi
  00179	e8 00 00 00 00	 call	 ?gObjMonsterTrapAct@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterTrapAct
  0017e	83 c4 04	 add	 esp, 4
  00181	eb 7f		 jmp	 SHORT $LN28@gObjMonste
$LN18@gObjMonste:

; 1442 : 	}
; 1443 : 	else if( lpObj->Class >= 524 && lpObj->Class <= 528 )

  00183	b8 0c 02 00 00	 mov	 eax, 524		; 0000020cH
  00188	66 3b c8	 cmp	 cx, ax
  0018b	72 0e		 jb	 SHORT $LN20@gObjMonste
  0018d	b8 10 02 00 00	 mov	 eax, 528		; 00000210H
  00192	66 3b c8	 cmp	 cx, ax
  00195	0f 86 ac 03 00
	00		 jbe	 $LN94@gObjMonste
$LN20@gObjMonste:

; 1444 : 	{
; 1445 : 		return;
; 1446 : 	}
; 1447 : 	else if( IF_MONSTER_RANGE(lpObj->Class) )

  0019b	66 3b cb	 cmp	 cx, bx
  0019e	72 1c		 jb	 SHORT $LN22@gObjMonste
  001a0	b8 09 02 00 00	 mov	 eax, 521		; 00000209H
  001a5	66 3b c1	 cmp	 ax, cx
  001a8	1b c0		 sbb	 eax, eax
  001aa	83 c0 01	 add	 eax, 1
  001ad	74 0d		 je	 SHORT $LN22@gObjMonste

; 1448 : 	{
; 1449 : 		g_ImperialGuardian.MonsterBaseAct(lpObj);

  001af	56		 push	 esi
  001b0	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ImperialGuardian@@3VCImperialGuardian@@A ; g_ImperialGuardian
  001b5	e8 00 00 00 00	 call	 ?MonsterBaseAct@CImperialGuardian@@QAEXPAUOBJECTSTRUCT@@@Z ; CImperialGuardian::MonsterBaseAct

; 1450 : 	}
; 1451 : 	else 

  001ba	eb 46		 jmp	 SHORT $LN28@gObjMonste
$LN22@gObjMonste:

; 1452 : 	{
; 1453 : 		if ( lpObj->Class == 287 || lpObj->Class == 286 )

  001bc	b8 1f 01 00 00	 mov	 eax, 287		; 0000011fH
  001c1	66 3b c8	 cmp	 cx, ax
  001c4	74 30		 je	 SHORT $LN26@gObjMonste
  001c6	b8 1e 01 00 00	 mov	 eax, 286		; 0000011eH
  001cb	66 3b c8	 cmp	 cx, ax
  001ce	74 26		 je	 SHORT $LN26@gObjMonste

; 1456 : 		}
; 1457 : 		else if ( lpObj->m_bIsInMonsterHerd != false )

  001d0	83 be 78 14 00
	00 00		 cmp	 DWORD PTR [esi+5240], 0
  001d7	74 12		 je	 SHORT $LN27@gObjMonste

; 1458 : 		{
; 1459 : 			if ( lpObj->m_lpMonsterHerd != NULL )

  001d9	8b 8e 80 14 00
	00		 mov	 ecx, DWORD PTR [esi+5248]
  001df	85 c9		 test	 ecx, ecx
  001e1	74 1f		 je	 SHORT $LN28@gObjMonste

; 1460 : 			{
; 1461 : 				lpObj->m_lpMonsterHerd->MonsterBaseAct(lpObj);

  001e3	8b 01		 mov	 eax, DWORD PTR [ecx]
  001e5	56		 push	 esi
  001e6	ff 50 40	 call	 DWORD PTR [eax+64]

; 1462 : 			}
; 1463 : 		}
; 1464 : 		else

  001e9	eb 17		 jmp	 SHORT $LN28@gObjMonste
$LN27@gObjMonste:

; 1465 : 		{
; 1466 : 			gObjMonsterBaseAct(lpObj);

  001eb	56		 push	 esi
  001ec	e8 00 00 00 00	 call	 ?gObjMonsterBaseAct@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterBaseAct
  001f1	83 c4 04	 add	 esp, 4
  001f4	eb 0c		 jmp	 SHORT $LN28@gObjMonste
$LN26@gObjMonste:

; 1454 : 		{
; 1455 : 			g_CsNPC_Mercenary.MercenaryAct(lpObj->m_Index);

  001f6	ff 36		 push	 DWORD PTR [esi]
  001f8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CsNPC_Mercenary@@3VCMercenary@@A ; g_CsNPC_Mercenary
  001fd	e8 00 00 00 00	 call	 ?MercenaryAct@CMercenary@@QAEXH@Z ; CMercenary::MercenaryAct
$LN28@gObjMonste:

; 1467 : 		}
; 1468 : 	}
; 1469 : 
; 1470 : 	if ( lpObj->m_Attribute == 100 )

  00202	66 83 be 96 06
	00 00 64	 cmp	 WORD PTR [esi+1686], 100 ; 00000064H
  0020a	75 7d		 jne	 SHORT $LN34@gObjMonste

; 1471 : 	{
; 1472 : 		if ( lpObj->m_RecallMon >= 0 && lpObj->m_RecallMon < OBJMAX )

  0020c	8b 86 30 06 00
	00		 mov	 eax, DWORD PTR [esi+1584]
  00212	85 c0		 test	 eax, eax
  00214	78 73		 js	 SHORT $LN34@gObjMonste
  00216	3d ec 2c 00 00	 cmp	 eax, 11500		; 00002cecH
  0021b	7d 6c		 jge	 SHORT $LN34@gObjMonste

; 1473 : 		{
; 1474 : 			LPOBJ lpCallMonObj;
; 1475 : 			BOOL Success = FALSE;
; 1476 : 
; 1477 : 			lpCallMonObj = &gObj[lpObj->m_RecallMon];

  0021d	69 f8 40 27 00
	00		 imul	 edi, eax, 10048
  00223	33 db		 xor	 ebx, ebx

; 1478 : 
; 1479 : 
; 1480 : 			if ( lpObj->MapNumber != lpCallMonObj->MapNumber )

  00225	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  0022b	b9 01 00 00 00	 mov	 ecx, 1

; 1481 : 			{
; 1482 : 				Success = TRUE;
; 1483 : 			}
; 1484 : 	
; 1485 : 			if ( gObjCalDistance(lpCallMonObj, lpObj)> 14 )

  00230	56		 push	 esi
  00231	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00237	57		 push	 edi
  00238	3a 87 23 01 00
	00		 cmp	 al, BYTE PTR [edi+291]
  0023e	0f 45 d9	 cmovne	 ebx, ecx
  00241	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance
  00246	83 c4 08	 add	 esp, 8
  00249	83 f8 0e	 cmp	 eax, 14			; 0000000eH
  0024c	7f 05		 jg	 SHORT $LN89@gObjMonste

; 1486 : 			{
; 1487 : 				Success = TRUE;
; 1488 : 			}
; 1489 : 
; 1490 : 			if ( Success == TRUE )

  0024e	83 fb 01	 cmp	 ebx, 1
  00251	75 31		 jne	 SHORT $LN92@gObjMonste
$LN89@gObjMonste:

; 1491 : 			{
; 1492 : 				gObjTeleportMagicUse(lpObj->m_Index, (BYTE)lpCallMonObj->X+1, lpCallMonObj->Y);

  00253	0f b6 87 21 01
	00 00		 movzx	 eax, BYTE PTR [edi+289]
  0025a	50		 push	 eax
  0025b	0f b6 87 20 01
	00 00		 movzx	 eax, BYTE PTR [edi+288]
  00262	fe c0		 inc	 al
  00264	0f b6 c0	 movzx	 eax, al
  00267	50		 push	 eax
  00268	ff 36		 push	 DWORD PTR [esi]
  0026a	e8 00 00 00 00	 call	 ?gObjTeleportMagicUse@@YAXHEE@Z ; gObjTeleportMagicUse

; 1493 : 				lpObj->MapNumber = lpCallMonObj->MapNumber;

  0026f	0f b6 87 23 01
	00 00		 movzx	 eax, BYTE PTR [edi+291]
  00276	83 c4 0c	 add	 esp, 12			; 0000000cH
  00279	88 86 23 01 00
	00		 mov	 BYTE PTR [esi+291], al
  0027f	5b		 pop	 ebx
  00280	5f		 pop	 edi
  00281	5e		 pop	 esi

; 1673 : 		}
; 1674 : 	}
; 1675 : }

  00282	5d		 pop	 ebp
  00283	c3		 ret	 0
$LN92@gObjMonste:
  00284	bb f8 01 00 00	 mov	 ebx, 504		; 000001f8H
$LN34@gObjMonste:

; 1494 : 				return;
; 1495 : 			}
; 1496 : 		}
; 1497 : 	}
; 1498 : 
; 1499 : 	if ( lpObj->m_ActState.Move != 0 )

  00289	8b 86 c8 01 00
	00		 mov	 eax, DWORD PTR [esi+456]
  0028f	a8 04		 test	 al, 4
  00291	74 21		 je	 SHORT $LN35@gObjMonste

; 1500 : 	{
; 1501 : 		if ( PathFindMoveMsgSend(lpObj ) == TRUE )

  00293	56		 push	 esi
  00294	e8 00 00 00 00	 call	 ?PathFindMoveMsgSend@@YAHPAUOBJECTSTRUCT@@@Z ; PathFindMoveMsgSend
  00299	83 c4 04	 add	 esp, 4
  0029c	83 f8 01	 cmp	 eax, 1
  0029f	75 07		 jne	 SHORT $LN36@gObjMonste

; 1502 : 		{
; 1503 : 			lpObj->m_ActState.Move  = (DWORD)0;

  002a1	83 a6 c8 01 00
	00 fb		 and	 DWORD PTR [esi+456], -5	; fffffffbH
$LN36@gObjMonste:

; 1504 : 		}
; 1505 : 
; 1506 : 		lpObj->m_ActState.Move = (DWORD)0;

  002a8	83 a6 c8 01 00
	00 fb		 and	 DWORD PTR [esi+456], -5	; fffffffbH
  002af	5b		 pop	 ebx
  002b0	5f		 pop	 edi
  002b1	5e		 pop	 esi

; 1673 : 		}
; 1674 : 	}
; 1675 : }

  002b2	5d		 pop	 ebp
  002b3	c3		 ret	 0
$LN35@gObjMonste:

; 1507 : 
; 1508 : 		return;
; 1509 : 	}
; 1510 : 
; 1511 : 	if ( lpObj->m_ActState.Attack == 1 )

  002b4	a8 02		 test	 al, 2
  002b6	0f 84 8b 02 00
	00		 je	 $LN94@gObjMonste

; 1512 : 	{
; 1513 : 		if ( lpObj->Connected == PLAYER_PLAYING && lpObj->Type == OBJ_MONSTER && lpObj->Class == 459 )

  002bc	83 7e 04 03	 cmp	 DWORD PTR [esi+4], 3
  002c0	75 18		 jne	 SHORT $LN38@gObjMonste
  002c2	80 7e 50 02	 cmp	 BYTE PTR [esi+80], 2
  002c6	75 12		 jne	 SHORT $LN38@gObjMonste
  002c8	b8 cb 01 00 00	 mov	 eax, 459		; 000001cbH
  002cd	66 39 86 90 00
	00 00		 cmp	 WORD PTR [esi+144], ax
  002d4	0f 84 6d 02 00
	00		 je	 $LN94@gObjMonste
$LN38@gObjMonste:

; 1514 : 		{
; 1515 : 			return;
; 1516 : 		}
; 1517 : 
; 1518 : 		if ( TMonsterSkillManager::CheckMonsterSkill(lpObj->Class) )

  002da	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  002e1	50		 push	 eax
  002e2	e8 00 00 00 00	 call	 ?CheckMonsterSkill@TMonsterSkillManager@@SAHH@Z ; TMonsterSkillManager::CheckMonsterSkill
  002e7	83 c4 04	 add	 esp, 4
  002ea	85 c0		 test	 eax, eax
  002ec	0f 84 fe 00 00
	00		 je	 $LN39@gObjMonste

; 1519 : 		{
; 1520 : 			BOOL bEnableAttack = TRUE;
; 1521 : 
; 1522 : 			if ( lpObj->TargetNumber < 0 )

  002f2	0f b7 86 38 06
	00 00		 movzx	 eax, WORD PTR [esi+1592]
  002f9	ba 01 00 00 00	 mov	 edx, 1
  002fe	66 85 c0	 test	 ax, ax
  00301	0f 88 c6 00 00
	00		 js	 $LN90@gObjMonste

; 1523 : 			{
; 1524 : 				lpObj->TargetNumber = -1;
; 1525 : 				lpObj->m_ActState.Emotion = 0;
; 1526 : 				lpObj->m_ActState.Attack = 0;
; 1527 : 				lpObj->m_ActState.Move = 0;
; 1528 : 				lpObj->NextActionTime = 1000;
; 1529 : 				return;
; 1530 : 			}
; 1531 : 
; 1532 : 			if ( gObj[lpObj->TargetNumber].Live == FALSE || gObj[lpObj->TargetNumber].Teleport != 0)

  00307	98		 cwde
  00308	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  0030e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00313	80 7c 01 51 00	 cmp	 BYTE PTR [ecx+eax+81], 0
  00318	74 0a		 je	 SHORT $LN43@gObjMonste
  0031a	80 bc 01 88 05
	00 00 00	 cmp	 BYTE PTR [ecx+eax+1416], 0
  00322	74 02		 je	 SHORT $LN42@gObjMonste
$LN43@gObjMonste:

; 1533 : 				bEnableAttack = FALSE;

  00324	33 d2		 xor	 edx, edx
$LN42@gObjMonste:

; 1534 : 
; 1535 : 			if ( gObj[lpObj->TargetNumber].Connected <= PLAYER_LOGGED || gObj[lpObj->TargetNumber].CloseCount != -1 )

  00326	83 7c 01 04 02	 cmp	 DWORD PTR [ecx+eax+4], 2
  0032b	0f 8e 9c 00 00
	00		 jle	 $LN90@gObjMonste
  00331	80 7c 01 0c ff	 cmp	 BYTE PTR [ecx+eax+12], -1
  00336	0f 85 91 00 00
	00		 jne	 $LN90@gObjMonste

; 1536 : 				bEnableAttack = FALSE;
; 1537 : 
; 1538 : 			if ( bEnableAttack == FALSE )

  0033c	85 d2		 test	 edx, edx
  0033e	0f 84 89 00 00
	00		 je	 $LN90@gObjMonste

; 1545 : 				return;
; 1546 : 			}
; 1547 : 			
; 1548 : 			if ( rand()%4 == 0 && lpObj->Class != 504 )

  00344	e8 00 00 00 00	 call	 _rand
  00349	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  0034e	79 05		 jns	 SHORT $LN95@gObjMonste
  00350	48		 dec	 eax
  00351	83 c8 fc	 or	 eax, -4			; fffffffcH
  00354	40		 inc	 eax
$LN95@gObjMonste:
  00355	75 52		 jne	 SHORT $LN47@gObjMonste
  00357	66 39 9e 90 00
	00 00		 cmp	 WORD PTR [esi+144], bx
  0035e	74 49		 je	 SHORT $LN47@gObjMonste

; 1549 : 			{
; 1550 : 				PMSG_ATTACK pAttackMsg;
; 1551 : 
; 1552 : 				pAttackMsg.AttackAction = 120;
; 1553 : 				pAttackMsg.DirDis = lpObj->Dir;
; 1554 : 				pAttackMsg.NumberH = (BYTE)((DWORD)lpObj->TargetNumber>>(DWORD)8);
; 1555 : 				pAttackMsg.NumberL = lpObj->TargetNumber&0xFF;
; 1556 : 
; 1557 : 				GCActionSend(lpObj, 120, lpObj->m_Index, lpObj->TargetNumber);

  00360	0f bf 86 38 06
	00 00		 movsx	 eax, WORD PTR [esi+1592]
  00367	50		 push	 eax
  00368	ff 36		 push	 DWORD PTR [esi]
  0036a	6a 78		 push	 120			; 00000078H
  0036c	56		 push	 esi
  0036d	e8 00 00 00 00	 call	 ?GCActionSend@@YAXPAUOBJECTSTRUCT@@EHH@Z ; GCActionSend

; 1558 : 				gObjAttack(lpObj, &gObj[lpObj->TargetNumber], NULL, FALSE, 0, 0, FALSE, 0, 0);

  00372	0f bf 86 38 06
	00 00		 movsx	 eax, WORD PTR [esi+1592]
  00379	6a 00		 push	 0
  0037b	6a 00		 push	 0
  0037d	6a 00		 push	 0
  0037f	6a 00		 push	 0
  00381	6a 00		 push	 0
  00383	69 c0 40 27 00
	00		 imul	 eax, eax, 10048
  00389	6a 00		 push	 0
  0038b	6a 00		 push	 0
  0038d	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00393	50		 push	 eax
  00394	56		 push	 esi
  00395	e8 00 00 00 00	 call	 ?gObjAttack@@YAXPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  0039a	83 c4 34	 add	 esp, 52			; 00000034H

; 1668 : 					}
; 1669 : 				}
; 1670 : 			}
; 1671 : 
; 1672 : 			lpObj->m_ActState.Attack = 0;

  0039d	83 a6 c8 01 00
	00 fd		 and	 DWORD PTR [esi+456], -3	; fffffffdH
  003a4	5b		 pop	 ebx
  003a5	5f		 pop	 edi
  003a6	5e		 pop	 esi

; 1673 : 		}
; 1674 : 	}
; 1675 : }

  003a7	5d		 pop	 ebp
  003a8	c3		 ret	 0
$LN47@gObjMonste:

; 1559 : 			}
; 1560 : 			else
; 1561 : 			{
; 1562 : 				TMonsterSkillManager::UseMonsterSkill(lpObj->m_Index, lpObj->TargetNumber, 0,-1,0);

  003a9	0f bf 86 38 06
	00 00		 movsx	 eax, WORD PTR [esi+1592]
  003b0	6a 00		 push	 0
  003b2	6a ff		 push	 -1
  003b4	6a 00		 push	 0
  003b6	50		 push	 eax
  003b7	ff 36		 push	 DWORD PTR [esi]
  003b9	e8 00 00 00 00	 call	 ?UseMonsterSkill@TMonsterSkillManager@@SAXHHHHPAVCMagicInf@@@Z ; TMonsterSkillManager::UseMonsterSkill
  003be	83 c4 14	 add	 esp, 20			; 00000014H

; 1668 : 					}
; 1669 : 				}
; 1670 : 			}
; 1671 : 
; 1672 : 			lpObj->m_ActState.Attack = 0;

  003c1	83 a6 c8 01 00
	00 fd		 and	 DWORD PTR [esi+456], -3	; fffffffdH
  003c8	5b		 pop	 ebx
  003c9	5f		 pop	 edi
  003ca	5e		 pop	 esi

; 1673 : 		}
; 1674 : 	}
; 1675 : }

  003cb	5d		 pop	 ebp
  003cc	c3		 ret	 0
$LN90@gObjMonste:
  003cd	5b		 pop	 ebx

; 1539 : 			{
; 1540 : 				lpObj->TargetNumber = -1;

  003ce	83 c8 ff	 or	 eax, -1

; 1541 : 				lpObj->m_ActState.Emotion = 0;
; 1542 : 				lpObj->m_ActState.Attack = 0;
; 1543 : 				lpObj->m_ActState.Move = 0;
; 1544 : 				lpObj->NextActionTime = 1000;

  003d1	c7 86 a0 05 00
	00 e8 03 00 00	 mov	 DWORD PTR [esi+1440], 1000 ; 000003e8H
  003db	81 a6 c8 01 00
	00 09 ff ff ff	 and	 DWORD PTR [esi+456], -247 ; ffffff09H
  003e5	5f		 pop	 edi
  003e6	66 89 86 38 06
	00 00		 mov	 WORD PTR [esi+1592], ax
  003ed	5e		 pop	 esi

; 1673 : 		}
; 1674 : 	}
; 1675 : }

  003ee	5d		 pop	 ebp
  003ef	c3		 ret	 0
$LN39@gObjMonste:

; 1563 : 			}
; 1564 : 
; 1565 : 			lpObj->m_ActState.Attack = 0;
; 1566 : 		}
; 1567 : 		else
; 1568 : 		{
; 1569 : 			int AttackType = lpObj->m_AttackType;
; 1570 : 			int bMagic = FALSE;
; 1571 : 
; 1572 : 			if ( AttackType >= 100 )

  003f0	66 83 be 92 06
	00 00 64	 cmp	 WORD PTR [esi+1682], 100 ; 00000064H
  003f8	7c 3b		 jl	 SHORT $LN91@gObjMonste

; 1573 : 			{
; 1574 : 				if ( DG_MAP_RANGE(lpObj->MapNumber) && (rand()%2) == 0 )

  003fa	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  00400	3c 41		 cmp	 al, 65			; 00000041H
  00402	72 1e		 jb	 SHORT $LN50@gObjMonste
  00404	b1 44		 mov	 cl, 68			; 00000044H
  00406	3a c8		 cmp	 cl, al
  00408	1b c0		 sbb	 eax, eax
  0040a	83 c0 01	 add	 eax, 1
  0040d	74 13		 je	 SHORT $LN50@gObjMonste
  0040f	e8 00 00 00 00	 call	 _rand
  00414	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00419	79 05		 jns	 SHORT $LN96@gObjMonste
  0041b	48		 dec	 eax
  0041c	83 c8 fe	 or	 eax, -2			; fffffffeH
  0041f	40		 inc	 eax
$LN96@gObjMonste:
  00420	74 6f		 je	 SHORT $LN56@gObjMonste
$LN50@gObjMonste:

; 1575 : 				{
; 1576 : 					AttackType -= 100;
; 1577 : 					bMagic = TRUE;
; 1578 : 				}
; 1579 : 				else if ( (rand()%4) == 0 )

  00422	e8 00 00 00 00	 call	 _rand
  00427	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  0042c	79 05		 jns	 SHORT $LN97@gObjMonste
  0042e	48		 dec	 eax
  0042f	83 c8 fc	 or	 eax, -4			; fffffffcH
  00432	40		 inc	 eax
$LN97@gObjMonste:
  00433	74 5c		 je	 SHORT $LN56@gObjMonste
$LN91@gObjMonste:

; 1580 : 				{
; 1581 : 					AttackType -= 100;
; 1582 : 					bMagic = TRUE;
; 1583 : 				}
; 1584 : 				else
; 1585 : 				{
; 1586 : 					AttackType = 0;
; 1587 : 				}
; 1588 : 			}
; 1589 : 
; 1590 : 			if ( bMagic != FALSE || lpObj->m_AttackType == 50)

  00435	66 83 be 92 06
	00 00 32	 cmp	 WORD PTR [esi+1682], 50	; 00000032H
  0043d	74 52		 je	 SHORT $LN56@gObjMonste

; 1627 : 					}
; 1628 : 				}
; 1629 : 			}
; 1630 : 			else
; 1631 : 			{
; 1632 : 				if ( lpObj->TargetNumber >= 0 )

  0043f	0f b7 86 38 06
	00 00		 movzx	 eax, WORD PTR [esi+1592]
  00446	66 85 c0	 test	 ax, ax
  00449	0f 88 f1 00 00
	00		 js	 $LN59@gObjMonste

; 1633 : 				{
; 1634 : 					if ( gObj[lpObj->TargetNumber].Connected > PLAYER_LOGGED &&  gObj[lpObj->TargetNumber].CloseCount == -1 )

  0044f	98		 cwde
  00450	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  00456	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0045b	03 c1		 add	 eax, ecx
  0045d	83 78 04 02	 cmp	 DWORD PTR [eax+4], 2
  00461	0f 8e bb 00 00
	00		 jle	 $LN58@gObjMonste
  00467	80 78 0c ff	 cmp	 BYTE PTR [eax+12], -1
  0046b	0f 85 b1 00 00
	00		 jne	 $LN58@gObjMonste

; 1635 : 					{
; 1636 : 						if ( gObj[lpObj->TargetNumber].Live == FALSE )

  00471	80 78 51 00	 cmp	 BYTE PTR [eax+81], 0
  00475	0f 84 a7 00 00
	00		 je	 $LN58@gObjMonste

; 1637 : 						{
; 1638 : 							lpObj->TargetNumber = -1;
; 1639 : 							lpObj->m_ActState.Emotion = 0;
; 1640 : 							lpObj->m_ActState.Attack = 0;
; 1641 : 							lpObj->m_ActState.Move = 0;
; 1642 : 							lpObj->NextActionTime = 1000;
; 1643 : 						}
; 1644 : 						else if ( gObj[lpObj->TargetNumber].Teleport == 0 )

  0047b	80 b8 88 05 00
	00 00		 cmp	 BYTE PTR [eax+1416], 0
  00482	0f 85 b8 00 00
	00		 jne	 $LN59@gObjMonste

; 1645 : 						{
; 1646 : 							gObjMonsterAttack(lpObj, &gObj[lpObj->TargetNumber]);

  00488	50		 push	 eax
  00489	56		 push	 esi
  0048a	e8 00 00 00 00	 call	 ?gObjMonsterAttack@@YAXPAUOBJECTSTRUCT@@0@Z ; gObjMonsterAttack

; 1647 : 
; 1648 : 							if ( lpObj->Type == OBJ_MONSTER )
; 1649 : 							{
; 1650 : 								if ( lpObj->m_bIsInMonsterHerd != false )
; 1651 : 								{
; 1652 : 									if (lpObj->m_lpMonsterHerd != NULL )
; 1653 : 									{
; 1654 : 										lpObj->m_lpMonsterHerd->MonsterAttackAction(lpObj, &gObj[lpObj->TargetNumber]);
; 1655 : 									}
; 1656 : 								}
; 1657 : 							}
; 1658 : 						}
; 1659 : 						
; 1660 : 					}
; 1661 : 					else
; 1662 : 					{
; 1663 : 						lpObj->TargetNumber = -1;
; 1664 : 						lpObj->m_ActState.Emotion = 0;
; 1665 : 						lpObj->m_ActState.Attack = 0;
; 1666 : 						lpObj->m_ActState.Move = 0;
; 1667 : 						lpObj->NextActionTime = 1000;

  0048f	eb 4f		 jmp	 SHORT $LN101@gObjMonste
$LN56@gObjMonste:

; 1591 : 			{
; 1592 : 				if ( lpObj->TargetNumber >= 0 )

  00491	0f b7 86 38 06
	00 00		 movzx	 eax, WORD PTR [esi+1592]
  00498	66 85 c0	 test	 ax, ax
  0049b	0f 88 9f 00 00
	00		 js	 $LN59@gObjMonste

; 1593 : 				{
; 1594 : 					if ( gObj[lpObj->TargetNumber].Connected > PLAYER_LOGGED && gObj[lpObj->TargetNumber].CloseCount == -1 )

  004a1	98		 cwde
  004a2	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  004a8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004ad	83 7c 01 04 02	 cmp	 DWORD PTR [ecx+eax+4], 2
  004b2	7e 6e		 jle	 SHORT $LN58@gObjMonste
  004b4	80 7c 01 0c ff	 cmp	 BYTE PTR [ecx+eax+12], -1
  004b9	75 67		 jne	 SHORT $LN58@gObjMonste

; 1595 : 					{
; 1596 : 						if ( gObj[lpObj->TargetNumber].Live == FALSE )

  004bb	80 7c 01 51 00	 cmp	 BYTE PTR [ecx+eax+81], 0
  004c0	75 0c		 jne	 SHORT $LN60@gObjMonste

; 1597 : 						{
; 1598 : 							lpObj->TargetNumber = -1;

  004c2	83 ca ff	 or	 edx, -1
  004c5	66 89 96 38 06
	00 00		 mov	 WORD PTR [esi+1592], dx

; 1599 : 							lpObj->m_ActState.Emotion = 0;
; 1600 : 							lpObj->m_ActState.Attack = 0;
; 1601 : 							lpObj->m_ActState.Move = 0;
; 1602 : 							lpObj->NextActionTime = 1000;

  004cc	eb 5e		 jmp	 SHORT $LN102@gObjMonste
$LN60@gObjMonste:

; 1603 : 						}
; 1604 : 						else if ( gObj[lpObj->TargetNumber].Teleport == 0 ) // if is not dead

  004ce	80 bc 01 88 05
	00 00 00	 cmp	 BYTE PTR [ecx+eax+1416], 0
  004d6	75 68		 jne	 SHORT $LN59@gObjMonste

; 1605 : 						{
; 1606 : 							gObjMonsterMagicAttack(lpObj, -1);

  004d8	6a ff		 push	 -1
  004da	56		 push	 esi
  004db	e8 00 00 00 00	 call	 ?gObjMonsterMagicAttack@@YAXPAUOBJECTSTRUCT@@H@Z ; gObjMonsterMagicAttack
$LN101@gObjMonste:
  004e0	83 c4 08	 add	 esp, 8

; 1607 : 
; 1608 : 							if ( lpObj->Type == OBJ_MONSTER )

  004e3	80 7e 50 02	 cmp	 BYTE PTR [esi+80], 2
  004e7	75 57		 jne	 SHORT $LN59@gObjMonste

; 1609 : 							{
; 1610 : 								if ( lpObj->m_bIsInMonsterHerd != false )

  004e9	83 be 78 14 00
	00 00		 cmp	 DWORD PTR [esi+5240], 0
  004f0	74 4e		 je	 SHORT $LN59@gObjMonste

; 1611 : 								{
; 1612 : 									if (lpObj->m_lpMonsterHerd != NULL )

  004f2	8b 8e 80 14 00
	00		 mov	 ecx, DWORD PTR [esi+5248]
  004f8	85 c9		 test	 ecx, ecx
  004fa	74 44		 je	 SHORT $LN59@gObjMonste

; 1613 : 									{
; 1614 : 										lpObj->m_lpMonsterHerd->MonsterAttackAction(lpObj, &gObj[lpObj->TargetNumber]);

  004fc	0f bf 86 38 06
	00 00		 movsx	 eax, WORD PTR [esi+1592]
  00503	8b 11		 mov	 edx, DWORD PTR [ecx]
  00505	69 c0 40 27 00
	00		 imul	 eax, eax, 10048
  0050b	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00511	50		 push	 eax
  00512	56		 push	 esi
  00513	ff 52 48	 call	 DWORD PTR [edx+72]

; 1668 : 					}
; 1669 : 				}
; 1670 : 			}
; 1671 : 
; 1672 : 			lpObj->m_ActState.Attack = 0;

  00516	83 a6 c8 01 00
	00 fd		 and	 DWORD PTR [esi+456], -3	; fffffffdH
  0051d	5b		 pop	 ebx
  0051e	5f		 pop	 edi
  0051f	5e		 pop	 esi

; 1673 : 		}
; 1674 : 	}
; 1675 : }

  00520	5d		 pop	 ebp
  00521	c3		 ret	 0
$LN58@gObjMonste:

; 1615 : 									}
; 1616 : 								}
; 1617 : 							}
; 1618 : 						}
; 1619 : 					}
; 1620 : 					else
; 1621 : 					{
; 1622 : 						lpObj->TargetNumber = -1;

  00522	83 c8 ff	 or	 eax, -1
  00525	66 89 86 38 06
	00 00		 mov	 WORD PTR [esi+1592], ax
$LN102@gObjMonste:

; 1623 : 						lpObj->m_ActState.Emotion = 0;
; 1624 : 						lpObj->m_ActState.Attack = 0;
; 1625 : 						lpObj->m_ActState.Move = 0;

  0052c	81 a6 c8 01 00
	00 09 ff ff ff	 and	 DWORD PTR [esi+456], -247 ; ffffff09H

; 1626 : 						lpObj->NextActionTime = 1000;

  00536	c7 86 a0 05 00
	00 e8 03 00 00	 mov	 DWORD PTR [esi+1440], 1000 ; 000003e8H
$LN59@gObjMonste:

; 1668 : 					}
; 1669 : 				}
; 1670 : 			}
; 1671 : 
; 1672 : 			lpObj->m_ActState.Attack = 0;

  00540	83 a6 c8 01 00
	00 fd		 and	 DWORD PTR [esi+456], -3	; fffffffdH
$LN94@gObjMonste:
  00547	5b		 pop	 ebx
$LN93@gObjMonste:
  00548	5f		 pop	 edi
$LN40@gObjMonste:
  00549	5e		 pop	 esi

; 1673 : 		}
; 1674 : 	}
; 1675 : }

  0054a	5d		 pop	 ebp
  0054b	c3		 ret	 0
?gObjMonsterProcess@@YAXPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterProcess
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z
_TEXT	SEGMENT
_cMagicInf$2 = -68					; size = 24
_EnemyMap$1$ = -44					; size = 4
tv1309 = -40						; size = 4
tv1305 = -40						; size = 4
_map$1$ = -40						; size = 4
_Bridge$1$ = -40					; size = 4
tv1340 = -36						; size = 4
_pMsg$3 = -32						; size = 14
__$ArrayPad$ = -16					; size = 4
__$EHRec$ = -12						; size = 12
_lpObj$ = 8						; size = 4
_aMsgCode$ = 12						; size = 4
_aIndex$ = 16						; size = 4
_aMsgSubCode$ = 20					; size = 4
?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z PROC	; gObjMonsterStateProc, COMDAT

; 944  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	83 ec 38	 sub	 esp, 56			; 00000038H
  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00019	33 c5		 xor	 eax, ebp
  0001b	89 45 f0	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0001e	56		 push	 esi
  0001f	57		 push	 edi
  00020	50		 push	 eax
  00021	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  00024	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  0002a	8b 7d 08	 mov	 edi, DWORD PTR _lpObj$[ebp]
  0002d	8b 75 10	 mov	 esi, DWORD PTR _aIndex$[ebp]

; 945  : 	if ( lpObj->m_iMonsterBattleDelay > 0 )

  00030	80 bf a9 05 00
	00 00		 cmp	 BYTE PTR [edi+1449], 0
  00037	0f 8f fe 09 00
	00		 jg	 $LN2@gObjMonste

; 946  : 		return;
; 947  : 
; 948  : 	switch ( aMsgCode )

  0003d	8b 45 0c	 mov	 eax, DWORD PTR _aMsgCode$[ebp]
  00040	83 f8 39	 cmp	 eax, 57			; 00000039H
  00043	0f 87 f2 09 00
	00		 ja	 $LN2@gObjMonste
  00049	0f b6 80 00 00
	00 00		 movzx	 eax, BYTE PTR $LN127@gObjMonste[eax]
  00050	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN145@gObjMonste[eax*4]
$LN7@gObjMonste:

; 949  : 	{
; 950  : 		case 0:
; 951  : 
; 952  : 			if ( lpObj->m_Attribute == 0 )

  00057	66 83 bf 96 06
	00 00 00	 cmp	 WORD PTR [edi+1686], 0
  0005f	0f 84 d6 09 00
	00		 je	 $LN2@gObjMonste

; 953  : 				return;
; 954  : 			
; 955  : 			if ( gObj[aIndex].Live == FALSE || gObj[aIndex].m_State != 2)

  00065	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0006b	69 c6 40 27 00
	00		 imul	 eax, esi, 10048
  00071	89 45 dc	 mov	 DWORD PTR tv1340[ebp], eax
  00074	80 7c 08 51 00	 cmp	 BYTE PTR [eax+ecx+81], 0
  00079	0f 84 bc 09 00
	00		 je	 $LN2@gObjMonste
  0007f	83 bc 08 d0 01
	00 00 02	 cmp	 DWORD PTR [eax+ecx+464], 2
  00087	0f 85 ae 09 00
	00		 jne	 $LN2@gObjMonste

; 956  : 				return;
; 957  : 
; 958  : 			if ( lpObj->m_ActState.Emotion == 0 )

  0008d	8b 87 c8 01 00
	00		 mov	 eax, DWORD PTR [edi+456]
  00093	8b c8		 mov	 ecx, eax
  00095	c1 e9 04	 shr	 ecx, 4
  00098	83 e1 0f	 and	 ecx, 15			; 0000000fH
  0009b	75 10		 jne	 SHORT $LN11@gObjMonste

; 959  : 			{
; 960  : 				lpObj->m_ActState.Emotion = 1;

  0009d	25 1f ff ff ff	 and	 eax, -225		; ffffff1fH
  000a2	83 c8 10	 or	 eax, 16			; 00000010H
  000a5	89 87 c8 01 00
	00		 mov	 DWORD PTR [edi+456], eax

; 961  : 				lpObj->m_ActState.EmotionCount = 10;

  000ab	eb 05		 jmp	 SHORT $LN139@gObjMonste
$LN11@gObjMonste:

; 962  : 			}
; 963  : 			else if ( lpObj->m_ActState.Emotion == 1 )

  000ad	83 f9 01	 cmp	 ecx, 1
  000b0	75 07		 jne	 SHORT $LN13@gObjMonste
$LN139@gObjMonste:

; 964  : 			{
; 965  : 				lpObj->m_ActState.EmotionCount = 10;

  000b2	c6 87 c9 01 00
	00 0a		 mov	 BYTE PTR [edi+457], 10	; 0000000aH
$LN13@gObjMonste:

; 966  : 			}
; 967  : 
; 968  : 			if ( lpObj->Class >= 504 && lpObj->Class <= 511 )

  000b9	0f b7 87 90 00
	00 00		 movzx	 eax, WORD PTR [edi+144]
  000c0	ba f8 01 00 00	 mov	 edx, 504		; 000001f8H
  000c5	66 3b c2	 cmp	 ax, dx
  000c8	0f 82 af 00 00
	00		 jb	 $LN128@gObjMonste
  000ce	b9 ff 01 00 00	 mov	 ecx, 511		; 000001ffH
  000d3	66 3b c1	 cmp	 ax, cx
  000d6	0f 87 a1 00 00
	00		 ja	 $LN128@gObjMonste

; 969  : 			{
; 970  : 				if( lpObj->Life < (lpObj->MaxLife*0.3) && !gObjCheckUsedBuffEffect(lpObj,AT_BERSERKER) )

  000dc	f3 0f 10 87 dc
	00 00 00	 movss	 xmm0, DWORD PTR [edi+220]
  000e4	f3 0f 10 8f d8
	00 00 00	 movss	 xmm1, DWORD PTR [edi+216]
  000ec	0f 5a c0	 cvtps2pd xmm0, xmm0
  000ef	0f 5a c9	 cvtps2pd xmm1, xmm1
  000f2	f2 0f 59 05 00
	00 00 00	 mulsd	 xmm0, QWORD PTR __real@3fd3333333333333
  000fa	66 0f 2f c1	 comisd	 xmm0, xmm1
  000fe	76 7d		 jbe	 SHORT $LN128@gObjMonste
  00100	6a 51		 push	 81			; 00000051H
  00102	57		 push	 edi
  00103	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  00108	83 c4 08	 add	 esp, 8
  0010b	84 c0		 test	 al, al
  0010d	75 69		 jne	 SHORT $LN136@gObjMonste

; 971  : 				{
; 972  : 					CMagicInf cMagicInf;

  0010f	8d 4d bc	 lea	 ecx, DWORD PTR _cMagicInf$2[ebp]
  00112	e8 00 00 00 00	 call	 ??0CMagicInf@@QAE@XZ	; CMagicInf::CMagicInf

; 973  : 					memset(&cMagicInf,0,sizeof(cMagicInf));
; 974  : 					cMagicInf.m_Skill = AT_SKILL_BERSERKER;
; 975  : 					gObjUseSkill.SkillBerserker(lpObj->m_Index,&cMagicInf);

  00117	8d 45 bc	 lea	 eax, DWORD PTR _cMagicInf$2[ebp]
  0011a	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$EHRec$[ebp+8], 0
  00121	0f 57 c0	 xorps	 xmm0, xmm0
  00124	b9 00 00 00 00	 mov	 ecx, OFFSET ?gObjUseSkill@@3VCObjUseSkill@@A ; gObjUseSkill
  00129	50		 push	 eax
  0012a	ff 37		 push	 DWORD PTR [edi]
  0012c	0f 11 45 bc	 movups	 XMMWORD PTR _cMagicInf$2[ebp], xmm0
  00130	c7 45 c4 da 00
	00 00		 mov	 DWORD PTR _cMagicInf$2[ebp+8], 218 ; 000000daH
  00137	66 0f d6 45 cc	 movq	 QWORD PTR _cMagicInf$2[ebp+16], xmm0
  0013c	e8 00 00 00 00	 call	 ?SkillBerserker@CObjUseSkill@@QAEHHPAVCMagicInf@@@Z ; CObjUseSkill::SkillBerserker

; 976  : 					GCUseMonsterSkillSend(lpObj,lpObj,AT_SKILL_COMBO);

  00141	6a 3b		 push	 59			; 0000003bH
  00143	57		 push	 edi
  00144	57		 push	 edi
  00145	e8 00 00 00 00	 call	 ?GCUseMonsterSkillSend@@YAXPAUOBJECTSTRUCT@@0H@Z ; GCUseMonsterSkillSend

; 977  : 					lpObj->m_ActState.Attack = 0;
; 978  : 					lpObj->m_ActState.Move = 0;

  0014a	8b 87 c8 01 00
	00		 mov	 eax, DWORD PTR [edi+456]

; 979  : 					lpObj->m_ActState.Rest = 1;
; 980  : 					lpObj->NextActionTime = 1000;
; 981  : 				}

  00150	8d 4d bc	 lea	 ecx, DWORD PTR _cMagicInf$2[ebp]
  00153	83 e0 f9	 and	 eax, -7			; fffffff9H
  00156	c7 87 a0 05 00
	00 e8 03 00 00	 mov	 DWORD PTR [edi+1440], 1000 ; 000003e8H
  00160	83 c4 0c	 add	 esp, 12			; 0000000cH
  00163	c7 45 fc ff ff
	ff ff		 mov	 DWORD PTR __$EHRec$[ebp+8], -1
  0016a	83 c8 01	 or	 eax, 1
  0016d	89 87 c8 01 00
	00		 mov	 DWORD PTR [edi+456], eax
  00173	e8 00 00 00 00	 call	 ??1CMagicInf@@UAE@XZ	; CMagicInf::~CMagicInf
$LN136@gObjMonste:
  00178	ba f8 01 00 00	 mov	 edx, 504		; 000001f8H
$LN128@gObjMonste:

; 982  : 			}
; 983  : 
; 984  : 			if ( IF_MONSTER_RANGE(lpObj->Class) )

  0017d	0f b7 87 90 00
	00 00		 movzx	 eax, WORD PTR [edi+144]
  00184	b9 09 02 00 00	 mov	 ecx, 521		; 00000209H
  00189	66 3b c2	 cmp	 ax, dx
  0018c	72 1b		 jb	 SHORT $LN16@gObjMonste
  0018e	66 3b c8	 cmp	 cx, ax
  00191	1b c0		 sbb	 eax, eax
  00193	83 c0 01	 add	 eax, 1
  00196	74 11		 je	 SHORT $LN16@gObjMonste

; 985  : 			{
; 986  : 				g_ImperialGuardian.SetTargetMoveAllMonster(lpObj->m_ImperialGuardianZone,aIndex);

  00198	56		 push	 esi
  00199	ff b7 b8 26 00
	00		 push	 DWORD PTR [edi+9912]
  0019f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ImperialGuardian@@3VCImperialGuardian@@A ; g_ImperialGuardian
  001a4	e8 00 00 00 00	 call	 ?SetTargetMoveAllMonster@CImperialGuardian@@QAEXHH@Z ; CImperialGuardian::SetTargetMoveAllMonster
$LN16@gObjMonste:

; 987  : 			}
; 988  : 
; 989  : 			if ( lpObj->m_ActState.Attack == 0 && lpObj->PathStartEnd == 0)

  001a9	f6 87 c8 01 00
	00 02		 test	 BYTE PTR [edi+456], 2
  001b0	0f 85 c7 01 00
	00		 jne	 $LN17@gObjMonste
  001b6	80 bf 60 01 00
	00 00		 cmp	 BYTE PTR [edi+352], 0
  001bd	0f 85 ba 01 00
	00		 jne	 $LN17@gObjMonste

; 990  : 			{
; 991  : 				if ( OBJMAX_RANGE(aIndex) )

  001c3	85 f6		 test	 esi, esi
  001c5	0f 88 70 08 00
	00		 js	 $LN2@gObjMonste
  001cb	33 c0		 xor	 eax, eax
  001cd	81 fe eb 2c 00
	00		 cmp	 esi, 11499		; 00002cebH
  001d3	0f 9e c0	 setle	 al
  001d6	85 c0		 test	 eax, eax
  001d8	0f 84 5d 08 00
	00		 je	 $LN2@gObjMonste

; 992  : 				{
; 993  : 					int map = gObj[aIndex].MapNumber;

  001de	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001e3	03 45 dc	 add	 eax, DWORD PTR tv1340[ebp]

; 994  : 					BYTE attr;
; 995  : 					int dis = gObjCalDistance(lpObj, &gObj[aIndex]);

  001e6	50		 push	 eax
  001e7	57		 push	 edi
  001e8	0f b6 88 23 01
	00 00		 movzx	 ecx, BYTE PTR [eax+291]
  001ef	89 4d d8	 mov	 DWORD PTR _map$1$[ebp], ecx
  001f2	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance

; 996  : 					int range;
; 997  : 
; 998  : 					if ( lpObj->m_AttackType >= 100 )
; 999  : 					{
; 1000 : 						range = lpObj->m_AttackRange +2;

  001f7	0f bf 8f 90 06
	00 00		 movsx	 ecx, WORD PTR [edi+1680]
  001fe	83 c4 08	 add	 esp, 8
  00201	66 83 bf 92 06
	00 00 64	 cmp	 WORD PTR [edi+1682], 100 ; 00000064H
  00209	7c 03		 jl	 SHORT $LN21@gObjMonste
  0020b	83 c1 02	 add	 ecx, 2
$LN21@gObjMonste:

; 1001 : 					}
; 1002 : 					else
; 1003 : 					{
; 1004 : 						range = lpObj->m_AttackRange;
; 1005 : 					}
; 1006 : 
; 1007 : 					if ( dis <= range )

  0020e	3b c1		 cmp	 eax, ecx
  00210	7f 50		 jg	 SHORT $LN22@gObjMonste

; 1008 : 					{
; 1009 : 						if ( gObj[aIndex].m_RecallMon >= 0 )

  00212	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00217	8b 4d dc	 mov	 ecx, DWORD PTR tv1340[ebp]
  0021a	83 bc 01 30 06
	00 00 00	 cmp	 DWORD PTR [ecx+eax+1584], 0
  00222	7c 0b		 jl	 SHORT $LN24@gObjMonste

; 1010 : 						{
; 1011 : 							if ( lpObj->m_RecallMon >= 0 )

  00224	83 bf 30 06 00
	00 00		 cmp	 DWORD PTR [edi+1584], 0
  0022b	7c 2c		 jl	 SHORT $LN30@gObjMonste

; 1012 : 							{
; 1013 : 								if ( gObj[aIndex].Type == OBJ_MONSTER )
; 1014 : 								{
; 1015 : 									lpObj->TargetNumber = aIndex;
; 1016 : 								}
; 1017 : 							}
; 1018 : 							else

  0022d	eb 23		 jmp	 SHORT $LN141@gObjMonste
$LN24@gObjMonste:

; 1019 : 							{
; 1020 : 								lpObj->TargetNumber = aIndex;
; 1021 : 							}
; 1022 : 						}
; 1023 : 						else if ( (rand()%100) < 90 )

  0022f	e8 00 00 00 00	 call	 _rand
  00234	99		 cdq
  00235	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  0023a	f7 f9		 idiv	 ecx
  0023c	83 fa 5a	 cmp	 edx, 90			; 0000005aH
  0023f	7d 67		 jge	 SHORT $LN135@gObjMonste

; 1024 : 						{
; 1025 : 							if ( lpObj->m_RecallMon >= 0 )

  00241	83 bf 30 06 00
	00 00		 cmp	 DWORD PTR [edi+1584], 0

; 1026 : 							{
; 1027 : 								if ( gObj[aIndex].Type == OBJ_MONSTER )

  00248	8b 4d dc	 mov	 ecx, DWORD PTR tv1340[ebp]
  0024b	7c 0c		 jl	 SHORT $LN30@gObjMonste
  0024d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
$LN141@gObjMonste:
  00252	80 7c 01 50 02	 cmp	 BYTE PTR [ecx+eax+80], 2
  00257	75 52		 jne	 SHORT $LN129@gObjMonste
$LN30@gObjMonste:

; 1028 : 								{
; 1029 : 									lpObj->TargetNumber = aIndex;

  00259	66 89 b7 38 06
	00 00		 mov	 WORD PTR [edi+1592], si

; 1030 : 								}
; 1031 : 							}
; 1032 : 							else

  00260	eb 49		 jmp	 SHORT $LN129@gObjMonste
$LN22@gObjMonste:

; 1033 : 							{
; 1034 : 								lpObj->TargetNumber = aIndex;
; 1035 : 							}
; 1036 : 						}
; 1037 : 					}
; 1038 : 					else
; 1039 : 					{
; 1040 : 						if( IF_MAP_RANGE(lpObj->MapNumber) )

  00262	8a 87 23 01 00
	00		 mov	 al, BYTE PTR [edi+291]
  00268	3c 45		 cmp	 al, 69			; 00000045H
  0026a	72 7e		 jb	 SHORT $LN33@gObjMonste
  0026c	b1 48		 mov	 cl, 72			; 00000048H
  0026e	3a c8		 cmp	 cl, al
  00270	1b c0		 sbb	 eax, eax
  00272	83 c0 01	 add	 eax, 1
  00275	74 73		 je	 SHORT $LN33@gObjMonste

; 1041 : 						{
; 1042 : 							if( IF_MONSTER_RANGE(lpObj->Class) )

  00277	0f b7 87 90 00
	00 00		 movzx	 eax, WORD PTR [edi+144]
  0027e	b9 f8 01 00 00	 mov	 ecx, 504		; 000001f8H
  00283	66 3b c1	 cmp	 ax, cx
  00286	72 20		 jb	 SHORT $LN135@gObjMonste
  00288	b9 09 02 00 00	 mov	 ecx, 521		; 00000209H
  0028d	66 3b c8	 cmp	 cx, ax
  00290	1b c0		 sbb	 eax, eax
  00292	83 c0 01	 add	 eax, 1
  00295	74 11		 je	 SHORT $LN135@gObjMonste

; 1043 : 							{
; 1044 : 								g_ImperialGuardian.SetTargetMoveAllMonster(lpObj->m_ImperialGuardianZone,aIndex);

  00297	56		 push	 esi
  00298	ff b7 b8 26 00
	00		 push	 DWORD PTR [edi+9912]
  0029e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_ImperialGuardian@@3VCImperialGuardian@@A ; g_ImperialGuardian
  002a3	e8 00 00 00 00	 call	 ?SetTargetMoveAllMonster@CImperialGuardian@@QAEXHH@Z ; CImperialGuardian::SetTargetMoveAllMonster
$LN135@gObjMonste:
  002a8	8b 4d dc	 mov	 ecx, DWORD PTR tv1340[ebp]
$LN129@gObjMonste:

; 1059 : 									{
; 1060 : 										lpObj->TargetNumber = aIndex;
; 1061 : 									}
; 1062 : 								}
; 1063 : 							}
; 1064 : 						}
; 1065 : 					}
; 1066 : 
; 1067 : 
; 1068 : 					if ( lpObj->m_bIsInMonsterHerd != false && lpObj->TargetNumber == aIndex )

  002ab	83 bf 78 14 00
	00 00		 cmp	 DWORD PTR [edi+5240], 0
  002b2	0f 84 83 07 00
	00		 je	 $LN2@gObjMonste
  002b8	0f bf 87 38 06
	00 00		 movsx	 eax, WORD PTR [edi+1592]
  002bf	3b c6		 cmp	 eax, esi
  002c1	0f 85 74 07 00
	00		 jne	 $LN2@gObjMonste

; 1069 : 					{
; 1070 : 						if ( lpObj->m_lpMonsterHerd )

  002c7	8b b7 80 14 00
	00		 mov	 esi, DWORD PTR [edi+5248]
  002cd	85 f6		 test	 esi, esi
  002cf	0f 84 66 07 00
	00		 je	 $LN2@gObjMonste

; 1071 : 						{
; 1072 : 							lpObj->m_lpMonsterHerd->BeenAttacked (lpObj, &gObj[aIndex]);

  002d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002da	8b 16		 mov	 edx, DWORD PTR [esi]
  002dc	03 c1		 add	 eax, ecx
  002de	50		 push	 eax
  002df	57		 push	 edi
  002e0	8b ce		 mov	 ecx, esi
  002e2	ff 52 38	 call	 DWORD PTR [edx+56]

; 1073 : 						}
; 1074 : 					}
; 1075 : 				}
; 1076 : 			}
; 1077 : 			else

  002e5	e9 51 07 00 00	 jmp	 $LN2@gObjMonste
$LN33@gObjMonste:

; 1045 : 							}
; 1046 : 						}
; 1047 : 						else
; 1048 : 						{
; 1049 : 							BYTE wall = 0;
; 1050 : 							wall = MapC[map].CheckWall2(lpObj->X, lpObj->Y, gObj[aIndex].X, gObj[aIndex].Y);

  002ea	69 45 d8 28 38
	05 00		 imul	 eax, DWORD PTR _map$1$[ebp], 342056
  002f1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002f7	8b 55 dc	 mov	 edx, DWORD PTR tv1340[ebp]
  002fa	8d 80 00 00 00
	00		 lea	 eax, DWORD PTR ?MapC@@3PAVMapClass@@A[eax]
  00300	89 45 d8	 mov	 DWORD PTR tv1309[ebp], eax
  00303	0f b6 84 0a 21
	01 00 00	 movzx	 eax, BYTE PTR [edx+ecx+289]
  0030b	50		 push	 eax
  0030c	0f b6 84 0a 20
	01 00 00	 movzx	 eax, BYTE PTR [edx+ecx+288]
  00314	8b 4d d8	 mov	 ecx, DWORD PTR tv1309[ebp]
  00317	50		 push	 eax
  00318	0f b6 87 21 01
	00 00		 movzx	 eax, BYTE PTR [edi+289]
  0031f	50		 push	 eax
  00320	0f b6 87 20 01
	00 00		 movzx	 eax, BYTE PTR [edi+288]
  00327	50		 push	 eax
  00328	e8 00 00 00 00	 call	 ?CheckWall2@MapClass@@QAEEHHHH@Z ; MapClass::CheckWall2

; 1051 : 
; 1052 : 							if ( wall == 1 )
; 1053 : 							{
; 1054 : 								attr = MapC[map].GetAttr(gObj[aIndex].X, gObj[aIndex].Y);

  0032d	8b 4d dc	 mov	 ecx, DWORD PTR tv1340[ebp]
  00330	3c 01		 cmp	 al, 1
  00332	0f 85 73 ff ff
	ff		 jne	 $LN129@gObjMonste
  00338	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0033e	0f b6 84 11 21
	01 00 00	 movzx	 eax, BYTE PTR [ecx+edx+289]
  00346	50		 push	 eax
  00347	0f b6 84 11 20
	01 00 00	 movzx	 eax, BYTE PTR [ecx+edx+288]
  0034f	8b 4d d8	 mov	 ecx, DWORD PTR tv1309[ebp]
  00352	50		 push	 eax
  00353	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 1055 : 								
; 1056 : 								if ( (attr&1) != 1 )

  00358	a8 01		 test	 al, 1
  0035a	0f 85 48 ff ff
	ff		 jne	 $LN135@gObjMonste

; 1057 : 								{
; 1058 : 									if ( lpObj->TargetNumber < 0 )

  00360	66 83 bf 38 06
	00 00 00	 cmp	 WORD PTR [edi+1592], 0
  00368	8b 4d dc	 mov	 ecx, DWORD PTR tv1340[ebp]
  0036b	0f 8d 3a ff ff
	ff		 jge	 $LN129@gObjMonste

; 1028 : 								{
; 1029 : 									lpObj->TargetNumber = aIndex;

  00371	66 89 b7 38 06
	00 00		 mov	 WORD PTR [edi+1592], si

; 1030 : 								}
; 1031 : 							}
; 1032 : 							else

  00378	e9 2e ff ff ff	 jmp	 $LN129@gObjMonste
$LN17@gObjMonste:

; 1078 : 			{
; 1079 : 				if ( (rand() % 2 )== 1 && lpObj->PathStartEnd == 0)

  0037d	e8 00 00 00 00	 call	 _rand
  00382	25 01 00 00 80	 and	 eax, -2147483647	; 80000001H
  00387	79 05		 jns	 SHORT $LN138@gObjMonste
  00389	48		 dec	 eax
  0038a	83 c8 fe	 or	 eax, -2			; fffffffeH
  0038d	40		 inc	 eax
$LN138@gObjMonste:
  0038e	83 f8 01	 cmp	 eax, 1
  00391	0f 85 c5 00 00
	00		 jne	 $LN41@gObjMonste
  00397	80 bf 60 01 00
	00 00		 cmp	 BYTE PTR [edi+352], 0
  0039e	0f 85 b8 00 00
	00		 jne	 $LN41@gObjMonste

; 1080 : 				{
; 1081 : 					int IndexEnemy = lpObj->TargetNumber;

  003a4	0f bf 8f 38 06
	00 00		 movsx	 ecx, WORD PTR [edi+1592]

; 1082 : 
; 1083 : 					if( !OBJMAX_RANGE(IndexEnemy) )

  003ab	85 c9		 test	 ecx, ecx
  003ad	0f 88 88 06 00
	00		 js	 $LN2@gObjMonste
  003b3	33 c0		 xor	 eax, eax
  003b5	81 f9 eb 2c 00
	00		 cmp	 ecx, 11499		; 00002cebH
  003bb	0f 9e c0	 setle	 al
  003be	85 c0		 test	 eax, eax
  003c0	0f 84 75 06 00
	00		 je	 $LN2@gObjMonste

; 1084 : 						return;
; 1085 : 
; 1086 : 					int EnemyMap = gObj[IndexEnemy].MapNumber;

  003c6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003cb	69 c9 40 27 00
	00		 imul	 ecx, ecx, 10048
  003d1	89 4d d8	 mov	 DWORD PTR tv1305[ebp], ecx
  003d4	0f b6 8c 01 23
	01 00 00	 movzx	 ecx, BYTE PTR [ecx+eax+291]

; 1087 : 
; 1088 : 					int enemydis = gObjCalDistance(lpObj, &gObj[aIndex]);

  003dc	03 45 dc	 add	 eax, DWORD PTR tv1340[ebp]
  003df	50		 push	 eax
  003e0	57		 push	 edi
  003e1	89 4d d4	 mov	 DWORD PTR _EnemyMap$1$[ebp], ecx
  003e4	e8 00 00 00 00	 call	 ?gObjCalDistance@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjCalDistance

; 1089 : 					int range;
; 1090 : 
; 1091 : 					if ( lpObj->m_AttackType >= 100 )
; 1092 : 					{
; 1093 : 						range = lpObj->m_AttackRange + 2;

  003e9	0f bf 8f 90 06
	00 00		 movsx	 ecx, WORD PTR [edi+1680]
  003f0	83 c4 08	 add	 esp, 8
  003f3	66 83 bf 92 06
	00 00 64	 cmp	 WORD PTR [edi+1682], 100 ; 00000064H
  003fb	7c 03		 jl	 SHORT $LN45@gObjMonste
  003fd	83 c1 02	 add	 ecx, 2
$LN45@gObjMonste:

; 1094 : 					}
; 1095 : 					else
; 1096 : 					{
; 1097 : 						range = lpObj->m_AttackRange;
; 1098 : 					}
; 1099 : 
; 1100 : 					if ( enemydis <= range )

  00400	3b c1		 cmp	 eax, ecx
  00402	7e 45		 jle	 SHORT $LN144@gObjMonste

; 1101 : 					{
; 1102 : 						lpObj->m_ActState.Attack = 1;
; 1103 : 						lpObj->TargetNumber = aIndex;
; 1104 : 					}
; 1105 : 					else
; 1106 : 					{
; 1107 : 						if ( MapC[EnemyMap].CheckWall2(lpObj->X, lpObj->Y, gObj[IndexEnemy].X, gObj[IndexEnemy].Y) == 1 )

  00404	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0040a	8b 55 d8	 mov	 edx, DWORD PTR tv1305[ebp]
  0040d	0f b6 84 0a 21
	01 00 00	 movzx	 eax, BYTE PTR [edx+ecx+289]
  00415	50		 push	 eax
  00416	0f b6 84 0a 20
	01 00 00	 movzx	 eax, BYTE PTR [edx+ecx+288]
  0041e	69 4d d4 28 38
	05 00		 imul	 ecx, DWORD PTR _EnemyMap$1$[ebp], 342056
  00425	50		 push	 eax
  00426	0f b6 87 21 01
	00 00		 movzx	 eax, BYTE PTR [edi+289]
  0042d	50		 push	 eax
  0042e	0f b6 87 20 01
	00 00		 movzx	 eax, BYTE PTR [edi+288]
  00435	50		 push	 eax
  00436	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  0043c	e8 00 00 00 00	 call	 ?CheckWall2@MapClass@@QAEEHHHH@Z ; MapClass::CheckWall2
  00441	3c 01		 cmp	 al, 1
  00443	0f 85 f2 05 00
	00		 jne	 $LN2@gObjMonste
$LN144@gObjMonste:

; 1108 : 						{
; 1109 : 							lpObj->m_ActState.Attack = 1;

  00449	83 8f c8 01 00
	00 02		 or	 DWORD PTR [edi+456], 2

; 1110 : 							lpObj->TargetNumber = aIndex;

  00450	66 89 b7 38 06
	00 00		 mov	 WORD PTR [edi+1592], si

; 1111 : 						}
; 1112 : 					}
; 1113 : 				}
; 1114 : 				else

  00457	e9 df 05 00 00	 jmp	 $LN2@gObjMonste
$LN41@gObjMonste:

; 1115 : 				{
; 1116 : 					int MaxLife = (int)lpObj->MaxLife;

  0045c	f3 0f 2c 87 dc
	00 00 00	 cvttss2si eax, DWORD PTR [edi+220]

; 1117 : 					MaxLife >>= 1;

  00464	d1 f8		 sar	 eax, 1
  00466	66 0f 6e c0	 movd	 xmm0, eax

; 1118 : 
; 1119 : 					if ( MaxLife > lpObj->Life )

  0046a	0f 5b c0	 cvtdq2ps xmm0, xmm0
  0046d	0f 2f 87 d8 00
	00 00		 comiss	 xmm0, DWORD PTR [edi+216]
  00474	0f 86 c1 05 00
	00		 jbe	 $LN2@gObjMonste

; 1120 : 					{
; 1121 : 						if ( lpObj->m_Attribute != 2 )

  0047a	66 83 bf 96 06
	00 00 02	 cmp	 WORD PTR [edi+1686], 2
  00482	0f 84 b3 05 00
	00		 je	 $LN2@gObjMonste

; 1122 : 						{
; 1123 : 							lpObj->m_ActState.Emotion = 2;

  00488	8b 87 c8 01 00
	00		 mov	 eax, DWORD PTR [edi+456]
  0048e	25 2f ff ff ff	 and	 eax, -209		; ffffff2fH
  00493	83 c8 20	 or	 eax, 32			; 00000020H
  00496	89 87 c8 01 00
	00		 mov	 DWORD PTR [edi+456], eax

; 1124 : 							lpObj->m_ActState.EmotionCount = 2;

  0049c	c6 87 c9 01 00
	00 02		 mov	 BYTE PTR [edi+457], 2

; 1125 : 						}
; 1126 : 					}
; 1127 : 				}
; 1128 : 			}
; 1129 : 			break;

  004a3	e9 93 05 00 00	 jmp	 $LN2@gObjMonste
$LN51@gObjMonste:

; 1130 : 
; 1131 : 
; 1132 : 		case 1:
; 1133 : 
; 1134 : #if (GS_CASTLE == 1)
; 1135 : 
; 1136 : 			if ( lpObj->m_btCsNpcType != FALSE )

  004a8	8a 87 50 20 00
	00		 mov	 al, BYTE PTR [edi+8272]
  004ae	84 c0		 test	 al, al
  004b0	74 7d		 je	 SHORT $LN52@gObjMonste

; 1137 : 			{
; 1138 : 				switch(lpObj->m_btCsNpcType)

  004b2	0f b6 c0	 movzx	 eax, al
  004b5	83 e8 01	 sub	 eax, 1
  004b8	74 0e		 je	 SHORT $LN53@gObjMonste
  004ba	83 e8 01	 sub	 eax, 1
  004bd	74 05		 je	 SHORT $LN54@gObjMonste
  004bf	83 e8 01	 sub	 eax, 1
  004c2	75 20		 jne	 SHORT $LN4@gObjMonste
$LN54@gObjMonste:

; 1142 : 					break;
; 1143 : 				case 2:
; 1144 : 					g_CastleSiege.DelNPC(lpObj->m_Index,lpObj->Class,lpObj->m_iCsNpcExistVal,FALSE);
; 1145 : 					break;
; 1146 : 				case 3:
; 1147 : 					g_CastleSiege.DelNPC(lpObj->m_Index,lpObj->Class,lpObj->m_iCsNpcExistVal,FALSE);

  004c4	6a 00		 push	 0
  004c6	eb 02		 jmp	 SHORT $LN142@gObjMonste
$LN53@gObjMonste:

; 1139 : 				{
; 1140 : 				case 1:
; 1141 : 					g_CastleSiege.DelNPC(lpObj->m_Index,lpObj->Class,lpObj->m_iCsNpcExistVal,TRUE);

  004c8	6a 01		 push	 1
$LN142@gObjMonste:
  004ca	ff b7 4c 20 00
	00		 push	 DWORD PTR [edi+8268]
  004d0	0f b7 87 90 00
	00 00		 movzx	 eax, WORD PTR [edi+144]
  004d7	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  004dc	50		 push	 eax
  004dd	ff 37		 push	 DWORD PTR [edi]
  004df	e8 00 00 00 00	 call	 ?DelNPC@CCastleSiege@@QAEHHHHH@Z ; CCastleSiege::DelNPC
$LN4@gObjMonste:

; 1148 : 					break;
; 1149 : 				}
; 1150 : 
; 1151 : 				if( lpObj->Class == 287 ||

  004e4	0f b7 87 90 00
	00 00		 movzx	 eax, WORD PTR [edi+144]
  004eb	b9 1f 01 00 00	 mov	 ecx, 287		; 0000011fH
  004f0	66 3b c1	 cmp	 ax, cx
  004f3	74 0a		 je	 SHORT $LN57@gObjMonste
  004f5	b9 1e 01 00 00	 mov	 ecx, 286		; 0000011eH
  004fa	66 3b c1	 cmp	 ax, cx
  004fd	75 0c		 jne	 SHORT $LN56@gObjMonste
$LN57@gObjMonste:

; 1152 : 					lpObj->Class == 286 )
; 1153 : 				{
; 1154 : 					g_CsNPC_Mercenary.DeleteMercenary(lpObj->m_Index);

  004ff	ff 37		 push	 DWORD PTR [edi]
  00501	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CsNPC_Mercenary@@3VCMercenary@@A ; g_CsNPC_Mercenary
  00506	e8 00 00 00 00	 call	 ?DeleteMercenary@CMercenary@@QAEHH@Z ; CMercenary::DeleteMercenary
$LN56@gObjMonste:

; 1155 : 				}
; 1156 : 
; 1157 : 				if( lpObj->Class == 278 )

  0050b	b8 16 01 00 00	 mov	 eax, 278		; 00000116H
  00510	66 39 87 90 00
	00 00		 cmp	 WORD PTR [edi+144], ax
  00517	75 0c		 jne	 SHORT $LN58@gObjMonste

; 1158 : 				{
; 1159 : 					g_CsNPC_LifeStone.DeleteLifeStone(lpObj->m_Index);

  00519	ff 37		 push	 DWORD PTR [edi]
  0051b	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CsNPC_LifeStone@@3VCLifeStone@@A ; g_CsNPC_LifeStone
  00520	e8 00 00 00 00	 call	 ?DeleteLifeStone@CLifeStone@@QAEHH@Z ; CLifeStone::DeleteLifeStone
$LN58@gObjMonste:

; 1160 : 				}
; 1161 : 
; 1162 : 				gObjDel(lpObj->m_Index);

  00525	ff 37		 push	 DWORD PTR [edi]
  00527	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel
  0052c	83 c4 04	 add	 esp, 4
$LN52@gObjMonste:

; 1163 : 			}
; 1164 : #endif
; 1165 : 
; 1166 : 			if ( KALIMA_MAP_RANGE(lpObj->MapNumber)  )

  0052f	8a 8f 23 01 00
	00		 mov	 cl, BYTE PTR [edi+291]
  00535	80 f9 18	 cmp	 cl, 24			; 00000018H
  00538	72 69		 jb	 SHORT $LN60@gObjMonste
  0053a	80 f9 1d	 cmp	 cl, 29			; 0000001dH
  0053d	76 0c		 jbe	 SHORT $LN124@gObjMonste
  0053f	33 c0		 xor	 eax, eax
  00541	80 f9 24	 cmp	 cl, 36			; 00000024H
  00544	0f 94 c0	 sete	 al
  00547	85 c0		 test	 eax, eax
  00549	74 58		 je	 SHORT $LN60@gObjMonste
$LN124@gObjMonste:

; 1167 : 			{
; 1168 : 				if ( lpObj->Class == 161 || lpObj->Class == 181 || lpObj->Class == 189 || lpObj->Class == 197 || lpObj->Class == 267 )

  0054b	0f b7 87 90 00
	00 00		 movzx	 eax, WORD PTR [edi+144]
  00552	ba a1 00 00 00	 mov	 edx, 161		; 000000a1H
  00557	66 3b c2	 cmp	 ax, dx
  0055a	74 28		 je	 SHORT $LN61@gObjMonste
  0055c	ba b5 00 00 00	 mov	 edx, 181		; 000000b5H
  00561	66 3b c2	 cmp	 ax, dx
  00564	74 1e		 je	 SHORT $LN61@gObjMonste
  00566	ba bd 00 00 00	 mov	 edx, 189		; 000000bdH
  0056b	66 3b c2	 cmp	 ax, dx
  0056e	74 14		 je	 SHORT $LN61@gObjMonste
  00570	ba c5 00 00 00	 mov	 edx, 197		; 000000c5H
  00575	66 3b c2	 cmp	 ax, dx
  00578	74 0a		 je	 SHORT $LN61@gObjMonste
  0057a	ba 0b 01 00 00	 mov	 edx, 267		; 0000010bH
  0057f	66 3b c2	 cmp	 ax, dx
  00582	75 1f		 jne	 SHORT $LN60@gObjMonste
$LN61@gObjMonste:

; 1169 : 				{
; 1170 : 					g_KalimaGate.CreateKalimaGate2(aIndex, lpObj->MapNumber, lpObj->X, lpObj->Y);

  00584	0f b6 87 21 01
	00 00		 movzx	 eax, BYTE PTR [edi+289]
  0058b	50		 push	 eax
  0058c	0f b6 87 20 01
	00 00		 movzx	 eax, BYTE PTR [edi+288]
  00593	50		 push	 eax
  00594	0f b6 c1	 movzx	 eax, cl
  00597	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KalimaGate@@3VCKalimaGate@@A ; g_KalimaGate
  0059c	50		 push	 eax
  0059d	56		 push	 esi
  0059e	e8 00 00 00 00	 call	 ?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z ; CKalimaGate::CreateKalimaGate2
$LN60@gObjMonste:

; 1171 : 				}
; 1172 : 			}
; 1173 : 
; 1174 : 			if ( lpObj->Class == 409 ||
; 1175 : 				 lpObj->Class == 410 ||
; 1176 : 				 lpObj->Class == 411 ||

  005a3	0f b7 87 90 00
	00 00		 movzx	 eax, WORD PTR [edi+144]
  005aa	b9 99 01 00 00	 mov	 ecx, 409		; 00000199H
  005af	66 3b c1	 cmp	 ax, cx
  005b2	74 1e		 je	 SHORT $LN63@gObjMonste
  005b4	b9 9a 01 00 00	 mov	 ecx, 410		; 0000019aH
  005b9	66 3b c1	 cmp	 ax, cx
  005bc	74 14		 je	 SHORT $LN63@gObjMonste
  005be	b9 9b 01 00 00	 mov	 ecx, 411		; 0000019bH
  005c3	66 3b c1	 cmp	 ax, cx
  005c6	74 0a		 je	 SHORT $LN63@gObjMonste
  005c8	b9 9c 01 00 00	 mov	 ecx, 412		; 0000019cH
  005cd	66 3b c1	 cmp	 ax, cx
  005d0	75 18		 jne	 SHORT $LN62@gObjMonste
$LN63@gObjMonste:

; 1177 : 				 lpObj->Class == 412 )
; 1178 : 			{
; 1179 : 				g_QuestInfo.MonsterKill(lpObj,&gObj[aIndex]);

  005d2	69 c6 40 27 00
	00		 imul	 eax, esi, 10048
  005d8	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_QuestInfo@@3VCQuestInfo@@A ; g_QuestInfo
  005dd	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  005e3	50		 push	 eax
  005e4	57		 push	 edi
  005e5	e8 00 00 00 00	 call	 ?MonsterKill@CQuestInfo@@QAEHPAUOBJECTSTRUCT@@0@Z ; CQuestInfo::MonsterKill
$LN62@gObjMonste:

; 1180 : 			}
; 1181 : 
; 1182 : 			if( DG_MAP_RANGE(lpObj->MapNumber) &&

  005ea	8a 87 23 01 00
	00		 mov	 al, BYTE PTR [edi+291]
  005f0	3c 41		 cmp	 al, 65			; 00000041H
  005f2	72 4f		 jb	 SHORT $LN64@gObjMonste
  005f4	b1 44		 mov	 cl, 68			; 00000044H
  005f6	3a c8		 cmp	 cl, al
  005f8	1b c0		 sbb	 eax, eax
  005fa	83 c0 01	 add	 eax, 1
  005fd	74 44		 je	 SHORT $LN64@gObjMonste
  005ff	0f b7 87 90 00
	00 00		 movzx	 eax, WORD PTR [edi+144]
  00606	b9 11 02 00 00	 mov	 ecx, 529		; 00000211H
  0060b	66 3b c1	 cmp	 ax, cx
  0060e	74 1e		 je	 SHORT $LN65@gObjMonste
  00610	b9 12 02 00 00	 mov	 ecx, 530		; 00000212H
  00615	66 3b c1	 cmp	 ax, cx
  00618	74 14		 je	 SHORT $LN65@gObjMonste
  0061a	b9 13 02 00 00	 mov	 ecx, 531		; 00000213H
  0061f	66 3b c1	 cmp	 ax, cx
  00622	74 0a		 je	 SHORT $LN65@gObjMonste
  00624	b9 14 02 00 00	 mov	 ecx, 532		; 00000214H
  00629	66 3b c1	 cmp	 ax, cx
  0062c	75 15		 jne	 SHORT $LN64@gObjMonste
$LN65@gObjMonste:

; 1183 : 				(	lpObj->Class == 529 ||
; 1184 : 					lpObj->Class == 530	||
; 1185 : 					lpObj->Class == 531 ||
; 1186 : 					lpObj->Class == 532 ))
; 1187 : 			{
; 1188 : 				gDoubleGoer.MonsterDieHandle(lpObj);

  0062e	57		 push	 edi
  0062f	b9 00 00 00 00	 mov	 ecx, OFFSET ?gDoubleGoer@@3VCDoubleGoerEvent@@A ; gDoubleGoer
  00634	e8 00 00 00 00	 call	 ?MonsterDieHandle@CDoubleGoerEvent@@QAEXPAUOBJECTSTRUCT@@@Z ; CDoubleGoerEvent::MonsterDieHandle

; 1189 : 				lpObj->NextActionTime = 500;

  00639	c7 87 a0 05 00
	00 f4 01 00 00	 mov	 DWORD PTR [edi+1440], 500 ; 000001f4H
$LN64@gObjMonste:

; 1190 : 			}
; 1191 : 
; 1192 : #if (__QUEST_SYSTEM__== 1)
; 1193 : 			gQuestInfoEx.MonsterKill(lpObj,&gObj[aIndex]);

  00643	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00648	b9 00 00 00 00	 mov	 ecx, OFFSET ?gQuestInfoEx@@3VCQuestInfoEx@@A ; gQuestInfoEx
  0064d	69 f6 40 27 00
	00		 imul	 esi, esi, 10048
  00653	03 c6		 add	 eax, esi
  00655	50		 push	 eax
  00656	57		 push	 edi
  00657	e8 00 00 00 00	 call	 ?MonsterKill@CQuestInfoEx@@QAEHPAUOBJECTSTRUCT@@0@Z ; CQuestInfoEx::MonsterKill

; 1194 : #endif
; 1195 : 
; 1196 : #if( __4GAMERS__ == 1 )
; 1197 : 			g_Achievements.MonsterProc(&gObj[aIndex], lpObj);
; 1198 : #endif
; 1199 : 
; 1200 : 			gObjMonsterDieGiveItem(lpObj, &gObj[aIndex] );

  0065c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00661	03 c6		 add	 eax, esi
  00663	50		 push	 eax
  00664	57		 push	 edi
  00665	e8 00 00 00 00	 call	 ?gObjMonsterDieGiveItem@@YAXPAUOBJECTSTRUCT@@0@Z ; gObjMonsterDieGiveItem

; 1201 : #if (__CUSTOM_QUEST__ == 1)
; 1202 : 			g_MyQuest.MonsterDie(&gObj[aIndex],lpObj);
; 1203 : #endif
; 1204 : 
; 1205 : 			lpObj->NextActionTime = 500;
; 1206 : 
; 1207 : 			if ( lpObj->m_RecallMon >= 0 )

  0066a	8b 87 30 06 00
	00		 mov	 eax, DWORD PTR [edi+1584]
  00670	83 c4 08	 add	 esp, 8
  00673	c7 87 a0 05 00
	00 f4 01 00 00	 mov	 DWORD PTR [edi+1440], 500 ; 000001f4H
  0067d	85 c0		 test	 eax, eax
  0067f	78 09		 js	 SHORT $LN66@gObjMonste

; 1208 : 			{
; 1209 : 				gObjMonsterCallKill(lpObj->m_RecallMon);

  00681	50		 push	 eax
  00682	e8 00 00 00 00	 call	 ?gObjMonsterCallKill@@YAXH@Z ; gObjMonsterCallKill
  00687	83 c4 04	 add	 esp, 4
$LN66@gObjMonste:

; 1210 : 			}
; 1211 : 
; 1212 : 			if (  BC_MAP_RANGE(lpObj->MapNumber) != FALSE && lpObj->Type >= OBJ_MONSTER)

  0068a	8a 8f 23 01 00
	00		 mov	 cl, BYTE PTR [edi+291]
  00690	80 f9 34	 cmp	 cl, 52			; 00000034H
  00693	74 1b		 je	 SHORT $LN125@gObjMonste
  00695	80 f9 0b	 cmp	 cl, 11			; 0000000bH
  00698	0f 82 9d 03 00
	00		 jb	 $LN2@gObjMonste
  0069e	b8 11 00 00 00	 mov	 eax, 17			; 00000011H
  006a3	3a c1		 cmp	 al, cl
  006a5	1b c0		 sbb	 eax, eax
  006a7	83 c0 01	 add	 eax, 1
  006aa	0f 84 8b 03 00
	00		 je	 $LN2@gObjMonste
$LN125@gObjMonste:
  006b0	80 7f 50 02	 cmp	 BYTE PTR [edi+80], 2
  006b4	0f 82 81 03 00
	00		 jb	 $LN2@gObjMonste

; 1213 : 			{
; 1214 : 				int Bridge = g_BloodCastle.GetBridgeLevel(lpObj->MapNumber);

  006ba	0f b6 c1	 movzx	 eax, cl
  006bd	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  006c2	50		 push	 eax
  006c3	e8 00 00 00 00	 call	 ?GetBridgeLevel@CBloodCastle@@QAEHH@Z ; CBloodCastle::GetBridgeLevel

; 1215 : 
; 1216 : 				if ( lpObj->Class == 89 || lpObj->Class == 95 || lpObj->Class == 112 || lpObj->Class == 118 || lpObj->Class == 124 || lpObj->Class == 130 || lpObj->Class == 143 || lpObj->Class == 433)

  006c8	0f b7 8f 90 00
	00 00		 movzx	 ecx, WORD PTR [edi+144]
  006cf	89 45 d8	 mov	 DWORD PTR _Bridge$1$[ebp], eax
  006d2	83 f9 59	 cmp	 ecx, 89			; 00000059H
  006d5	74 43		 je	 SHORT $LN70@gObjMonste
  006d7	83 f9 5f	 cmp	 ecx, 95			; 0000005fH
  006da	74 3e		 je	 SHORT $LN70@gObjMonste
  006dc	83 f9 70	 cmp	 ecx, 112		; 00000070H
  006df	74 39		 je	 SHORT $LN70@gObjMonste
  006e1	83 f9 76	 cmp	 ecx, 118		; 00000076H
  006e4	74 34		 je	 SHORT $LN70@gObjMonste
  006e6	83 f9 7c	 cmp	 ecx, 124		; 0000007cH
  006e9	74 2f		 je	 SHORT $LN70@gObjMonste
  006eb	b8 82 00 00 00	 mov	 eax, 130		; 00000082H
  006f0	66 3b c8	 cmp	 cx, ax
  006f3	74 25		 je	 SHORT $LN70@gObjMonste
  006f5	b8 8f 00 00 00	 mov	 eax, 143		; 0000008fH
  006fa	66 3b c8	 cmp	 cx, ax
  006fd	74 1b		 je	 SHORT $LN70@gObjMonste
  006ff	b8 b1 01 00 00	 mov	 eax, 433		; 000001b1H
  00704	66 3b c8	 cmp	 cx, ax
  00707	74 11		 je	 SHORT $LN70@gObjMonste

; 1219 : 				}
; 1220 : 				else
; 1221 : 				{
; 1222 : 					g_BloodCastle.m_BridgeData[Bridge].m_iBC_MONSTER_KILL_COUNT++;

  00709	8b 7d d8	 mov	 edi, DWORD PTR _Bridge$1$[ebp]
  0070c	69 f7 0c 02 00
	00		 imul	 esi, edi, 524
  00712	ff 86 78 01 00
	00		 inc	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+376]
  00718	eb 0f		 jmp	 SHORT $LN69@gObjMonste
$LN70@gObjMonste:

; 1217 : 				{
; 1218 : 					g_BloodCastle.m_BridgeData[Bridge].m_iBC_BOSS_MONSTER_KILL_COUNT++;

  0071a	8b 7d d8	 mov	 edi, DWORD PTR _Bridge$1$[ebp]
  0071d	69 f7 0c 02 00
	00		 imul	 esi, edi, 524
  00723	ff 86 88 01 00
	00		 inc	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+392]
$LN69@gObjMonste:

; 1223 : 				}
; 1224 : 
; 1225 : 				if ( g_BloodCastle.CheckMonsterKillCount(Bridge) != false )

  00729	57		 push	 edi
  0072a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  0072f	e8 00 00 00 00	 call	 ?CheckMonsterKillCount@CBloodCastle@@QAE_NH@Z ; CBloodCastle::CheckMonsterKillCount
  00734	84 c0		 test	 al, al
  00736	0f 84 dd 00 00
	00		 je	 $LN74@gObjMonste

; 1226 : 				{
; 1227 : 					if (g_BloodCastle.m_BridgeData[Bridge].m_bBC_MONSTER_KILL_COMPLETE == false )

  0073c	80 be 60 01 00
	00 00		 cmp	 BYTE PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+352], 0
  00743	0f 85 a3 00 00
	00		 jne	 $LN73@gObjMonste

; 1228 : 					{
; 1229 : 						g_BloodCastle.m_BridgeData[Bridge].m_bBC_MONSTER_KILL_COMPLETE = true;
; 1230 : 						g_BloodCastle.m_BridgeData[Bridge].m_iBC_MONSTER_MAX_COUNT = -1;
; 1231 : 
; 1232 : 						PMSG_STATEBLOODCASTLE pMsg;
; 1233 : 
; 1234 : 						PHeadSetB((LPBYTE)&pMsg, 0x9B, sizeof(PMSG_STATEBLOODCASTLE));

  00749	6a 0e		 push	 14			; 0000000eH
  0074b	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$3[ebp]
  0074e	c6 86 60 01 00
	00 01		 mov	 BYTE PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+352], 1
  00755	68 9b 00 00 00	 push	 155			; 0000009bH
  0075a	50		 push	 eax
  0075b	c7 86 74 01 00
	00 ff ff ff ff	 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+372], -1
  00765	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB
  0076a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1235 : 
; 1236 : 						pMsg.btPlayState = BC_STATE_PLAYEND;

  0076d	c6 45 e3 03	 mov	 BYTE PTR _pMsg$3[ebp+3], 3

; 1237 : 						pMsg.wRemainSec = 0;

  00771	33 c0		 xor	 eax, eax

; 1238 : 						pMsg.wMaxKillMonster = 0;
; 1239 : 						pMsg.wCurKillMonster = 0;
; 1240 : 						pMsg.wUserHaveWeapon = 0;
; 1241 : 						pMsg.btWeaponNum = -1;

  00773	c6 45 ec ff	 mov	 BYTE PTR _pMsg$3[ebp+12], 255 ; 000000ffH
  00777	89 45 e4	 mov	 DWORD PTR _pMsg$3[ebp+4], eax

; 1242 : 
; 1243 : 						g_BloodCastle.SendBridgeAnyMsg( (UCHAR *)&pMsg, pMsg.h.size, Bridge);

  0077a	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  0077f	89 45 e8	 mov	 DWORD PTR _pMsg$3[ebp+8], eax
  00782	0f b6 45 e1	 movzx	 eax, BYTE PTR _pMsg$3[ebp+1]
  00786	57		 push	 edi
  00787	50		 push	 eax
  00788	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$3[ebp]
  0078b	50		 push	 eax
  0078c	e8 00 00 00 00	 call	 ?SendBridgeAnyMsg@CBloodCastle@@QAEXPAEHH@Z ; CBloodCastle::SendBridgeAnyMsg

; 1244 : 						g_BloodCastle.ReleaseCastleBridge(Bridge);

  00791	57		 push	 edi
  00792	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  00797	e8 00 00 00 00	 call	 ?ReleaseCastleBridge@CBloodCastle@@QAEXH@Z ; CBloodCastle::ReleaseCastleBridge

; 1245 : 						g_BloodCastle.m_BridgeData[Bridge].m_dwBC_TICK_DOOR_OPEN = GetTickCount() + 3000;

  0079c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0

; 1246 : 
; 1247 : 						LogAddTD("[Blood Castle] (%d) All of the Monster Terminated -> %d", Bridge+1,

  007a2	ff b6 78 01 00
	00		 push	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+376]
  007a8	05 b8 0b 00 00	 add	 eax, 3000		; 00000bb8H
  007ad	89 86 80 01 00
	00		 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+384], eax
  007b3	8d 47 01	 lea	 eax, DWORD PTR [edi+1]
  007b6	50		 push	 eax
  007b7	68 00 00 00 00	 push	 OFFSET ??_C@_0DI@FKJGCAAF@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5M@
  007bc	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  007c2	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1248 : 							g_BloodCastle.m_BridgeData[Bridge].m_iBC_MONSTER_KILL_COUNT);
; 1249 : 
; 1250 : 						g_BloodCastle.m_BridgeData[Bridge].m_iBC_BOSS_MONSTER_MAX_COUNT = g_BloodCastle.GetCurrentLiveUserCount(Bridge)*2;

  007c5	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  007ca	57		 push	 edi
  007cb	e8 00 00 00 00	 call	 ?GetCurrentLiveUserCount@CBloodCastle@@QAEHH@Z ; CBloodCastle::GetCurrentLiveUserCount
  007d0	03 c0		 add	 eax, eax

; 1251 : 						g_BloodCastle.m_BridgeData[Bridge].m_iBC_BOSS_MONSTER_KILL_COUNT = 0;

  007d2	c7 86 88 01 00
	00 00 00 00 00	 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+392], 0

; 1252 : 
; 1253 : 						if ( g_BloodCastle.m_BridgeData[Bridge].m_iBC_BOSS_MONSTER_MAX_COUNT > 10) 

  007dc	b9 0a 00 00 00	 mov	 ecx, 10			; 0000000aH
  007e1	3b c1		 cmp	 eax, ecx
  007e3	0f 4f c1	 cmovg	 eax, ecx
  007e6	89 86 84 01 00
	00		 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+388], eax
$LN73@gObjMonste:

; 1254 : 						{
; 1255 : 							g_BloodCastle.m_BridgeData[Bridge].m_iBC_BOSS_MONSTER_MAX_COUNT = 10;
; 1256 : 						}
; 1257 : 					}
; 1258 : 
; 1259 : 					if (g_BloodCastle.m_BridgeData[Bridge].m_iBC_MONSTER_SUCCESS_MSG_COUNT < 1 )

  007ec	8b 86 7c 01 00
	00		 mov	 eax, DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+380]
  007f2	83 f8 01	 cmp	 eax, 1
  007f5	7d 22		 jge	 SHORT $LN74@gObjMonste

; 1260 : 					{
; 1261 : 						g_BloodCastle.m_BridgeData[Bridge].m_iBC_MONSTER_SUCCESS_MSG_COUNT++;

  007f7	40		 inc	 eax

; 1262 : 						g_BloodCastle.SendNoticeMessage(Bridge, lMsg.Get(MSGGET(4, 144))); 

  007f8	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  007fd	68 90 04 00 00	 push	 1168			; 00000490H
  00802	89 86 7c 01 00
	00		 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+380], eax
  00808	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  0080d	50		 push	 eax
  0080e	57		 push	 edi
  0080f	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  00814	e8 00 00 00 00	 call	 ?SendNoticeMessage@CBloodCastle@@QAEXHPAD@Z ; CBloodCastle::SendNoticeMessage
$LN74@gObjMonste:

; 1263 : 					}
; 1264 : 					
; 1265 : 				}
; 1266 : 
; 1267 : 				if ( g_BloodCastle.m_BridgeData[Bridge].m_bBC_MONSTER_KILL_COMPLETE != false )

  00819	80 be 60 01 00
	00 00		 cmp	 BYTE PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+352], 0
  00820	0f 84 15 02 00
	00		 je	 $LN2@gObjMonste

; 1268 : 				{
; 1269 : 					if ( g_BloodCastle.CheckBossKillCount(Bridge) != false )

  00826	57		 push	 edi
  00827	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  0082c	e8 00 00 00 00	 call	 ?CheckBossKillCount@CBloodCastle@@QAE_NH@Z ; CBloodCastle::CheckBossKillCount
  00831	84 c0		 test	 al, al
  00833	0f 84 02 02 00
	00		 je	 $LN2@gObjMonste

; 1270 : 					{
; 1271 : 						if ( g_BloodCastle.m_BridgeData[Bridge].m_bBC_BOSS_MONSTER_KILL_COMPLETE == false )

  00839	80 be 61 01 00
	00 00		 cmp	 BYTE PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+353], 0
  00840	75 34		 jne	 SHORT $LN77@gObjMonste

; 1272 : 						{
; 1273 : 							g_BloodCastle.m_BridgeData[Bridge].m_bBC_BOSS_MONSTER_KILL_COMPLETE = true;
; 1274 : 							g_BloodCastle.m_BridgeData[Bridge].m_iBC_BOSS_MONSTER_MAX_COUNT = -1;
; 1275 : 
; 1276 : 							g_BloodCastle.SetSaintStatue(Bridge);

  00842	57		 push	 edi
  00843	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  00848	c6 86 61 01 00
	00 01		 mov	 BYTE PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+353], 1
  0084f	c7 86 84 01 00
	00 ff ff ff ff	 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+388], -1
  00859	e8 00 00 00 00	 call	 ?SetSaintStatue@CBloodCastle@@QAEXH@Z ; CBloodCastle::SetSaintStatue

; 1277 : 
; 1278 : 							LogAddTD("[Blood Castle] (%d) All of the Boss Monster Terminated -> %d",

  0085e	ff b6 88 01 00
	00		 push	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+392]
  00864	8d 47 01	 lea	 eax, DWORD PTR [edi+1]
  00867	50		 push	 eax
  00868	68 00 00 00 00	 push	 OFFSET ??_C@_0DN@OMDKGOEJ@?$FLBlood?5Castle?$FN?5?$CI?$CFd?$CJ?5All?5of?5the?5B@
  0086d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00873	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN77@gObjMonste:

; 1279 : 								Bridge+1, g_BloodCastle.m_BridgeData[Bridge].m_iBC_BOSS_MONSTER_KILL_COUNT);
; 1280 : 						}
; 1281 : 
; 1282 : 						if ( g_BloodCastle.m_BridgeData[Bridge].m_iBC_BOSS_MONSTER_SUCCESS_MSG_COUNT < 1 )

  00876	8b 86 8c 01 00
	00		 mov	 eax, DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+396]
  0087c	83 f8 01	 cmp	 eax, 1
  0087f	0f 8d b6 01 00
	00		 jge	 $LN2@gObjMonste

; 1283 : 						{
; 1284 : 							g_BloodCastle.m_BridgeData[Bridge].m_iBC_BOSS_MONSTER_SUCCESS_MSG_COUNT++;

  00885	40		 inc	 eax

; 1285 : 							g_BloodCastle.SendNoticeMessage(Bridge, lMsg.Get(MSGGET(4, 156)));

  00886	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  0088b	68 9c 04 00 00	 push	 1180			; 0000049cH
  00890	89 86 8c 01 00
	00		 mov	 DWORD PTR ?g_BloodCastle@@3VCBloodCastle@@A[esi+396], eax
  00896	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  0089b	50		 push	 eax
  0089c	57		 push	 edi
  0089d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_BloodCastle@@3VCBloodCastle@@A ; g_BloodCastle
  008a2	e8 00 00 00 00	 call	 ?SendNoticeMessage@CBloodCastle@@QAEXHPAD@Z ; CBloodCastle::SendNoticeMessage

; 1286 : 						}
; 1287 : 					}
; 1288 : 				}
; 1289 : 			}
; 1290 : 			break;

  008a7	e9 8f 01 00 00	 jmp	 $LN2@gObjMonste
$LN79@gObjMonste:

; 1291 : 
; 1292 : 		case 2:
; 1293 : 			if ( gObj[aIndex].Live != FALSE )

  008ac	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  008b1	69 ce 40 27 00
	00		 imul	 ecx, esi, 10048
  008b7	03 c8		 add	 ecx, eax
  008b9	80 79 51 00	 cmp	 BYTE PTR [ecx+81], 0
  008bd	0f 84 78 01 00
	00		 je	 $LN2@gObjMonste

; 1294 : 			{
; 1295 : 				if ( BC_MAP_RANGE(gObj[aIndex].MapNumber) == FALSE )

  008c3	8a 81 23 01 00
	00		 mov	 al, BYTE PTR [ecx+291]
  008c9	3c 34		 cmp	 al, 52			; 00000034H
  008cb	0f 84 6a 01 00
	00		 je	 $LN2@gObjMonste
  008d1	3c 0b		 cmp	 al, 11			; 0000000bH
  008d3	72 0f		 jb	 SHORT $LN126@gObjMonste
  008d5	b2 11		 mov	 dl, 17			; 00000011H
  008d7	3a d0		 cmp	 dl, al
  008d9	1b c0		 sbb	 eax, eax
  008db	83 c0 01	 add	 eax, 1
  008de	0f 85 57 01 00
	00		 jne	 $LN2@gObjMonste
$LN126@gObjMonste:

; 1296 : 				{
; 1297 : 					if ( gObj[aIndex].Class != 131 || ((  (lpObj->Class-132)<0)?FALSE:((lpObj->Class-132)>2)?FALSE:TRUE)==FALSE )

  008e4	b8 83 00 00 00	 mov	 eax, 131		; 00000083H
  008e9	66 39 81 90 00
	00 00		 cmp	 WORD PTR [ecx+144], ax
  008f0	75 1f		 jne	 SHORT $LN83@gObjMonste
  008f2	0f b7 97 90 00
	00 00		 movzx	 edx, WORD PTR [edi+144]
  008f9	81 c2 7c ff ff
	ff		 add	 edx, -132		; ffffff7cH
  008ff	78 10		 js	 SHORT $LN83@gObjMonste
  00901	33 c0		 xor	 eax, eax
  00903	83 fa 02	 cmp	 edx, 2
  00906	0f 9e c0	 setle	 al
  00909	85 c0		 test	 eax, eax
  0090b	0f 85 2a 01 00
	00		 jne	 $LN2@gObjMonste
$LN83@gObjMonste:

; 1298 : 					{
; 1299 : 						gObjBackSpring(lpObj, &gObj[aIndex]);

  00911	51		 push	 ecx
  00912	57		 push	 edi
  00913	e8 00 00 00 00	 call	 ?gObjBackSpring@@YAHPAUOBJECTSTRUCT@@0@Z ; gObjBackSpring
  00918	83 c4 08	 add	 esp, 8

; 1300 : 					}
; 1301 : 				}
; 1302 : 			}
; 1303 : 
; 1304 : 			break;

  0091b	e9 1b 01 00 00	 jmp	 $LN2@gObjMonste
$LN84@gObjMonste:

; 1305 : 
; 1306 : 		case 3:
; 1307 : 			lpObj->TargetNumber = -1;

  00920	83 c8 ff	 or	 eax, -1

; 1308 : 			lpObj->LastAttackerID = -1;
; 1309 : 			lpObj->m_ActState.Emotion = 0;
; 1310 : 			lpObj->m_ActState.Attack = 0;
; 1311 : 			lpObj->m_ActState.Move = 0;
; 1312 : 			lpObj->NextActionTime = 1000;

  00923	c7 87 a0 05 00
	00 e8 03 00 00	 mov	 DWORD PTR [edi+1440], 1000 ; 000003e8H
  0092d	81 a7 c8 01 00
	00 09 ff ff ff	 and	 DWORD PTR [edi+456], -247 ; ffffff09H
  00937	66 89 87 38 06
	00 00		 mov	 WORD PTR [edi+1592], ax
  0093e	66 89 87 3e 06
	00 00		 mov	 WORD PTR [edi+1598], ax

; 1313 : 			break;

  00945	e9 f1 00 00 00	 jmp	 $LN2@gObjMonste
$LN85@gObjMonste:

; 1314 : 
; 1315 : 		case 4:
; 1316 : 			lpObj->m_ActState.Emotion = 3;

  0094a	8b 87 c8 01 00
	00		 mov	 eax, DWORD PTR [edi+456]
  00950	25 3f ff ff ff	 and	 eax, -193		; ffffff3fH
  00955	83 c8 30	 or	 eax, 48			; 00000030H
  00958	89 87 c8 01 00
	00		 mov	 DWORD PTR [edi+456], eax

; 1317 : 			lpObj->m_ActState.EmotionCount = 1;

  0095e	c6 87 c9 01 00
	00 01		 mov	 BYTE PTR [edi+457], 1

; 1318 : 			break;

  00965	e9 d1 00 00 00	 jmp	 $LN2@gObjMonste
$LN86@gObjMonste:

; 1319 : 
; 1320 : 		case 5:
; 1321 : 			gObjMemFree(lpObj->m_Index);

  0096a	ff 37		 push	 DWORD PTR [edi]
  0096c	e8 00 00 00 00	 call	 ?gObjMemFree@@YAFH@Z	; gObjMemFree
  00971	83 c4 04	 add	 esp, 4

; 1322 : 			break;

  00974	e9 c2 00 00 00	 jmp	 $LN2@gObjMonste
$LN87@gObjMonste:

; 1323 : 
; 1324 : 		case 6:
; 1325 : 			if ( gObj[aIndex].Live != FALSE )

  00979	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0097e	69 ce 40 27 00
	00		 imul	 ecx, esi, 10048
  00984	03 c1		 add	 eax, ecx
  00986	80 78 51 00	 cmp	 BYTE PTR [eax+81], 0
  0098a	0f 84 ab 00 00
	00		 je	 $LN2@gObjMonste

; 1326 : 			{
; 1327 : 				gObjBackSpring2(lpObj, &gObj[aIndex], 2);

  00990	6a 02		 push	 2
  00992	50		 push	 eax
  00993	57		 push	 edi

; 1328 : 			}
; 1329 : 
; 1330 : 			break;

  00994	e9 9a 00 00 00	 jmp	 $LN143@gObjMonste
$LN89@gObjMonste:

; 1331 : 
; 1332 : 		case 7:
; 1333 : 			if ( gObj[aIndex].Live != FALSE )

  00999	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0099e	69 ce 40 27 00
	00		 imul	 ecx, esi, 10048
  009a4	03 c1		 add	 eax, ecx
  009a6	80 78 51 00	 cmp	 BYTE PTR [eax+81], 0
  009aa	0f 84 8b 00 00
	00		 je	 $LN2@gObjMonste

; 1334 : 			{
; 1335 : 				gObjBackSpring2(lpObj, &gObj[aIndex], 3);

  009b0	6a 03		 push	 3
  009b2	50		 push	 eax
  009b3	57		 push	 edi

; 1336 : 			}
; 1337 : 			break;

  009b4	eb 7d		 jmp	 SHORT $LN143@gObjMonste
$LN91@gObjMonste:

; 1338 : 
; 1339 : 		case 55:
; 1340 : 			gObjAttack(lpObj, &gObj[aIndex], NULL, FALSE, 0, 0, FALSE, 0, 0);

  009b6	6a 00		 push	 0
  009b8	6a 00		 push	 0
  009ba	6a 00		 push	 0
  009bc	6a 00		 push	 0
  009be	6a 00		 push	 0
  009c0	69 c6 40 27 00
	00		 imul	 eax, esi, 10048
  009c6	6a 00		 push	 0
  009c8	6a 00		 push	 0
  009ca	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009d0	50		 push	 eax
  009d1	57		 push	 edi
  009d2	e8 00 00 00 00	 call	 ?gObjAttack@@YAXPAUOBJECTSTRUCT@@0PAVCMagicInf@@HEHHEE@Z ; gObjAttack
  009d7	83 c4 24	 add	 esp, 36			; 00000024H

; 1341 : 			break;

  009da	eb 5f		 jmp	 SHORT $LN2@gObjMonste
$LN92@gObjMonste:

; 1342 : 
; 1343 : 		case 56:
; 1344 : 			{
; 1345 : 				LPOBJ lpTargetObj = &gObj[aIndex];

  009dc	69 f6 40 27 00
	00		 imul	 esi, esi, 10048

; 1346 : 
; 1347 : 				if( gObjCheckUsedBuffEffect(lpTargetObj,BUFF_POISON) == FALSE )

  009e2	6a 37		 push	 55			; 00000037H
  009e4	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  009ea	56		 push	 esi
  009eb	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  009f0	83 c4 08	 add	 esp, 8
  009f3	84 c0		 test	 al, al
  009f5	75 44		 jne	 SHORT $LN2@gObjMonste

; 1348 : 				{
; 1349 : 					if ( retResistance(lpTargetObj, 1) == 0 )

  009f7	6a 01		 push	 1
  009f9	56		 push	 esi
  009fa	e8 00 00 00 00	 call	 ?retResistance@@YAHPAUOBJECTSTRUCT@@H@Z ; retResistance
  009ff	83 c4 08	 add	 esp, 8
  00a02	85 c0		 test	 eax, eax
  00a04	75 35		 jne	 SHORT $LN2@gObjMonste

; 1350 : 					{
; 1351 : 						lpTargetObj->lpAttackObj = lpObj;
; 1352 : 						gObjAddBuffEffect(lpTargetObj,BUFF_POISON,ADD_OPTION_REDUCE_HPPERC,3,0,0,aMsgSubCode);

  00a06	ff 75 14	 push	 DWORD PTR _aMsgSubCode$[ebp]
  00a09	89 be b4 05 00
	00		 mov	 DWORD PTR [esi+1460], edi
  00a0f	50		 push	 eax
  00a10	50		 push	 eax
  00a11	6a 03		 push	 3
  00a13	6a 13		 push	 19			; 00000013H
  00a15	6a 37		 push	 55			; 00000037H
  00a17	56		 push	 esi
  00a18	e8 00 00 00 00	 call	 ?gObjAddBuffEffect@@YA_NPAUOBJECTSTRUCT@@HEHEHH@Z ; gObjAddBuffEffect
  00a1d	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1353 : 					}
; 1354 : 				}
; 1355 : 			}
; 1356 : 			break;

  00a20	eb 19		 jmp	 SHORT $LN2@gObjMonste
$LN95@gObjMonste:

; 1357 : 
; 1358 : 		case 57:
; 1359 : 			{
; 1360 : 				LPOBJ lpTargetObj = &gObj[aIndex];
; 1361 : 				gObjBackSpring2(lpTargetObj, lpObj, aMsgSubCode);

  00a22	ff 75 14	 push	 DWORD PTR _aMsgSubCode$[ebp]
  00a25	69 c6 40 27 00
	00		 imul	 eax, esi, 10048
  00a2b	57		 push	 edi
  00a2c	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00a32	50		 push	 eax
$LN143@gObjMonste:
  00a33	e8 00 00 00 00	 call	 ?gObjBackSpring2@@YAHPAUOBJECTSTRUCT@@0H@Z ; gObjBackSpring2
  00a38	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@gObjMonste:

; 1362 : 			}
; 1363 : 			break;
; 1364 : 	}
; 1365 : }

  00a3b	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00a3e	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00a45	59		 pop	 ecx
  00a46	5f		 pop	 edi
  00a47	5e		 pop	 esi
  00a48	8b 4d f0	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00a4b	33 cd		 xor	 ecx, ebp
  00a4d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00a52	8b e5		 mov	 esp, ebp
  00a54	5d		 pop	 ebp
  00a55	c3		 ret	 0
  00a56	66 90		 npad	 2
$LN145@gObjMonste:
  00a58	00 00 00 00	 DD	 $LN7@gObjMonste
  00a5c	00 00 00 00	 DD	 $LN51@gObjMonste
  00a60	00 00 00 00	 DD	 $LN79@gObjMonste
  00a64	00 00 00 00	 DD	 $LN84@gObjMonste
  00a68	00 00 00 00	 DD	 $LN85@gObjMonste
  00a6c	00 00 00 00	 DD	 $LN86@gObjMonste
  00a70	00 00 00 00	 DD	 $LN87@gObjMonste
  00a74	00 00 00 00	 DD	 $LN89@gObjMonste
  00a78	00 00 00 00	 DD	 $LN91@gObjMonste
  00a7c	00 00 00 00	 DD	 $LN92@gObjMonste
  00a80	00 00 00 00	 DD	 $LN95@gObjMonste
  00a84	00 00 00 00	 DD	 $LN2@gObjMonste
$LN127@gObjMonste:
  00a88	00		 DB	 0
  00a89	01		 DB	 1
  00a8a	02		 DB	 2
  00a8b	03		 DB	 3
  00a8c	04		 DB	 4
  00a8d	05		 DB	 5
  00a8e	06		 DB	 6
  00a8f	07		 DB	 7
  00a90	0b		 DB	 11			; 0000000bH
  00a91	0b		 DB	 11			; 0000000bH
  00a92	0b		 DB	 11			; 0000000bH
  00a93	0b		 DB	 11			; 0000000bH
  00a94	0b		 DB	 11			; 0000000bH
  00a95	0b		 DB	 11			; 0000000bH
  00a96	0b		 DB	 11			; 0000000bH
  00a97	0b		 DB	 11			; 0000000bH
  00a98	0b		 DB	 11			; 0000000bH
  00a99	0b		 DB	 11			; 0000000bH
  00a9a	0b		 DB	 11			; 0000000bH
  00a9b	0b		 DB	 11			; 0000000bH
  00a9c	0b		 DB	 11			; 0000000bH
  00a9d	0b		 DB	 11			; 0000000bH
  00a9e	0b		 DB	 11			; 0000000bH
  00a9f	0b		 DB	 11			; 0000000bH
  00aa0	0b		 DB	 11			; 0000000bH
  00aa1	0b		 DB	 11			; 0000000bH
  00aa2	0b		 DB	 11			; 0000000bH
  00aa3	0b		 DB	 11			; 0000000bH
  00aa4	0b		 DB	 11			; 0000000bH
  00aa5	0b		 DB	 11			; 0000000bH
  00aa6	0b		 DB	 11			; 0000000bH
  00aa7	0b		 DB	 11			; 0000000bH
  00aa8	0b		 DB	 11			; 0000000bH
  00aa9	0b		 DB	 11			; 0000000bH
  00aaa	0b		 DB	 11			; 0000000bH
  00aab	0b		 DB	 11			; 0000000bH
  00aac	0b		 DB	 11			; 0000000bH
  00aad	0b		 DB	 11			; 0000000bH
  00aae	0b		 DB	 11			; 0000000bH
  00aaf	0b		 DB	 11			; 0000000bH
  00ab0	0b		 DB	 11			; 0000000bH
  00ab1	0b		 DB	 11			; 0000000bH
  00ab2	0b		 DB	 11			; 0000000bH
  00ab3	0b		 DB	 11			; 0000000bH
  00ab4	0b		 DB	 11			; 0000000bH
  00ab5	0b		 DB	 11			; 0000000bH
  00ab6	0b		 DB	 11			; 0000000bH
  00ab7	0b		 DB	 11			; 0000000bH
  00ab8	0b		 DB	 11			; 0000000bH
  00ab9	0b		 DB	 11			; 0000000bH
  00aba	0b		 DB	 11			; 0000000bH
  00abb	0b		 DB	 11			; 0000000bH
  00abc	0b		 DB	 11			; 0000000bH
  00abd	0b		 DB	 11			; 0000000bH
  00abe	0b		 DB	 11			; 0000000bH
  00abf	08		 DB	 8
  00ac0	09		 DB	 9
  00ac1	0a		 DB	 10			; 0000000aH
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z$0:
  00000	8d 4d bc	 lea	 ecx, DWORD PTR _cMagicInf$2[ebp]
  00003	e9 00 00 00 00	 jmp	 ??1CMagicInf@@UAE@XZ	; CMagicInf::~CMagicInf
__ehhandler$?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z:
  00008	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  0000c	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  0000f	8b 4a bc	 mov	 ecx, DWORD PTR [edx-68]
  00012	33 c8		 xor	 ecx, eax
  00014	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00019	8b 4a fc	 mov	 ecx, DWORD PTR [edx-4]
  0001c	33 c8		 xor	 ecx, eax
  0001e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00023	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z
  00028	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
?gObjMonsterStateProc@@YAXPAUOBJECTSTRUCT@@HHH@Z ENDP	; gObjMonsterStateProc
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjGuardSearchEnemy@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_searchtarget$1$ = -12					; size = 4
_mindis$1$ = -8						; size = 4
tv346 = -4						; size = 4
_lpObj$ = 8						; size = 4
?gObjGuardSearchEnemy@@YAHPAUOBJECTSTRUCT@@@Z PROC	; gObjGuardSearchEnemy, COMDAT

; 881  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 e4 f8	 and	 esp, -8			; fffffff8H
  00006	83 ec 0c	 sub	 esp, 12			; 0000000cH

; 882  : 	int n;
; 883  : 	int tx;
; 884  : 	int ty;
; 885  : 	int dis;
; 886  : 	int mindis = lpObj->m_ViewRange;

  00009	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]

; 887  : 	int searchtarget = -1;

  0000c	83 c8 ff	 or	 eax, -1
  0000f	53		 push	 ebx
  00010	56		 push	 esi
  00011	57		 push	 edi
  00012	0f bf 8a 94 06
	00 00		 movsx	 ecx, WORD PTR [edx+1684]
  00019	8d 9a 50 0c 00
	00		 lea	 ebx, DWORD PTR [edx+3152]
  0001f	89 4c 24 10	 mov	 DWORD PTR _mindis$1$[esp+24], ecx
  00023	8d 50 02	 lea	 edx, DWORD PTR [eax+2]
  00026	89 44 24 0c	 mov	 DWORD PTR _searchtarget$1$[esp+24], eax
  0002a	c7 44 24 14 4b
	00 00 00	 mov	 DWORD PTR tv346[esp+24], 75 ; 0000004bH
$LL4@gObjGuardS:

; 892  : 	{
; 893  : 		tObjNum = lpObj->VpPlayer2[n].number;

  00032	0f bf 7b fa	 movsx	 edi, WORD PTR [ebx-6]

; 894  : 
; 895  : 		if ( tObjNum >= 0 )

  00036	85 ff		 test	 edi, edi
  00038	0f 88 c5 00 00
	00		 js	 $LN2@gObjGuardS

; 896  : 		{
; 897  : 			int bPk = FALSE;
; 898  : 
; 899  : #if (ENABLE_FIX_PARTYPK == 1)
; 900  : 			if( gObj[tObjNum].m_PK_Level > 4 )

  0003e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00044	33 c0		 xor	 eax, eax
  00046	69 f7 40 27 00
	00		 imul	 esi, edi, 10048
  0004c	80 bc 0e 19 01
	00 00 04	 cmp	 BYTE PTR [esi+ecx+281], 4
  00054	0f 4f c2	 cmovg	 eax, edx

; 901  : 			{
; 902  : 				bPk = TRUE;
; 903  : 			}
; 904  : #else
; 905  : 			if( gObj[tObjNum].PartyNumber >= 0 )
; 906  : 			{
; 907  : 				if( gParty.GetPartyPkLevel(gObj[tObjNum].PartyNumber) > 4 )
; 908  : 				{
; 909  : 					bPk = TRUE;
; 910  : 				}
; 911  : 			}
; 912  : 			else if( gObj[tObjNum].m_PK_Level > 4 )
; 913  : 			{
; 914  : 				bPk = TRUE;
; 915  : 			}
; 916  : #endif
; 917  : 
; 918  : 
; 919  : 			if ( gObj[tObjNum].Type == OBJ_USER && bPk == TRUE )

  00057	80 7c 0e 50 01	 cmp	 BYTE PTR [esi+ecx+80], 1
  0005c	0f 85 9d 00 00
	00		 jne	 $LN16@gObjGuardS
  00062	83 f8 01	 cmp	 eax, 1
  00065	0f 85 94 00 00
	00		 jne	 $LN16@gObjGuardS

; 920  : 			{
; 921  : 				attr = MapC[gObj[tObjNum].MapNumber].GetAttr(gObj[tObjNum].X, gObj[tObjNum].Y);

  0006b	0f b6 84 0e 21
	01 00 00	 movzx	 eax, BYTE PTR [esi+ecx+289]
  00073	50		 push	 eax
  00074	0f b6 84 0e 20
	01 00 00	 movzx	 eax, BYTE PTR [esi+ecx+288]
  0007c	50		 push	 eax
  0007d	0f b6 84 0e 23
	01 00 00	 movzx	 eax, BYTE PTR [esi+ecx+291]
  00085	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  0008b	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00091	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 922  : 
; 923  : 				if ( (attr&1) != 1 )

  00096	a8 01		 test	 al, 1
  00098	75 60		 jne	 SHORT $LN19@gObjGuardS

; 924  : 				{
; 925  : 					tx = lpObj->X - gObj[tObjNum].X;

  0009a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000a0	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  000a3	0f b6 84 0e 20
	01 00 00	 movzx	 eax, BYTE PTR [esi+ecx+288]
  000ab	0f b6 92 20 01
	00 00		 movzx	 edx, BYTE PTR [edx+288]
  000b2	2b d0		 sub	 edx, eax

; 926  : 					ty = lpObj->Y - gObj[tObjNum].Y;

  000b4	0f b6 84 0e 21
	01 00 00	 movzx	 eax, BYTE PTR [esi+ecx+289]
  000bc	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]

; 927  : 					dis = (int)(sqrt(double(tx * tx + ty * ty)));

  000bf	0f af d2	 imul	 edx, edx
  000c2	0f b6 89 21 01
	00 00		 movzx	 ecx, BYTE PTR [ecx+289]
  000c9	2b c8		 sub	 ecx, eax
  000cb	0f af c9	 imul	 ecx, ecx
  000ce	03 ca		 add	 ecx, edx
  000d0	66 0f 6e c1	 movd	 xmm0, ecx
  000d4	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  000d8	e8 00 00 00 00	 call	 __libm_sse2_sqrt_precise
  000dd	f2 0f 2c c8	 cvttsd2si ecx, xmm0

; 928  : 					lpObj->VpPlayer2[n].dis = dis;
; 929  : 
; 930  : 					if ( dis < mindis )
; 931  : 					{
; 932  : 						searchtarget = tObjNum;
; 933  : 						mindis = dis;

  000e1	ba 01 00 00 00	 mov	 edx, 1
  000e6	89 0b		 mov	 DWORD PTR [ebx], ecx
  000e8	3b 4c 24 10	 cmp	 ecx, DWORD PTR _mindis$1$[esp+24]
  000ec	7d 11		 jge	 SHORT $LN16@gObjGuardS
  000ee	8b c7		 mov	 eax, edi
  000f0	89 4c 24 10	 mov	 DWORD PTR _mindis$1$[esp+24], ecx
  000f4	89 44 24 0c	 mov	 DWORD PTR _searchtarget$1$[esp+24], eax
  000f8	eb 09		 jmp	 SHORT $LN2@gObjGuardS
$LN19@gObjGuardS:
  000fa	ba 01 00 00 00	 mov	 edx, 1
$LN16@gObjGuardS:
  000ff	8b 44 24 0c	 mov	 eax, DWORD PTR _searchtarget$1$[esp+24]
$LN2@gObjGuardS:

; 888  : 	int tObjNum;
; 889  : 	BYTE attr;
; 890  : 
; 891  : 	for (n=0;n<MAX_VIEWPORT_MONSTER;n++)

  00103	83 c3 0c	 add	 ebx, 12			; 0000000cH
  00106	83 6c 24 14 01	 sub	 DWORD PTR tv346[esp+24], 1
  0010b	0f 85 21 ff ff
	ff		 jne	 $LL4@gObjGuardS

; 934  : 					}
; 935  : 				}
; 936  : 			}
; 937  : 		}
; 938  : 	}
; 939  : 
; 940  : 	return searchtarget;
; 941  : }

  00111	5f		 pop	 edi
  00112	5e		 pop	 esi
  00113	5b		 pop	 ebx
  00114	8b e5		 mov	 esp, ebp
  00116	5d		 pop	 ebp
  00117	c3		 ret	 0
?gObjGuardSearchEnemy@@YAHPAUOBJECTSTRUCT@@@Z ENDP	; gObjGuardSearchEnemy
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterSearchEnemy@@YAHPAUOBJECTSTRUCT@@E@Z
_TEXT	SEGMENT
_searchtarget$1$ = -20					; size = 4
_t2$1$ = -16						; size = 4
tv391 = -12						; size = 4
_mindis$1$ = -8						; size = 4
tv372 = -4						; size = 4
_lpObj$ = 8						; size = 4
_objtype$ = 12						; size = 1
?gObjMonsterSearchEnemy@@YAHPAUOBJECTSTRUCT@@E@Z PROC	; gObjMonsterSearchEnemy, COMDAT

; 831  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 e4 f8	 and	 esp, -8			; fffffff8H
  00006	83 ec 14	 sub	 esp, 20			; 00000014H

; 832  : 	int n;
; 833  : 	int tx;
; 834  : 	int ty;
; 835  : 	int dis;
; 836  : 	int mindis = lpObj->m_ViewRange;

  00009	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]

; 837  : 	int searchtarget = -1;

  0000c	83 ca ff	 or	 edx, -1
  0000f	53		 push	 ebx
  00010	56		 push	 esi
  00011	57		 push	 edi
  00012	0f bf 81 94 06
	00 00		 movsx	 eax, WORD PTR [ecx+1684]
  00019	8d b9 50 0c 00
	00		 lea	 edi, DWORD PTR [ecx+3152]
  0001f	89 44 24 18	 mov	 DWORD PTR _mindis$1$[esp+32], eax
  00023	8d 5a 4c	 lea	 ebx, DWORD PTR [edx+76]

; 838  : 	int tObjNum;
; 839  : 	int count = 3;
; 840  : 	int t1 = objtype;

  00026	0f b6 45 0c	 movzx	 eax, BYTE PTR _objtype$[ebp]
  0002a	89 54 24 0c	 mov	 DWORD PTR _searchtarget$1$[esp+32], edx
  0002e	89 44 24 10	 mov	 DWORD PTR _t2$1$[esp+32], eax
  00032	c7 44 24 1c 0b
	02 00 00	 mov	 DWORD PTR tv372[esp+32], 523 ; 0000020bH
  0003a	66 0f 1f 44 00
	00		 npad	 6
$LL4@gObjMonste:

; 844  : 	{
; 845  : 		tObjNum = lpObj->VpPlayer2[n].number;

  00040	0f bf 77 fa	 movsx	 esi, WORD PTR [edi-6]

; 846  : 
; 847  : 		if ( tObjNum >= 0 )

  00044	85 f6		 test	 esi, esi
  00046	0f 88 e5 00 00
	00		 js	 $LN2@gObjMonste

; 848  : 		{
; 849  : 			if ( (gObj[tObjNum].Type == t1 || gObj[tObjNum].Type == t2) && (gObj[tObjNum].Live != FALSE) )

  0004c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00051	69 ce 40 27 00
	00		 imul	 ecx, esi, 10048
  00057	03 c1		 add	 eax, ecx
  00059	8a 50 50	 mov	 dl, BYTE PTR [eax+80]
  0005c	89 4c 24 14	 mov	 DWORD PTR tv391[esp+32], ecx
  00060	0f b6 ca	 movzx	 ecx, dl
  00063	3b 4c 24 10	 cmp	 ecx, DWORD PTR _t2$1$[esp+32]
  00067	0f 85 c0 00 00
	00		 jne	 $LN29@gObjMonste
  0006d	80 78 51 00	 cmp	 BYTE PTR [eax+81], 0
  00071	0f 84 b6 00 00
	00		 je	 $LN29@gObjMonste

; 850  : 			{
; 851  : 				if ( ((gObj[tObjNum].Class >= 100 && gObj[tObjNum].Class < 110 ) || gObj[tObjNum].Class == 523) || (gObj[tObjNum].Type == OBJ_MONSTER && gObj[tObjNum].m_RecallMon >= 0) )

  00077	0f b7 88 90 00
	00 00		 movzx	 ecx, WORD PTR [eax+144]
  0007e	83 f9 64	 cmp	 ecx, 100		; 00000064H
  00081	72 09		 jb	 SHORT $LN11@gObjMonste
  00083	83 f9 6e	 cmp	 ecx, 110		; 0000006eH
  00086	0f 82 a1 00 00
	00		 jb	 $LN29@gObjMonste
$LN11@gObjMonste:
  0008c	66 3b 4c 24 1c	 cmp	 cx, WORD PTR tv372[esp+32]
  00091	0f 84 96 00 00
	00		 je	 $LN29@gObjMonste
  00097	80 fa 02	 cmp	 dl, 2
  0009a	75 0d		 jne	 SHORT $LN8@gObjMonste
  0009c	83 b8 30 06 00
	00 00		 cmp	 DWORD PTR [eax+1584], 0
  000a3	0f 8d 84 00 00
	00		 jge	 $LN29@gObjMonste
$LN8@gObjMonste:

; 852  : 				{
; 853  : 
; 854  : 				}
; 855  : 				else if ( (gObj[tObjNum].Authority &2) != 2 && gObj[tObjNum].Teleport == 0 ) {

  000a9	f6 80 bc 01 00
	00 02		 test	 BYTE PTR [eax+444], 2
  000b0	75 7b		 jne	 SHORT $LN29@gObjMonste
  000b2	80 b8 88 05 00
	00 00		 cmp	 BYTE PTR [eax+1416], 0
  000b9	75 72		 jne	 SHORT $LN29@gObjMonste

; 856  : #if (ENABLETEST_NEWPVP == 1)
; 857  : 					if (g_NewPVP.IsObserver(gObj[tObjNum])) {

  000bb	50		 push	 eax
  000bc	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_NewPVP@@3VCNewPVP@@A ; g_NewPVP
  000c1	e8 00 00 00 00	 call	 ?IsObserver@CNewPVP@@QAEHAAUOBJECTSTRUCT@@@Z ; CNewPVP::IsObserver
  000c6	85 c0		 test	 eax, eax
  000c8	75 63		 jne	 SHORT $LN29@gObjMonste

; 858  : 						continue;
; 859  : 					}
; 860  : #endif
; 861  : 					tx = lpObj->X - gObj[tObjNum].X;

  000ca	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000d0	8b 44 24 14	 mov	 eax, DWORD PTR tv391[esp+32]
  000d4	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  000d7	0f b6 84 08 20
	01 00 00	 movzx	 eax, BYTE PTR [eax+ecx+288]
  000df	0f b6 92 20 01
	00 00		 movzx	 edx, BYTE PTR [edx+288]
  000e6	2b d0		 sub	 edx, eax

; 862  : 					ty = lpObj->Y - gObj[tObjNum].Y;

  000e8	8b 44 24 14	 mov	 eax, DWORD PTR tv391[esp+32]

; 863  : 					dis = (int)(sqrt(double(tx * tx + ty * ty)));

  000ec	0f af d2	 imul	 edx, edx
  000ef	0f b6 84 08 21
	01 00 00	 movzx	 eax, BYTE PTR [eax+ecx+289]
  000f7	8b 4d 08	 mov	 ecx, DWORD PTR _lpObj$[ebp]
  000fa	0f b6 89 21 01
	00 00		 movzx	 ecx, BYTE PTR [ecx+289]
  00101	2b c8		 sub	 ecx, eax
  00103	0f af c9	 imul	 ecx, ecx
  00106	03 ca		 add	 ecx, edx
  00108	66 0f 6e c1	 movd	 xmm0, ecx
  0010c	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00110	e8 00 00 00 00	 call	 __libm_sse2_sqrt_precise
  00115	f2 0f 2c c8	 cvttsd2si ecx, xmm0

; 864  : 					lpObj->VpPlayer2[n].dis = dis;

  00119	89 0f		 mov	 DWORD PTR [edi], ecx

; 865  : 
; 866  : 					if ( dis < mindis )

  0011b	3b 4c 24 18	 cmp	 ecx, DWORD PTR _mindis$1$[esp+32]
  0011f	7d 0c		 jge	 SHORT $LN29@gObjMonste

; 867  : 					{
; 868  : 						searchtarget = tObjNum;

  00121	8b d6		 mov	 edx, esi

; 869  : 						mindis = dis;

  00123	89 4c 24 18	 mov	 DWORD PTR _mindis$1$[esp+32], ecx
  00127	89 54 24 0c	 mov	 DWORD PTR _searchtarget$1$[esp+32], edx
  0012b	eb 04		 jmp	 SHORT $LN2@gObjMonste
$LN29@gObjMonste:
  0012d	8b 54 24 0c	 mov	 edx, DWORD PTR _searchtarget$1$[esp+32]
$LN2@gObjMonste:

; 841  : 	int t2 = objtype;
; 842  : 
; 843  : 	for (n=0;n<MAX_VIEWPORT;n++)

  00131	83 c7 0c	 add	 edi, 12			; 0000000cH
  00134	83 eb 01	 sub	 ebx, 1
  00137	0f 85 03 ff ff
	ff		 jne	 $LL4@gObjMonste

; 870  : 					}
; 871  : 				}
; 872  : 			}
; 873  : 		}
; 874  : 	}
; 875  : 
; 876  : 	return searchtarget;
; 877  : }

  0013d	5f		 pop	 edi
  0013e	5e		 pop	 esi
  0013f	8b c2		 mov	 eax, edx
  00141	5b		 pop	 ebx
  00142	8b e5		 mov	 esp, ebp
  00144	5d		 pop	 ebp
  00145	c3		 ret	 0
?gObjMonsterSearchEnemy@@YAHPAUOBJECTSTRUCT@@E@Z ENDP	; gObjMonsterSearchEnemy
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjCallMonsterSetEnemy@@YAHPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
_Target$ = 12						; size = 4
?gObjCallMonsterSetEnemy@@YAHPAUOBJECTSTRUCT@@H@Z PROC	; gObjCallMonsterSetEnemy, COMDAT

; 804  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 805  : 	if(gObj[Target].Type == OBJ_USER) return -1; // Fix Summon Mobs attack players - Fix By Willerson

  00003	8b 55 0c	 mov	 edx, DWORD PTR _Target$[ebp]
  00006	69 c2 40 27 00
	00		 imul	 eax, edx, 10048
  0000c	56		 push	 esi
  0000d	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00013	80 7c 30 50 01	 cmp	 BYTE PTR [eax+esi+80], 1
  00018	74 49		 je	 SHORT $LN5@gObjCallMo

; 806  : 
; 807  : 	if ( lpObj->Type != OBJ_USER )

  0001a	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0001d	80 78 50 01	 cmp	 BYTE PTR [eax+80], 1
  00021	75 40		 jne	 SHORT $LN5@gObjCallMo

; 808  : 	{
; 809  : 		return -1;
; 810  : 	}
; 811  : 
; 812  : 	LPOBJ lpCallObj = &gObj[lpObj->m_RecallMon];

  00023	69 88 30 06 00
	00 40 27 00 00	 imul	 ecx, DWORD PTR [eax+1584], 10048

; 813  : 
; 814  : 	if ( lpCallObj->TargetNumber >= 0 )

  0002d	0f b7 84 31 38
	06 00 00	 movzx	 eax, WORD PTR [ecx+esi+1592]
  00035	03 ce		 add	 ecx, esi
  00037	66 85 c0	 test	 ax, ax
  0003a	79 27		 jns	 SHORT $LN5@gObjCallMo

; 815  : 	{
; 816  : 		return -1;
; 817  : 	}
; 818  : 
; 819  : 	if ( lpCallObj->TargetNumber != Target )

  0003c	98		 cwde
  0003d	3b c2		 cmp	 eax, edx
  0003f	74 22		 je	 SHORT $LN5@gObjCallMo

; 820  : 	{
; 821  : 		lpCallObj->TargetNumber = Target;
; 822  : 		lpCallObj->m_ActState.EmotionCount = 30;

  00041	c6 81 c9 01 00
	00 1e		 mov	 BYTE PTR [ecx+457], 30	; 0000001eH

; 823  : 		lpCallObj->m_ActState.Emotion = 1;

  00048	8b 81 c8 01 00
	00		 mov	 eax, DWORD PTR [ecx+456]
  0004e	25 1f ff ff ff	 and	 eax, -225		; ffffff1fH
  00053	66 89 91 38 06
	00 00		 mov	 WORD PTR [ecx+1592], dx
  0005a	83 c8 10	 or	 eax, 16			; 00000010H
  0005d	89 81 c8 01 00
	00		 mov	 DWORD PTR [ecx+456], eax
$LN5@gObjCallMo:

; 824  : 	}
; 825  : 
; 826  : 	return -1;

  00063	83 c8 ff	 or	 eax, -1
  00066	5e		 pop	 esi

; 827  : }

  00067	5d		 pop	 ebp
  00068	c3		 ret	 0
?gObjCallMonsterSetEnemy@@YAHPAUOBJECTSTRUCT@@H@Z ENDP	; gObjCallMonsterSetEnemy
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjGetTargetPos@@YAHPAUOBJECTSTRUCT@@HHAAH1@Z
_TEXT	SEGMENT
tv360 = -4						; size = 4
_searchcount$1$ = -4					; size = 4
_lpObj$ = 8						; size = 4
_sx$ = 12						; size = 4
_sy$ = 16						; size = 4
_tx$ = 20						; size = 4
_ty$ = 24						; size = 4
?gObjGetTargetPos@@YAHPAUOBJECTSTRUCT@@HHAAH1@Z PROC	; gObjGetTargetPos, COMDAT

; 708  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 709  : 	int tpx;	// Target Player X
; 710  : 	int tpy;
; 711  : 	int mtx;	// Monster Target X
; 712  : 	int mty;
; 713  : 	int searchp = 0;
; 714  : 	int sn = 0;
; 715  : 	int searchcount = MAX_ROAD_PATH_TABLE/2-1;
; 716  : 	BYTE attr;
; 717  : 	int dis;
; 718  : 
; 719  : 	tpx = sx;
; 720  : 	mtx = tpx;
; 721  : 	tpy = sy;
; 722  : 	mty = tpy;
; 723  : 
; 724  : 	if ( lpObj->m_AttackType >= 100 )

  00004	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  00007	8b 55 0c	 mov	 edx, DWORD PTR _sx$[ebp]
  0000a	53		 push	 ebx
  0000b	56		 push	 esi
  0000c	66 83 b8 92 06
	00 00 64	 cmp	 WORD PTR [eax+1682], 100 ; 00000064H
  00014	8b 75 10	 mov	 esi, DWORD PTR _sy$[ebp]

; 725  : 	{
; 726  : 		dis = lpObj->m_AttackRange + 2;

  00017	0f bf 88 90 06
	00 00		 movsx	 ecx, WORD PTR [eax+1680]
  0001e	57		 push	 edi
  0001f	8b fa		 mov	 edi, edx
  00021	7c 03		 jl	 SHORT $LN5@gObjGetTar
  00023	83 c1 02	 add	 ecx, 2
$LN5@gObjGetTar:

; 727  : 	}
; 728  : 	else
; 729  : 	{
; 730  : 		dis = lpObj->m_AttackRange;
; 731  : 	}
; 732  : 
; 733  : 	if ( lpObj->X < mtx )

  00026	0f b6 98 20 01
	00 00		 movzx	 ebx, BYTE PTR [eax+288]
  0002d	89 5d fc	 mov	 DWORD PTR tv360[ebp], ebx
  00030	3b da		 cmp	 ebx, edx
  00032	8b de		 mov	 ebx, esi
  00034	7d 02		 jge	 SHORT $LN6@gObjGetTar

; 734  : 	{
; 735  : 		tpx -= dis;

  00036	2b f9		 sub	 edi, ecx
$LN6@gObjGetTar:

; 736  : 	}
; 737  : 
; 738  : 	if ( lpObj->X > mtx )

  00038	39 55 fc	 cmp	 DWORD PTR tv360[ebp], edx
  0003b	7e 02		 jle	 SHORT $LN7@gObjGetTar

; 739  : 	{
; 740  : 		tpx += dis;

  0003d	03 f9		 add	 edi, ecx
$LN7@gObjGetTar:

; 741  : 	}
; 742  : 
; 743  : 	if ( lpObj->Y < mty )

  0003f	0f b6 80 21 01
	00 00		 movzx	 eax, BYTE PTR [eax+289]
  00046	3b c6		 cmp	 eax, esi
  00048	7d 04		 jge	 SHORT $LN25@gObjGetTar

; 744  : 	{
; 745  : 		tpy -= dis;

  0004a	2b d9		 sub	 ebx, ecx

; 746  : 	}
; 747  : 
; 748  : 	if ( lpObj->Y > mty )

  0004c	3b c6		 cmp	 eax, esi
$LN25@gObjGetTar:
  0004e	7e 02		 jle	 SHORT $LN9@gObjGetTar

; 749  : 	{
; 750  : 		tpy += dis;

  00050	03 d9		 add	 ebx, ecx
$LN9@gObjGetTar:

; 751  : 	}
; 752  : 
; 753  : 	searchp = GetPathPacketDirPos( sx - tpx, sy - tpy ) * 2;

  00052	8b c6		 mov	 eax, esi
  00054	2b c3		 sub	 eax, ebx
  00056	50		 push	 eax
  00057	8b c2		 mov	 eax, edx
  00059	2b c7		 sub	 eax, edi
  0005b	50		 push	 eax
  0005c	e8 00 00 00 00	 call	 ?GetPathPacketDirPos@@YAEHH@Z ; GetPathPacketDirPos
  00061	0f b6 f0	 movzx	 esi, al
  00064	83 c4 08	 add	 esp, 8

; 754  : 
; 755  : 	if ( MapC[lpObj->MapNumber].GetStandAttr(tpx, tpy) == 0 )

  00067	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  0006a	03 f6		 add	 esi, esi
  0006c	53		 push	 ebx
  0006d	0f b6 80 23 01
	00 00		 movzx	 eax, BYTE PTR [eax+291]
  00074	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  0007a	57		 push	 edi
  0007b	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00081	e8 00 00 00 00	 call	 ?GetStandAttr@MapClass@@QAEHHH@Z ; MapClass::GetStandAttr
  00086	85 c0		 test	 eax, eax
  00088	75 5c		 jne	 SHORT $LN10@gObjGetTar
  0008a	b8 07 00 00 00	 mov	 eax, 7
  0008f	90		 npad	 1
$LL2@gObjGetTar:

; 756  : 	{
; 757  : 		while ( searchcount-- )
; 758  : 		{
; 759  : 			mtx = sx + RoadPathTable[searchp];
; 760  : 			mty = sy + RoadPathTable[1+searchp];

  00090	0f bf 1c 75 02
	00 00 00	 movsx	 ebx, WORD PTR ?RoadPathTable@@3PAFA[esi*2+2]
  00098	48		 dec	 eax
  00099	0f bf 3c 75 00
	00 00 00	 movsx	 edi, WORD PTR ?RoadPathTable@@3PAFA[esi*2]
  000a1	03 5d 10	 add	 ebx, DWORD PTR _sy$[ebp]
  000a4	03 7d 0c	 add	 edi, DWORD PTR _sx$[ebp]
  000a7	89 45 fc	 mov	 DWORD PTR _searchcount$1$[ebp], eax

; 761  : 			attr = MapC[lpObj->MapNumber].GetAttr(mtx, mty);

  000aa	8b 45 08	 mov	 eax, DWORD PTR _lpObj$[ebp]
  000ad	53		 push	 ebx
  000ae	57		 push	 edi
  000af	0f b6 80 23 01
	00 00		 movzx	 eax, BYTE PTR [eax+291]
  000b6	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  000bc	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  000c2	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr
  000c7	a8 0f		 test	 al, 15			; 0000000fH

; 762  : 			
; 763  : 			if ( (attr&1) != 1 && (attr&2) != 2 && (attr&4) != 4 && (attr&8) != 8 )

  000c9	74 46		 je	 SHORT $LN19@gObjGetTar

; 764  : 			{
; 765  : 				tx = mtx;
; 766  : 				ty = mty;
; 767  : 				return TRUE;
; 768  : 			}
; 769  : 
; 770  : 			searchp += 2;

  000cb	83 c6 02	 add	 esi, 2

; 771  : 
; 772  : 			if ( searchp > MAX_ROAD_PATH_TABLE-1 )

  000ce	33 c0		 xor	 eax, eax
  000d0	83 fe 0f	 cmp	 esi, 15			; 0000000fH
  000d3	0f 4f f0	 cmovg	 esi, eax
  000d6	8b 45 fc	 mov	 eax, DWORD PTR _searchcount$1$[ebp]
  000d9	85 c0		 test	 eax, eax
  000db	75 b3		 jne	 SHORT $LL2@gObjGetTar
$LN16@gObjGetTar:
  000dd	5f		 pop	 edi
  000de	5e		 pop	 esi

; 797  : 	}
; 798  : 
; 799  : 	return FALSE;

  000df	33 c0		 xor	 eax, eax
  000e1	5b		 pop	 ebx

; 800  : }

  000e2	8b e5		 mov	 esp, ebp
  000e4	5d		 pop	 ebp
  000e5	c3		 ret	 0
$LN10@gObjGetTar:

; 773  : 			{
; 774  : 				searchp = 0;
; 775  : 			}
; 776  : 		}
; 777  : 
; 778  : 		return FALSE;
; 779  : 	}
; 780  : 
; 781  : 	attr = MapC[lpObj->MapNumber].GetAttr(tpx, tpy);

  000e6	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  000e9	53		 push	 ebx
  000ea	57		 push	 edi
  000eb	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  000f2	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  000f8	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  000fe	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 782  : 
; 783  : 	if ( lpObj->m_Attribute >= 100 )

  00103	66 83 be 96 06
	00 00 64	 cmp	 WORD PTR [esi+1686], 100 ; 00000064H
  0010b	7c 1a		 jl	 SHORT $LN13@gObjGetTar
  0010d	a8 0e		 test	 al, 14			; 0000000eH
$LN26@gObjGetTar:

; 784  : 	{
; 785  : 		if (  (attr&2) != 2 && (attr&4) != 4 && (attr&8) != 8 )

  0010f	75 cc		 jne	 SHORT $LN16@gObjGetTar
$LN19@gObjGetTar:

; 786  : 		{
; 787  : 			tx = tpx;

  00111	8b 45 14	 mov	 eax, DWORD PTR _tx$[ebp]
  00114	89 38		 mov	 DWORD PTR [eax], edi

; 788  : 			ty = tpy;

  00116	8b 45 18	 mov	 eax, DWORD PTR _ty$[ebp]
  00119	5f		 pop	 edi
  0011a	5e		 pop	 esi
  0011b	89 18		 mov	 DWORD PTR [eax], ebx

; 789  : 			return TRUE;

  0011d	b8 01 00 00 00	 mov	 eax, 1
  00122	5b		 pop	 ebx

; 800  : }

  00123	8b e5		 mov	 esp, ebp
  00125	5d		 pop	 ebp
  00126	c3		 ret	 0
$LN13@gObjGetTar:
  00127	a8 0f		 test	 al, 15			; 0000000fH

; 790  : 		}
; 791  : 	}
; 792  : 	else if  ( (attr&1) != 1 && (attr&2) != 2 && (attr&4) != 4 && (attr&8) != 8 )
; 793  : 	{
; 794  : 		tx = tpx;
; 795  : 		ty = tpy;
; 796  : 		return TRUE;

  00129	eb e4		 jmp	 SHORT $LN26@gObjGetTar
?gObjGetTargetPos@@YAHPAUOBJECTSTRUCT@@HHAAH1@Z ENDP	; gObjGetTargetPos
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterGetTargetPos@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_lpTargetObj$1$ = -16					; size = 4
_mtx$2$ = -12						; size = 4
_searchcount$1$ = -12					; size = 4
_mty$2$ = -8						; size = 4
_mty$1$ = -4						; size = 4
_tpy$1$ = -4						; size = 4
tv423 = 8						; size = 4
_mtx$1$ = 8						; size = 4
_lpObj$ = 8						; size = 4
_attr$2$ = 11						; size = 1
?gObjMonsterGetTargetPos@@YAHPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterGetTargetPos, COMDAT

; 568  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	56		 push	 esi

; 569  : 	int tpx;	// Target Player X
; 570  : 	int tpy;
; 571  : 	int mtx;	// Monster Target X
; 572  : 	int mty;
; 573  : 	int searchp = 0;
; 574  : 	int sn = 0;
; 575  : 	int searchcount = MAX_ROAD_PATH_TABLE/2-1;
; 576  : 	BYTE attr;
; 577  : 	BOOL result;
; 578  : 	LPOBJ lpTargetObj;
; 579  : 
; 580  : 
; 581  : 	if ( lpObj->m_MoveRange == FALSE )

  00007	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  0000a	66 83 be 8e 06
	00 00 00	 cmp	 WORD PTR [esi+1678], 0
  00012	75 58		 jne	 SHORT $LN5@gObjMonste

; 582  : 	{
; 583  : 		if ( gObjCheckUsedBuffEffect(lpObj,BUFF_ICEARROW) == TRUE ||
; 584  : 			gObjCheckUsedBuffEffect(lpObj,BUFF_STUN) == TRUE ||
; 585  : 			gObjCheckUsedBuffEffect(lpObj,BUFF_SLEEP) == TRUE ||
; 586  : 			gObjCheckUsedBuffEffect(lpObj,BUFF_FREEZE) == TRUE ||

  00014	6a 39		 push	 57			; 00000039H
  00016	56		 push	 esi
  00017	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  0001c	83 c4 08	 add	 esp, 8
  0001f	3c 01		 cmp	 al, 1
  00021	74 42		 je	 SHORT $LN6@gObjMonste
  00023	6a 3d		 push	 61			; 0000003dH
  00025	56		 push	 esi
  00026	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  0002b	83 c4 08	 add	 esp, 8
  0002e	3c 01		 cmp	 al, 1
  00030	74 33		 je	 SHORT $LN6@gObjMonste
  00032	6a 48		 push	 72			; 00000048H
  00034	56		 push	 esi
  00035	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  0003a	83 c4 08	 add	 esp, 8
  0003d	3c 01		 cmp	 al, 1
  0003f	74 24		 je	 SHORT $LN6@gObjMonste
  00041	68 92 00 00 00	 push	 146			; 00000092H
  00046	56		 push	 esi
  00047	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  0004c	83 c4 08	 add	 esp, 8
  0004f	3c 01		 cmp	 al, 1
  00051	74 12		 je	 SHORT $LN6@gObjMonste
  00053	68 93 00 00 00	 push	 147			; 00000093H
  00058	56		 push	 esi
  00059	e8 00 00 00 00	 call	 ?gObjCheckUsedBuffEffect@@YA_NPAUOBJECTSTRUCT@@H@Z ; gObjCheckUsedBuffEffect
  0005e	83 c4 08	 add	 esp, 8
  00061	3c 01		 cmp	 al, 1
  00063	75 07		 jne	 SHORT $LN5@gObjMonste
$LN6@gObjMonste:

; 587  : 			gObjCheckUsedBuffEffect(lpObj,BUFF_EARTHBINDS) == TRUE )
; 588  : 		{
; 589  : 			return FALSE;

  00065	33 c0		 xor	 eax, eax
  00067	5e		 pop	 esi

; 705  : }

  00068	8b e5		 mov	 esp, ebp
  0006a	5d		 pop	 ebp
  0006b	c3		 ret	 0
$LN5@gObjMonste:

; 590  : 		}
; 591  : 	}
; 592  : 
; 593  : 	if ( OBJMAX_RANGE(lpObj->TargetNumber) == FALSE )

  0006c	0f b7 8e 38 06
	00 00		 movzx	 ecx, WORD PTR [esi+1592]
  00073	66 85 c9	 test	 cx, cx
  00076	78 ed		 js	 SHORT $LN6@gObjMonste
  00078	33 c0		 xor	 eax, eax
  0007a	ba eb 2c 00 00	 mov	 edx, 11499		; 00002cebH
  0007f	66 3b ca	 cmp	 cx, dx
  00082	0f 9e c0	 setle	 al
  00085	85 c0		 test	 eax, eax
  00087	74 dc		 je	 SHORT $LN6@gObjMonste

; 594  : 	{
; 595  : 		return FALSE;
; 596  : 	}
; 597  : 
; 598  : 	lpTargetObj = &gObj[lpObj->TargetNumber];

  00089	57		 push	 edi
  0008a	0f bf c1	 movsx	 eax, cx
  0008d	69 f8 40 27 00
	00		 imul	 edi, eax, 10048
  00093	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00099	89 7d f0	 mov	 DWORD PTR _lpTargetObj$1$[ebp], edi

; 599  : 
; 600  : 	if ( lpTargetObj->Teleport != 0 )

  0009c	80 bf 88 05 00
	00 00		 cmp	 BYTE PTR [edi+1416], 0
  000a3	75 0d		 jne	 SHORT $LN43@gObjMonste

; 601  : 	{
; 602  : 		return FALSE;
; 603  : 	}
; 604  : 
; 605  : 	int vpn = gObjMonsterViewportIsCharacter(lpObj);

  000a5	56		 push	 esi
  000a6	e8 00 00 00 00	 call	 ?gObjMonsterViewportIsCharacter@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterViewportIsCharacter
  000ab	83 c4 04	 add	 esp, 4

; 606  : 
; 607  : 	if ( vpn < 0 )

  000ae	85 c0		 test	 eax, eax
  000b0	79 08		 jns	 SHORT $LN9@gObjMonste
$LN43@gObjMonste:
  000b2	5f		 pop	 edi

; 608  : 	{
; 609  : 		return FALSE;

  000b3	33 c0		 xor	 eax, eax
  000b5	5e		 pop	 esi

; 705  : }

  000b6	8b e5		 mov	 esp, ebp
  000b8	5d		 pop	 ebp
  000b9	c3		 ret	 0
$LN9@gObjMonste:

; 610  : 	}
; 611  : 	
; 612  : 	tpx = lpTargetObj->X;
; 613  : 	mtx = tpx;
; 614  : 	tpy = lpTargetObj->Y;
; 615  : 	mty = tpy;
; 616  : 	int dis;
; 617  : 
; 618  : 	if ( lpObj->m_AttackType >= 100 )

  000ba	66 83 be 92 06
	00 00 64	 cmp	 WORD PTR [esi+1682], 100 ; 00000064H

; 619  : 	{
; 620  : 		dis = lpObj->m_AttackRange + 2;

  000c2	0f bf 8e 90 06
	00 00		 movsx	 ecx, WORD PTR [esi+1680]
  000c9	53		 push	 ebx
  000ca	0f b6 9f 20 01
	00 00		 movzx	 ebx, BYTE PTR [edi+288]
  000d1	0f b6 bf 21 01
	00 00		 movzx	 edi, BYTE PTR [edi+289]
  000d8	8b c7		 mov	 eax, edi
  000da	89 5d 08	 mov	 DWORD PTR tv423[ebp], ebx
  000dd	89 5d f4	 mov	 DWORD PTR _mtx$2$[ebp], ebx
  000e0	89 45 fc	 mov	 DWORD PTR _tpy$1$[ebp], eax
  000e3	89 45 f8	 mov	 DWORD PTR _mty$2$[ebp], eax
  000e6	7c 03		 jl	 SHORT $LN11@gObjMonste
  000e8	83 c1 02	 add	 ecx, 2
$LN11@gObjMonste:

; 621  : 	}
; 622  : 	else
; 623  : 	{
; 624  : 		dis = lpObj->m_AttackRange;
; 625  : 	}
; 626  : 
; 627  : 	if ( lpObj->X < mtx )

  000eb	0f b6 96 20 01
	00 00		 movzx	 edx, BYTE PTR [esi+288]
  000f2	3b d3		 cmp	 edx, ebx
  000f4	7d 02		 jge	 SHORT $LN12@gObjMonste

; 628  : 	{
; 629  : 		tpx -= dis;

  000f6	2b d9		 sub	 ebx, ecx
$LN12@gObjMonste:

; 630  : 	}
; 631  : 
; 632  : 	if ( lpObj->X > mtx )

  000f8	3b 55 f4	 cmp	 edx, DWORD PTR _mtx$2$[ebp]
  000fb	7e 02		 jle	 SHORT $LN13@gObjMonste

; 633  : 	{
; 634  : 		tpx += dis;

  000fd	03 d9		 add	 ebx, ecx
$LN13@gObjMonste:

; 635  : 	}
; 636  : 
; 637  : 	if ( lpObj->Y < mty )

  000ff	0f b6 96 21 01
	00 00		 movzx	 edx, BYTE PTR [esi+289]
  00106	3b d0		 cmp	 edx, eax
  00108	7d 05		 jge	 SHORT $LN14@gObjMonste

; 638  : 	{
; 639  : 		tpy -= dis;

  0010a	2b c1		 sub	 eax, ecx
  0010c	89 45 fc	 mov	 DWORD PTR _tpy$1$[ebp], eax
$LN14@gObjMonste:

; 640  : 	}
; 641  : 
; 642  : 	if ( lpObj->Y > mty )

  0010f	3b d7		 cmp	 edx, edi
  00111	7e 05		 jle	 SHORT $LN15@gObjMonste

; 643  : 	{
; 644  : 		tpy += dis;

  00113	03 c1		 add	 eax, ecx
  00115	89 45 fc	 mov	 DWORD PTR _tpy$1$[ebp], eax
$LN15@gObjMonste:

; 645  : 	}
; 646  : 
; 647  : 	searchp = GetPathPacketDirPos( (lpTargetObj->X - tpx), (lpTargetObj->Y - tpy) ) * 2;

  00118	2b f8		 sub	 edi, eax
  0011a	8b 45 08	 mov	 eax, DWORD PTR tv423[ebp]
  0011d	2b c3		 sub	 eax, ebx
  0011f	57		 push	 edi
  00120	50		 push	 eax
  00121	e8 00 00 00 00	 call	 ?GetPathPacketDirPos@@YAEHH@Z ; GetPathPacketDirPos
  00126	0f b6 f8	 movzx	 edi, al
  00129	83 c4 08	 add	 esp, 8

; 648  : 
; 649  : 	if ( MapC[lpObj->MapNumber].GetStandAttr(tpx, tpy) == 0 )

  0012c	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  00133	03 ff		 add	 edi, edi
  00135	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  0013b	ff 75 fc	 push	 DWORD PTR _tpy$1$[ebp]
  0013e	53		 push	 ebx
  0013f	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  00145	e8 00 00 00 00	 call	 ?GetStandAttr@MapClass@@QAEHHH@Z ; MapClass::GetStandAttr
  0014a	85 c0		 test	 eax, eax
  0014c	0f 85 c2 00 00
	00		 jne	 $LN16@gObjMonste
  00152	b8 07 00 00 00	 mov	 eax, 7
  00157	66 0f 1f 84 00
	00 00 00 00	 npad	 9
$LL2@gObjMonste:

; 650  : 	{
; 651  : 		while ( searchcount-- )
; 652  : 		{
; 653  : 			mtx = lpTargetObj->X + RoadPathTable[searchp];

  00160	8b 5d f0	 mov	 ebx, DWORD PTR _lpTargetObj$1$[ebp]
  00163	48		 dec	 eax
  00164	0f bf 0c 7d 00
	00 00 00	 movsx	 ecx, WORD PTR ?RoadPathTable@@3PAFA[edi*2]

; 654  : 			mty = lpTargetObj->Y + RoadPathTable[1+searchp];

  0016c	0f bf 14 7d 02
	00 00 00	 movsx	 edx, WORD PTR ?RoadPathTable@@3PAFA[edi*2+2]
  00174	89 45 f4	 mov	 DWORD PTR _searchcount$1$[ebp], eax
  00177	0f b6 83 20 01
	00 00		 movzx	 eax, BYTE PTR [ebx+288]
  0017e	03 c8		 add	 ecx, eax
  00180	0f b6 83 21 01
	00 00		 movzx	 eax, BYTE PTR [ebx+289]
  00187	03 d0		 add	 edx, eax
  00189	89 4d 08	 mov	 DWORD PTR _mtx$1$[ebp], ecx

; 655  : 			attr = MapC[lpObj->MapNumber].GetAttr(mtx, mty);

  0018c	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  00193	52		 push	 edx
  00194	51		 push	 ecx
  00195	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  0019b	89 55 fc	 mov	 DWORD PTR _mty$1$[ebp], edx
  0019e	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  001a4	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 656  : 			result = gObjMonsterMoveCheck(lpObj, mtx, mty);

  001a9	ff 75 fc	 push	 DWORD PTR _mty$1$[ebp]
  001ac	8a d8		 mov	 bl, al
  001ae	ff 75 08	 push	 DWORD PTR _mtx$1$[ebp]
  001b1	56		 push	 esi
  001b2	e8 00 00 00 00	 call	 ?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z ; gObjMonsterMoveCheck

; 657  : 
; 658  : 			if ( lpObj->Class == 249 )

  001b7	b9 f9 00 00 00	 mov	 ecx, 249		; 000000f9H
  001bc	83 c4 0c	 add	 esp, 12			; 0000000cH
  001bf	66 39 8e 90 00
	00 00		 cmp	 WORD PTR [esi+144], cx
  001c6	75 05		 jne	 SHORT $LN17@gObjMonste

; 659  : 			{
; 660  : 				if ( (attr&2)!=2 && result == TRUE )

  001c8	f6 c3 02	 test	 bl, 2

; 661  : 				{
; 662  : 					lpObj->MTX = mtx;
; 663  : 					lpObj->MTY = mty;
; 664  : 					return TRUE;
; 665  : 				}
; 666  : 			}

  001cb	eb 03		 jmp	 SHORT $LN45@gObjMonste
$LN17@gObjMonste:
  001cd	f6 c3 0f	 test	 bl, 15			; 0000000fH
$LN45@gObjMonste:

; 667  : 			else if ( (attr&1) != 1 && (attr&2) != 2 && (attr&4) != 4 && (attr&8) != 8 && result == TRUE )

  001d0	75 05		 jne	 SHORT $LN20@gObjMonste
  001d2	83 f8 01	 cmp	 eax, 1
  001d5	74 1f		 je	 SHORT $LN31@gObjMonste
$LN20@gObjMonste:

; 670  : 				lpObj->MTY = mty;
; 671  : 				return TRUE;
; 672  : 			}
; 673  : 
; 674  : 			searchp += 2;

  001d7	83 c7 02	 add	 edi, 2

; 675  : 
; 676  : 			if ( searchp > MAX_ROAD_PATH_TABLE-1 )

  001da	33 c0		 xor	 eax, eax
  001dc	83 ff 0f	 cmp	 edi, 15			; 0000000fH
  001df	0f 4f f8	 cmovg	 edi, eax
  001e2	8b 45 f4	 mov	 eax, DWORD PTR _searchcount$1$[ebp]
  001e5	85 c0		 test	 eax, eax
  001e7	0f 85 73 ff ff
	ff		 jne	 $LL2@gObjMonste
$LN25@gObjMonste:
  001ed	5b		 pop	 ebx
  001ee	5f		 pop	 edi

; 702  : 	}
; 703  : 
; 704  : 	return FALSE;

  001ef	33 c0		 xor	 eax, eax
  001f1	5e		 pop	 esi

; 705  : }

  001f2	8b e5		 mov	 esp, ebp
  001f4	5d		 pop	 ebp
  001f5	c3		 ret	 0
$LN31@gObjMonste:

; 668  : 			{
; 669  : 				lpObj->MTX = mtx;

  001f6	8b 45 08	 mov	 eax, DWORD PTR _mtx$1$[ebp]
  001f9	88 86 54 01 00
	00		 mov	 BYTE PTR [esi+340], al

; 698  : 	{
; 699  : 		lpObj->MTX = tpx;
; 700  : 		lpObj->MTY = tpy;

  001ff	8b 45 fc	 mov	 eax, DWORD PTR _tpy$1$[ebp]
  00202	5b		 pop	 ebx
  00203	88 86 55 01 00
	00		 mov	 BYTE PTR [esi+341], al

; 701  : 		return TRUE;

  00209	b8 01 00 00 00	 mov	 eax, 1
  0020e	5f		 pop	 edi
  0020f	5e		 pop	 esi

; 705  : }

  00210	8b e5		 mov	 esp, ebp
  00212	5d		 pop	 ebp
  00213	c3		 ret	 0
$LN16@gObjMonste:

; 677  : 			{
; 678  : 				searchp = 0;
; 679  : 			}
; 680  : 		}
; 681  : 
; 682  : 		return FALSE;
; 683  : 	}
; 684  : 
; 685  : 	attr = MapC[lpObj->MapNumber].GetAttr(tpx, tpy);

  00214	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  0021b	ff 75 fc	 push	 DWORD PTR _tpy$1$[ebp]
  0021e	69 c8 28 38 05
	00		 imul	 ecx, eax, 342056
  00224	53		 push	 ebx
  00225	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  0022b	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 686  : 	result = gObjMonsterMoveCheck(lpObj, mtx, mty);

  00230	ff 75 f8	 push	 DWORD PTR _mty$2$[ebp]
  00233	88 45 0b	 mov	 BYTE PTR _attr$2$[ebp], al
  00236	ff 75 f4	 push	 DWORD PTR _mtx$2$[ebp]
  00239	56		 push	 esi
  0023a	e8 00 00 00 00	 call	 ?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z ; gObjMonsterMoveCheck

; 687  : 
; 688  : 	if ( lpObj->Class == 249 )

  0023f	b9 f9 00 00 00	 mov	 ecx, 249		; 000000f9H
  00244	83 c4 0c	 add	 esp, 12			; 0000000cH
  00247	66 39 8e 90 00
	00 00		 cmp	 WORD PTR [esi+144], cx
  0024e	75 06		 jne	 SHORT $LN22@gObjMonste

; 689  : 	{
; 690  : 		if ( (attr&2)!=2 && result == TRUE )

  00250	f6 45 0b 02	 test	 BYTE PTR _attr$2$[ebp], 2

; 691  : 		{
; 692  : 			lpObj->MTX = tpx;
; 693  : 			lpObj->MTY = tpy;
; 694  : 			return TRUE;

  00254	eb 04		 jmp	 SHORT $LN41@gObjMonste
$LN22@gObjMonste:
  00256	f6 45 0b 0f	 test	 BYTE PTR _attr$2$[ebp], 15 ; 0000000fH
$LN41@gObjMonste:

; 695  : 		}
; 696  : 	}
; 697  : 	else if ( (attr&1) != 1 && (attr&2) != 2 && (attr&4) != 4 && (attr&8) != 8 && result == TRUE )

  0025a	75 91		 jne	 SHORT $LN25@gObjMonste
  0025c	83 f8 01	 cmp	 eax, 1
  0025f	75 8c		 jne	 SHORT $LN25@gObjMonste

; 698  : 	{
; 699  : 		lpObj->MTX = tpx;
; 700  : 		lpObj->MTY = tpy;

  00261	8b 45 fc	 mov	 eax, DWORD PTR _tpy$1$[ebp]
  00264	88 9e 54 01 00
	00		 mov	 BYTE PTR [esi+340], bl
  0026a	5b		 pop	 ebx
  0026b	88 86 55 01 00
	00		 mov	 BYTE PTR [esi+341], al

; 701  : 		return TRUE;

  00271	b8 01 00 00 00	 mov	 eax, 1
  00276	5f		 pop	 edi
  00277	5e		 pop	 esi

; 705  : }

  00278	8b e5		 mov	 esp, ebp
  0027a	5d		 pop	 ebp
  0027b	c3		 ret	 0
?gObjMonsterGetTargetPos@@YAHPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterGetTargetPos
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z
_TEXT	SEGMENT
tv203 = -8						; size = 4
tv204 = -4						; size = 4
_lpObj$ = 8						; size = 4
_tx$ = 12						; size = 4
_ty$ = 16						; size = 4
?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z PROC	; gObjMonsterMoveCheck, COMDAT

; 448  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 e4 f8	 and	 esp, -8			; fffffff8H
  00006	83 ec 0c	 sub	 esp, 12			; 0000000cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi

; 449  : #ifdef __NOVUS__
; 450  : 	if( lpObj->m_SummonTick > 0 )
; 451  : 	{
; 452  : 		tx -= lpObj->StartX;
; 453  : 		ty -= lpObj->StartY;
; 454  : 		int dis = (int)(sqrt(tx*tx + ty*ty));
; 455  : 		// ----
; 456  : 		if( dis > 5 )
; 457  : 		{
; 458  : 			return false;
; 459  : 		}
; 460  : 	}
; 461  : #endif
; 462  : 
; 463  : #if (GS_SPEC == 1)
; 464  : 	if ( lpObj->m_ActState.Emotion  == 1 )

  0000b	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  0000e	57		 push	 edi
  0000f	8b 86 c8 01 00
	00		 mov	 eax, DWORD PTR [esi+456]
  00015	24 f0		 and	 al, 240			; 000000f0H
  00017	3c 10		 cmp	 al, 16			; 00000010H
  00019	0f 84 d1 00 00
	00		 je	 $LN8@gObjMonste

; 465  : 	{
; 466  : 		return TRUE;
; 467  : 	}
; 468  : 	else if ( lpObj->MapNumber == MAP_INDEX_KANTURU_BOSS && lpObj->m_PosNum < 0)

  0001f	80 be 23 01 00
	00 27		 cmp	 BYTE PTR [esi+291], 39	; 00000027H
  00026	75 7a		 jne	 SHORT $LN4@gObjMonste
  00028	66 83 be 98 05
	00 00 00	 cmp	 WORD PTR [esi+1432], 0
  00030	7d 70		 jge	 SHORT $LN4@gObjMonste

; 469  : 	{
; 470  : 		tx -= lpObj->StartX;

  00032	0f b6 86 4e 01
	00 00		 movzx	 eax, BYTE PTR [esi+334]
  00039	8b 7d 0c	 mov	 edi, DWORD PTR _tx$[ebp]

; 471  : 		ty -= lpObj->StartY;

  0003c	8b 5d 10	 mov	 ebx, DWORD PTR _ty$[ebp]
  0003f	2b f8		 sub	 edi, eax
  00041	89 44 24 14	 mov	 DWORD PTR tv204[esp+24], eax

; 472  : 		int dis = (int)(sqrt(double(tx * tx + ty * ty)));

  00045	8b cf		 mov	 ecx, edi
  00047	0f b6 86 4f 01
	00 00		 movzx	 eax, BYTE PTR [esi+335]
  0004e	2b d8		 sub	 ebx, eax
  00050	89 44 24 10	 mov	 DWORD PTR tv203[esp+24], eax
  00054	8b c3		 mov	 eax, ebx
  00056	0f af cf	 imul	 ecx, edi
  00059	0f af c3	 imul	 eax, ebx
  0005c	03 c8		 add	 ecx, eax
  0005e	66 0f 6e c1	 movd	 xmm0, ecx
  00062	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  00066	e8 00 00 00 00	 call	 __libm_sse2_sqrt_precise
  0006b	f2 0f 2c c0	 cvttsd2si eax, xmm0

; 473  : 
; 474  : 		if ( dis > 30 )

  0006f	83 f8 1e	 cmp	 eax, 30			; 0000001eH
  00072	7e 7c		 jle	 SHORT $LN8@gObjMonste

; 475  : 		{
; 476  : 			LogAddTD("[ KANTURU ][ Debug - m_PosNum ] Fail %s(Index:%d) X%d-Y%d -> X%d-Y%d(%d)",

  00074	50		 push	 eax
  00075	0f b7 86 90 00
	00 00		 movzx	 eax, WORD PTR [esi+144]
  0007c	53		 push	 ebx
  0007d	57		 push	 edi
  0007e	ff 74 24 1c	 push	 DWORD PTR tv203[esp+36]
  00082	ff 74 24 24	 push	 DWORD PTR tv204[esp+40]
  00086	50		 push	 eax
  00087	8d 46 5d	 lea	 eax, DWORD PTR [esi+93]
  0008a	50		 push	 eax
  0008b	68 00 00 00 00	 push	 OFFSET ??_C@_0EJ@LOBMAKBH@?$FL?5KANTURU?5?$FN?$FL?5Debug?5?9?5m_PosNum?5?$FN?5@
  00090	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00096	83 c4 20	 add	 esp, 32			; 00000020H
$LN10@gObjMonste:

; 477  : 				lpObj->Name, lpObj->Class, lpObj->StartX, lpObj->StartY, tx, ty, dis);
; 478  : 			return FALSE;

  00099	33 c0		 xor	 eax, eax

; 496  : 		{
; 497  : 			return FALSE;
; 498  : 		}	
; 499  : 	}
; 500  : #else
; 501  : 
; 502  : #if (GS_CASTLE == 1)
; 503  : 	if ( lpObj->m_ActState.Emotion  == 1 )
; 504  : 	{
; 505  : 		return TRUE;
; 506  : 	}
; 507  : 	else
; 508  : 	{
; 509  : 		LPMONSTER_POSITION lpPos = &gMSetBase.m_Mp[lpObj->m_PosNum];
; 510  : 
; 511  : 		if ( lpPos->m_Dis < 1 )
; 512  : 		{
; 513  : 			return FALSE;
; 514  : 		}
; 515  : 
; 516  : 		tx -= lpObj->StartX;
; 517  : 		ty -= lpObj->StartY;
; 518  : 
; 519  : 		int dis = sqrt(tx * tx + ty * ty);
; 520  : 
; 521  : 		if ( dis > lpPos->m_Dis)
; 522  : 		{
; 523  : 			return FALSE;
; 524  : 		}	
; 525  : 	}
; 526  : #endif
; 527  : #if (GS_CASTLE == 0)
; 528  : 	if ( lpObj->MapNumber == MAP_INDEX_KANTURU_BOSS && lpObj->m_PosNum < 0)
; 529  : 	{
; 530  : 		tx -= lpObj->StartX;
; 531  : 		ty -= lpObj->StartY;
; 532  : 		int dis = sqrt(tx*tx + ty*ty);
; 533  : 
; 534  : 		if ( dis > 30 )
; 535  : 		{
; 536  : 			LogAddTD("[ KANTURU ][ Debug - m_PosNum ] Fail %s(Index:%d) X%d-Y%d -> X%d-Y%d(%d)",
; 537  : 				lpObj->Name, lpObj->Class, lpObj->StartX, lpObj->StartY, tx, ty, dis);
; 538  : 			return FALSE;
; 539  : 		}
; 540  : 	}
; 541  : 	else
; 542  : 	{
; 543  : 		LPMONSTER_POSITION lpPos = &gMSetBase.m_Mp[lpObj->m_PosNum];
; 544  : 
; 545  : 		if ( lpPos->m_Dis < 1 )
; 546  : 		{
; 547  : 			return FALSE;
; 548  : 		}
; 549  : 
; 550  : 		tx -= lpObj->StartX;
; 551  : 		ty -= lpObj->StartY;
; 552  : 
; 553  : 		int dis = sqrt(tx * tx + ty * ty);
; 554  : 
; 555  : 		if ( dis > lpPos->m_Dis)
; 556  : 		{
; 557  : 			return FALSE;
; 558  : 		}	
; 559  : 	}
; 560  : #endif
; 561  : 	
; 562  : #endif
; 563  : 	return TRUE;
; 564  : }

  0009b	5f		 pop	 edi
  0009c	5e		 pop	 esi
  0009d	5b		 pop	 ebx
  0009e	8b e5		 mov	 esp, ebp
  000a0	5d		 pop	 ebp
  000a1	c3		 ret	 0
$LN4@gObjMonste:

; 479  : 		}
; 480  : 	}
; 481  : 	else
; 482  : 	{
; 483  : 		LPMONSTER_POSITION lpPos = &gMSetBase.m_Mp[lpObj->m_PosNum];

  000a2	0f bf 86 98 05
	00 00		 movsx	 eax, WORD PTR [esi+1432]
  000a9	8d 04 80	 lea	 eax, DWORD PTR [eax+eax*4]

; 484  : 
; 485  : 		if ( lpPos->m_Dis < 1 )

  000ac	8a 1c 85 09 00
	00 00		 mov	 bl, BYTE PTR ?gMSetBase@@3VCMonsterSetBase@@A[eax*4+9]
  000b3	80 fb 01	 cmp	 bl, 1
  000b6	72 e1		 jb	 SHORT $LN10@gObjMonste

; 486  : 		{
; 487  : 			return FALSE;
; 488  : 		}
; 489  : 
; 490  : 		tx -= lpObj->StartX;

  000b8	0f b6 86 4e 01
	00 00		 movzx	 eax, BYTE PTR [esi+334]
  000bf	8b 55 0c	 mov	 edx, DWORD PTR _tx$[ebp]

; 491  : 		ty -= lpObj->StartY;

  000c2	8b 4d 10	 mov	 ecx, DWORD PTR _ty$[ebp]
  000c5	2b d0		 sub	 edx, eax
  000c7	0f b6 86 4f 01
	00 00		 movzx	 eax, BYTE PTR [esi+335]
  000ce	2b c8		 sub	 ecx, eax

; 492  : 
; 493  : 		int dis = (int)(sqrt(double(tx * tx + ty * ty)));

  000d0	0f af d2	 imul	 edx, edx
  000d3	0f af c9	 imul	 ecx, ecx
  000d6	03 d1		 add	 edx, ecx
  000d8	66 0f 6e c2	 movd	 xmm0, edx
  000dc	f3 0f e6 c0	 cvtdq2pd xmm0, xmm0
  000e0	e8 00 00 00 00	 call	 __libm_sse2_sqrt_precise
  000e5	f2 0f 2c c8	 cvttsd2si ecx, xmm0

; 494  : 
; 495  : 		if ( dis > lpPos->m_Dis)

  000e9	0f b6 c3	 movzx	 eax, bl
  000ec	3b c8		 cmp	 ecx, eax
  000ee	7f a9		 jg	 SHORT $LN10@gObjMonste
$LN8@gObjMonste:

; 496  : 		{
; 497  : 			return FALSE;
; 498  : 		}	
; 499  : 	}
; 500  : #else
; 501  : 
; 502  : #if (GS_CASTLE == 1)
; 503  : 	if ( lpObj->m_ActState.Emotion  == 1 )
; 504  : 	{
; 505  : 		return TRUE;
; 506  : 	}
; 507  : 	else
; 508  : 	{
; 509  : 		LPMONSTER_POSITION lpPos = &gMSetBase.m_Mp[lpObj->m_PosNum];
; 510  : 
; 511  : 		if ( lpPos->m_Dis < 1 )
; 512  : 		{
; 513  : 			return FALSE;
; 514  : 		}
; 515  : 
; 516  : 		tx -= lpObj->StartX;
; 517  : 		ty -= lpObj->StartY;
; 518  : 
; 519  : 		int dis = sqrt(tx * tx + ty * ty);
; 520  : 
; 521  : 		if ( dis > lpPos->m_Dis)
; 522  : 		{
; 523  : 			return FALSE;
; 524  : 		}	
; 525  : 	}
; 526  : #endif
; 527  : #if (GS_CASTLE == 0)
; 528  : 	if ( lpObj->MapNumber == MAP_INDEX_KANTURU_BOSS && lpObj->m_PosNum < 0)
; 529  : 	{
; 530  : 		tx -= lpObj->StartX;
; 531  : 		ty -= lpObj->StartY;
; 532  : 		int dis = sqrt(tx*tx + ty*ty);
; 533  : 
; 534  : 		if ( dis > 30 )
; 535  : 		{
; 536  : 			LogAddTD("[ KANTURU ][ Debug - m_PosNum ] Fail %s(Index:%d) X%d-Y%d -> X%d-Y%d(%d)",
; 537  : 				lpObj->Name, lpObj->Class, lpObj->StartX, lpObj->StartY, tx, ty, dis);
; 538  : 			return FALSE;
; 539  : 		}
; 540  : 	}
; 541  : 	else
; 542  : 	{
; 543  : 		LPMONSTER_POSITION lpPos = &gMSetBase.m_Mp[lpObj->m_PosNum];
; 544  : 
; 545  : 		if ( lpPos->m_Dis < 1 )
; 546  : 		{
; 547  : 			return FALSE;
; 548  : 		}
; 549  : 
; 550  : 		tx -= lpObj->StartX;
; 551  : 		ty -= lpObj->StartY;
; 552  : 
; 553  : 		int dis = sqrt(tx * tx + ty * ty);
; 554  : 
; 555  : 		if ( dis > lpPos->m_Dis)
; 556  : 		{
; 557  : 			return FALSE;
; 558  : 		}	
; 559  : 	}
; 560  : #endif
; 561  : 	
; 562  : #endif
; 563  : 	return TRUE;
; 564  : }

  000f0	5f		 pop	 edi
  000f1	5e		 pop	 esi
  000f2	b8 01 00 00 00	 mov	 eax, 1
  000f7	5b		 pop	 ebx
  000f8	8b e5		 mov	 esp, ebp
  000fa	5d		 pop	 ebp
  000fb	c3		 ret	 0
?gObjMonsterMoveCheck@@YAHPAUOBJECTSTRUCT@@HH@Z ENDP	; gObjMonsterMoveCheck
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterLastHitDamageUser@@YAHPAUOBJECTSTRUCT@@AAH@Z
_TEXT	SEGMENT
_lpMonObj$ = 8						; size = 4
_hitindex$ = 12						; size = 4
?gObjMonsterLastHitDamageUser@@YAHPAUOBJECTSTRUCT@@AAH@Z PROC ; gObjMonsterLastHitDamageUser, COMDAT

; 427  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 428  : 	DWORD LastHitTime = 0;

  00003	8b 4d 08	 mov	 ecx, DWORD PTR _lpMonObj$[ebp]

; 429  : 	int LastHitUser = -1;
; 430  : 
; 431  : 	for ( int n=0;n<MAX_ST_HIT_DAMAGE;n++)

  00006	33 d2		 xor	 edx, edx
  00008	53		 push	 ebx
  00009	56		 push	 esi
  0000a	57		 push	 edi
  0000b	33 ff		 xor	 edi, edi
  0000d	83 cb ff	 or	 ebx, -1
  00010	81 c1 d4 0f 00
	00		 add	 ecx, 4052		; 00000fd4H
$LL4@gObjMonste:

; 432  : 	{
; 433  : 		if ( lpMonObj->sHD[n].number >= 0 )

  00016	0f b7 01	 movzx	 eax, WORD PTR [ecx]
  00019	66 85 c0	 test	 ax, ax
  0001c	78 11		 js	 SHORT $LN2@gObjMonste

; 434  : 		{
; 435  : 			if ( lpMonObj->sHD[n].LastHitTime > LastHitTime )

  0001e	8b 71 08	 mov	 esi, DWORD PTR [ecx+8]
  00021	3b f7		 cmp	 esi, edi
  00023	76 0a		 jbe	 SHORT $LN2@gObjMonste

; 436  : 			{
; 437  : 				LastHitTime = lpMonObj->sHD[n].LastHitTime;
; 438  : 				LastHitUser = lpMonObj->sHD[n].number;

  00025	0f bf d8	 movsx	 ebx, ax
  00028	8b fe		 mov	 edi, esi

; 439  : 				hitindex = n;

  0002a	8b 45 0c	 mov	 eax, DWORD PTR _hitindex$[ebp]
  0002d	89 10		 mov	 DWORD PTR [eax], edx
$LN2@gObjMonste:

; 429  : 	int LastHitUser = -1;
; 430  : 
; 431  : 	for ( int n=0;n<MAX_ST_HIT_DAMAGE;n++)

  0002f	42		 inc	 edx
  00030	83 c1 0c	 add	 ecx, 12			; 0000000cH
  00033	83 fa 28	 cmp	 edx, 40			; 00000028H
  00036	7c de		 jl	 SHORT $LL4@gObjMonste

; 440  : 			}
; 441  : 		}
; 442  : 	}
; 443  : 
; 444  : 	return LastHitUser;

  00038	5f		 pop	 edi
  00039	5e		 pop	 esi
  0003a	8b c3		 mov	 eax, ebx
  0003c	5b		 pop	 ebx

; 445  : }

  0003d	5d		 pop	 ebp
  0003e	c3		 ret	 0
?gObjMonsterLastHitDamageUser@@YAHPAUOBJECTSTRUCT@@AAH@Z ENDP ; gObjMonsterLastHitDamageUser
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_lpMonObj$ = 8						; size = 4
?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z PROC ; gObjMonsterTopHitDamageUser, COMDAT

; 407  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 408  : 	int MaxHitDamage = 0;

  00003	8b 4d 08	 mov	 ecx, DWORD PTR _lpMonObj$[ebp]
  00006	53		 push	 ebx
  00007	56		 push	 esi
  00008	57		 push	 edi
  00009	33 ff		 xor	 edi, edi

; 409  : 	int MaxHitDamageUser = -1;

  0000b	83 cb ff	 or	 ebx, -1
  0000e	81 c1 d4 0f 00
	00		 add	 ecx, 4052		; 00000fd4H
  00014	8d 77 28	 lea	 esi, DWORD PTR [edi+40]
$LL4@gObjMonste:

; 412  : 	{
; 413  : 		if ( lpMonObj->sHD[n].number >= 0 )

  00017	0f b7 01	 movzx	 eax, WORD PTR [ecx]
  0001a	66 85 c0	 test	 ax, ax
  0001d	78 0c		 js	 SHORT $LN2@gObjMonste

; 414  : 		{
; 415  : 			if ( lpMonObj->sHD[n].HitDamage > MaxHitDamage )

  0001f	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00022	3b d7		 cmp	 edx, edi
  00024	7e 05		 jle	 SHORT $LN2@gObjMonste

; 416  : 			{
; 417  : 				MaxHitDamage = lpMonObj->sHD[n].HitDamage;

  00026	8b fa		 mov	 edi, edx

; 418  : 				MaxHitDamageUser = lpMonObj->sHD[n].number;

  00028	0f bf d8	 movsx	 ebx, ax
$LN2@gObjMonste:

; 410  : 
; 411  : 	for ( int n=0;n<MAX_ST_HIT_DAMAGE;n++)

  0002b	83 c1 0c	 add	 ecx, 12			; 0000000cH
  0002e	83 ee 01	 sub	 esi, 1
  00031	75 e4		 jne	 SHORT $LL4@gObjMonste

; 419  : 			}
; 420  : 		}
; 421  : 	}
; 422  : 
; 423  : 	return MaxHitDamageUser;

  00033	5f		 pop	 edi
  00034	5e		 pop	 esi
  00035	8b c3		 mov	 eax, ebx
  00037	5b		 pop	 ebx

; 424  : }

  00038	5d		 pop	 ebp
  00039	c3		 ret	 0
?gObjMonsterTopHitDamageUser@@YAHPAUOBJECTSTRUCT@@@Z ENDP ; gObjMonsterTopHitDamageUser
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterSetHitDamage@@YAXPAUOBJECTSTRUCT@@HH@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
_hit_player$ = 12					; size = 4
_hit_damage$ = 16					; size = 4
?gObjMonsterSetHitDamage@@YAXPAUOBJECTSTRUCT@@HH@Z PROC	; gObjMonsterSetHitDamage, COMDAT

; 356  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx

; 357  : 	int blank = -1;

  00004	8b 5d 0c	 mov	 ebx, DWORD PTR _hit_player$[ebp]
  00007	83 c9 ff	 or	 ecx, -1
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8b 7d 08	 mov	 edi, DWORD PTR _lpObj$[ebp]

; 358  : 
; 359  : 	for (int n=0;n<MAX_ST_HIT_DAMAGE;n++)

  0000f	33 f6		 xor	 esi, esi
  00011	8d 97 d4 0f 00
	00		 lea	 edx, DWORD PTR [edi+4052]
$LL4@gObjMonste:

; 360  : 	{
; 361  : 		if ( lpObj->sHD[n].number >= 0 )

  00017	0f b7 02	 movzx	 eax, WORD PTR [edx]
  0001a	66 85 c0	 test	 ax, ax
  0001d	78 4f		 js	 SHORT $LN5@gObjMonste

; 362  : 		{
; 363  : 			if ( lpObj->sHD[n].number == hit_player )

  0001f	98		 cwde
  00020	3b c3		 cmp	 eax, ebx
  00022	75 4f		 jne	 SHORT $LN2@gObjMonste

; 364  : 			{
; 365  : 				
; 366  : 				lpObj->sHD[n].HitDamage += hit_damage;

  00024	8b 45 10	 mov	 eax, DWORD PTR _hit_damage$[ebp]
  00027	8d 1c 76	 lea	 ebx, DWORD PTR [esi+esi*2]
  0002a	01 84 9f d8 0f
	00 00		 add	 DWORD PTR [edi+ebx*4+4056], eax

; 367  : 				lpObj->sHD[n].LastHitTime = GetTickCount();

  00031	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00037	66 0f 6e 84 9f
	d8 0f 00 00	 movd	 xmm0, DWORD PTR [edi+ebx*4+4056]
  00040	8d 0c 76	 lea	 ecx, DWORD PTR [esi+esi*2]

; 368  : 
; 369  : 				if ( lpObj->sHD[n].HitDamage > lpObj->MaxLife )

  00043	0f 5b c0	 cvtdq2ps xmm0, xmm0
  00046	89 84 8f dc 0f
	00 00		 mov	 DWORD PTR [edi+ecx*4+4060], eax
  0004d	f3 0f 10 8f dc
	00 00 00	 movss	 xmm1, DWORD PTR [edi+220]
  00055	0f 2f c1	 comiss	 xmm0, xmm1
  00058	0f 86 8f 00 00
	00		 jbe	 $LN12@gObjMonste

; 370  : 				{
; 371  : 					lpObj->sHD[n].HitDamage = (int)lpObj->MaxLife;

  0005e	f3 0f 2c c1	 cvttss2si eax, xmm1
  00062	89 84 9f d8 0f
	00 00		 mov	 DWORD PTR [edi+ebx*4+4056], eax
  00069	5f		 pop	 edi
  0006a	5e		 pop	 esi
  0006b	5b		 pop	 ebx

; 403  : 	}
; 404  : }

  0006c	5d		 pop	 ebp
  0006d	c3		 ret	 0
$LN5@gObjMonste:

; 372  : 				}
; 373  : 				return;
; 374  : 			}
; 375  : 		}
; 376  : 		else if ( blank < 0 )

  0006e	85 c9		 test	 ecx, ecx
  00070	0f 48 ce	 cmovs	 ecx, esi
$LN2@gObjMonste:

; 358  : 
; 359  : 	for (int n=0;n<MAX_ST_HIT_DAMAGE;n++)

  00073	46		 inc	 esi
  00074	83 c2 0c	 add	 edx, 12			; 0000000cH
  00077	83 fe 28	 cmp	 esi, 40			; 00000028H
  0007a	7c 9b		 jl	 SHORT $LL4@gObjMonste

; 377  : 		{
; 378  : 			blank = n;
; 379  : 		}
; 380  : 	}
; 381  : 
; 382  : 	if ( blank < 0 )

  0007c	85 c9		 test	 ecx, ecx
  0007e	79 22		 jns	 SHORT $LN20@gObjMonste

; 383  : 	{
; 384  : 		blank = gObjMonsterHitDamageUserDel(lpObj);

  00080	57		 push	 edi
  00081	e8 00 00 00 00	 call	 ?gObjMonsterHitDamageUserDel@@YAHPAUOBJECTSTRUCT@@@Z ; gObjMonsterHitDamageUserDel
  00086	8b c8		 mov	 ecx, eax
  00088	83 c4 04	 add	 esp, 4

; 385  : 	}
; 386  : 
; 387  : 	if ( blank >= 0 )

  0008b	85 c9		 test	 ecx, ecx
  0008d	79 13		 jns	 SHORT $LN20@gObjMonste

; 399  : 	}
; 400  : 	else
; 401  : 	{
; 402  : 		LogAdd("error-L2 : Hit Damage Set error");

  0008f	68 00 00 00 00	 push	 OFFSET ??_C@_0CA@MINPGEPL@error?9L2?5?3?5Hit?5Damage?5Set?5error?$AA@
  00094	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0009a	83 c4 04	 add	 esp, 4
  0009d	5f		 pop	 edi
  0009e	5e		 pop	 esi
  0009f	5b		 pop	 ebx

; 403  : 	}
; 404  : }

  000a0	5d		 pop	 ebp
  000a1	c3		 ret	 0
$LN20@gObjMonste:

; 388  : 	{
; 389  : 		lpObj->sHD[blank].number = hit_player;
; 390  : 		lpObj->sHD[blank].HitDamage = hit_damage;

  000a2	8b 45 10	 mov	 eax, DWORD PTR _hit_damage$[ebp]
  000a5	8d 34 49	 lea	 esi, DWORD PTR [ecx+ecx*2]
  000a8	8d 0c 49	 lea	 ecx, DWORD PTR [ecx+ecx*2]
  000ab	66 89 9c b7 d4
	0f 00 00	 mov	 WORD PTR [edi+esi*4+4052], bx
  000b3	89 84 8f d8 0f
	00 00		 mov	 DWORD PTR [edi+ecx*4+4056], eax

; 391  : 
; 392  : 		if ( lpObj->sHD[blank].HitDamage > lpObj->MaxLife )

  000ba	f3 0f 10 8f dc
	00 00 00	 movss	 xmm1, DWORD PTR [edi+220]
  000c2	66 0f 6e c0	 movd	 xmm0, eax
  000c6	0f 5b c0	 cvtdq2ps xmm0, xmm0
  000c9	0f 2f c1	 comiss	 xmm0, xmm1
  000cc	76 0b		 jbe	 SHORT $LN13@gObjMonste

; 393  : 		{
; 394  : 			lpObj->sHD[blank].HitDamage = (int)(lpObj->MaxLife);

  000ce	f3 0f 2c c1	 cvttss2si eax, xmm1
  000d2	89 84 8f d8 0f
	00 00		 mov	 DWORD PTR [edi+ecx*4+4056], eax
$LN13@gObjMonste:

; 395  : 		}
; 396  : 
; 397  : 		lpObj->sHD[blank].LastHitTime = GetTickCount();

  000d9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  000df	89 84 b7 dc 0f
	00 00		 mov	 DWORD PTR [edi+esi*4+4060], eax

; 398  : 		lpObj->sHDCount++;

  000e6	66 ff 87 b4 11
	00 00		 inc	 WORD PTR [edi+4532]
$LN12@gObjMonste:
  000ed	5f		 pop	 edi
  000ee	5e		 pop	 esi
  000ef	5b		 pop	 ebx

; 403  : 	}
; 404  : }

  000f0	5d		 pop	 ebp
  000f1	c3		 ret	 0
?gObjMonsterSetHitDamage@@YAXPAUOBJECTSTRUCT@@HH@Z ENDP	; gObjMonsterSetHitDamage
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterHitDamageUserDel@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_delindex$1$ = -8					; size = 4
_delok$2$ = -4						; size = 4
_lpObj$ = 8						; size = 4
?gObjMonsterHitDamageUserDel@@YAHPAUOBJECTSTRUCT@@@Z PROC ; gObjMonsterHitDamageUserDel, COMDAT

; 309  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	53		 push	 ebx

; 310  : 	int delok = 0;
; 311  : 	int delindex = -1;

  00007	8b 5d 08	 mov	 ebx, DWORD PTR _lpObj$[ebp]
  0000a	83 c9 ff	 or	 ecx, -1
  0000d	56		 push	 esi
  0000e	57		 push	 edi
  0000f	89 4d f8	 mov	 DWORD PTR _delindex$1$[ebp], ecx

; 312  : 
; 313  : 	for ( int n = 0;n<MAX_ST_HIT_DAMAGE ; n++ )

  00012	33 ff		 xor	 edi, edi
  00014	8d b3 d4 0f 00
	00		 lea	 esi, DWORD PTR [ebx+4052]
  0001a	66 0f 1f 44 00
	00		 npad	 6
$LL4@gObjMonste:

; 314  : 	{
; 315  : 		if ( lpObj->sHD[n].number >= 0 )

  00020	0f b7 06	 movzx	 eax, WORD PTR [esi]
  00023	66 85 c0	 test	 ax, ax
  00026	0f 88 8a 00 00
	00		 js	 $LN2@gObjMonste

; 316  : 		{
; 317  : 			delok = FALSE;
; 318  : 
; 319  : 			if ( gObjIsConnected(lpObj->sHD[n].number ) == TRUE )

  0002c	98		 cwde
  0002d	33 c9		 xor	 ecx, ecx
  0002f	50		 push	 eax
  00030	89 4d fc	 mov	 DWORD PTR _delok$2$[ebp], ecx
  00033	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00038	83 c4 04	 add	 esp, 4
  0003b	83 f8 01	 cmp	 eax, 1
  0003e	75 5f		 jne	 SHORT $LN18@gObjMonste

; 320  : 			{
; 321  : 				if ( (GetTickCount()- lpObj->sHD[n].LastHitTime) > 20000 )

  00040	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  00046	2b 46 08	 sub	 eax, DWORD PTR [esi+8]
  00049	b9 01 00 00 00	 mov	 ecx, 1
  0004e	3d 20 4e 00 00	 cmp	 eax, 20000		; 00004e20H
  00053	8b 45 fc	 mov	 eax, DWORD PTR _delok$2$[ebp]
  00056	0f 47 c1	 cmova	 eax, ecx
  00059	89 45 fc	 mov	 DWORD PTR _delok$2$[ebp], eax

; 322  : 				{
; 323  : 					delok = TRUE;
; 324  : 				}
; 325  : 
; 326  : 				if ( gObj[lpObj->sHD[n].number].MapNumber != lpObj->MapNumber)

  0005c	0f bf 06	 movsx	 eax, WORD PTR [esi]
  0005f	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  00065	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0006b	8a 81 23 01 00
	00		 mov	 al, BYTE PTR [ecx+291]
  00071	3a 83 23 01 00
	00		 cmp	 al, BYTE PTR [ebx+291]
  00077	75 26		 jne	 SHORT $LN18@gObjMonste

; 327  : 				{
; 328  : 					delok = TRUE;
; 329  : 				}
; 330  : 				else if ( gObjCheckTileArea(lpObj->m_Index, gObj[lpObj->sHD[n].number].X , gObj[lpObj->sHD[n].number].Y , 20) == FALSE )

  00079	0f b6 81 21 01
	00 00		 movzx	 eax, BYTE PTR [ecx+289]
  00080	6a 14		 push	 20			; 00000014H
  00082	50		 push	 eax
  00083	0f b6 81 20 01
	00 00		 movzx	 eax, BYTE PTR [ecx+288]
  0008a	50		 push	 eax
  0008b	ff 33		 push	 DWORD PTR [ebx]
  0008d	e8 00 00 00 00	 call	 ?gObjCheckTileArea@@YAHHHHH@Z ; gObjCheckTileArea
  00092	83 c4 10	 add	 esp, 16			; 00000010H
  00095	85 c0		 test	 eax, eax
  00097	74 06		 je	 SHORT $LN18@gObjMonste

; 331  : 				{
; 332  : 					delok = TRUE;
; 333  : 				}
; 334  : 			}
; 335  : 			else
; 336  : 			{
; 337  : 				delok = TRUE;
; 338  : 			}
; 339  : 
; 340  : 
; 341  : 			if ( delok == TRUE )

  00099	83 7d fc 01	 cmp	 DWORD PTR _delok$2$[ebp], 1
  0009d	75 14		 jne	 SHORT $LN19@gObjMonste
$LN18@gObjMonste:

; 342  : 			{
; 343  : 				lpObj->sHD[n].number = -1;

  0009f	83 c8 ff	 or	 eax, -1

; 344  : 				delindex = n;

  000a2	8b cf		 mov	 ecx, edi
  000a4	66 89 06	 mov	 WORD PTR [esi], ax

; 345  : 				lpObj->sHDCount--;

  000a7	66 ff 8b b4 11
	00 00		 dec	 WORD PTR [ebx+4532]
  000ae	89 4d f8	 mov	 DWORD PTR _delindex$1$[ebp], ecx
  000b1	eb 03		 jmp	 SHORT $LN2@gObjMonste
$LN19@gObjMonste:
  000b3	8b 4d f8	 mov	 ecx, DWORD PTR _delindex$1$[ebp]
$LN2@gObjMonste:

; 312  : 
; 313  : 	for ( int n = 0;n<MAX_ST_HIT_DAMAGE ; n++ )

  000b6	47		 inc	 edi
  000b7	83 c6 0c	 add	 esi, 12			; 0000000cH
  000ba	83 ff 28	 cmp	 edi, 40			; 00000028H
  000bd	0f 8c 5d ff ff
	ff		 jl	 $LL4@gObjMonste

; 346  : 			}
; 347  : 
; 348  : 
; 349  : 		}
; 350  : 	}
; 351  : 
; 352  : 	return delindex;

  000c3	5f		 pop	 edi
  000c4	5e		 pop	 esi
  000c5	8b c1		 mov	 eax, ecx
  000c7	5b		 pop	 ebx

; 353  : }

  000c8	8b e5		 mov	 esp, ebp
  000ca	5d		 pop	 ebp
  000cb	c3		 ret	 0
?gObjMonsterHitDamageUserDel@@YAHPAUOBJECTSTRUCT@@@Z ENDP ; gObjMonsterHitDamageUserDel
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterHitDamageInit@@YAXPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
?gObjMonsterHitDamageInit@@YAXPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterHitDamageInit, COMDAT

; 299  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 300  : 	for ( int i = 0; i< MAX_ST_HIT_DAMAGE ; i++ )

  00003	8b 55 08	 mov	 edx, DWORD PTR _lpObj$[ebp]
  00006	b9 28 00 00 00	 mov	 ecx, 40			; 00000028H
  0000b	56		 push	 esi
  0000c	83 ce ff	 or	 esi, -1
  0000f	8d 82 d4 0f 00
	00		 lea	 eax, DWORD PTR [edx+4052]
$LL4@gObjMonste:

; 301  : 	{
; 302  : 		lpObj->sHD[i].number  = -1;

  00015	66 89 30	 mov	 WORD PTR [eax], si
  00018	8d 40 0c	 lea	 eax, DWORD PTR [eax+12]
  0001b	83 e9 01	 sub	 ecx, 1
  0001e	75 f5		 jne	 SHORT $LL4@gObjMonste

; 303  : 	}
; 304  : 
; 305  : 	lpObj->sHDCount = 0;

  00020	33 c0		 xor	 eax, eax
  00022	66 89 82 b4 11
	00 00		 mov	 WORD PTR [edx+4532], ax
  00029	5e		 pop	 esi

; 306  : }

  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?gObjMonsterHitDamageInit@@YAXPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterHitDamageInit
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterViewportIsCharacter@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_lpObj$ = 8						; size = 4
?gObjMonsterViewportIsCharacter@@YAHPAUOBJECTSTRUCT@@@Z PROC ; gObjMonsterViewportIsCharacter, COMDAT

; 279  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 285  : 		{
; 286  : 			tObjNum = lpObj->VpPlayer2[n].number;
; 287  : 
; 288  : 			if ( tObjNum == lpObj->TargetNumber ) 

  00004	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00007	33 d2		 xor	 edx, edx
  00009	8d 86 4a 0c 00
	00		 lea	 eax, DWORD PTR [esi+3146]
  0000f	90		 npad	 1
$LL4@gObjMonste:

; 283  : 	{
; 284  : 		if ( lpObj->VpPlayer2[n].state  != 0 )

  00010	80 78 fe 00	 cmp	 BYTE PTR [eax-2], 0
  00014	74 0c		 je	 SHORT $LN2@gObjMonste

; 285  : 		{
; 286  : 			tObjNum = lpObj->VpPlayer2[n].number;
; 287  : 
; 288  : 			if ( tObjNum == lpObj->TargetNumber ) 

  00016	66 8b 08	 mov	 cx, WORD PTR [eax]
  00019	66 3b 8e 38 06
	00 00		 cmp	 cx, WORD PTR [esi+1592]
  00020	74 0f		 je	 SHORT $LN9@gObjMonste
$LN2@gObjMonste:

; 280  : 	int tObjNum;
; 281  : 
; 282  : 	for ( int n = 0; n<MAX_VIEWPORT_MONSTER ; n++ )

  00022	42		 inc	 edx
  00023	83 c0 0c	 add	 eax, 12			; 0000000cH
  00026	83 fa 4b	 cmp	 edx, 75			; 0000004bH
  00029	7c e5		 jl	 SHORT $LL4@gObjMonste

; 291  : 			}
; 292  : 		}
; 293  : 	}
; 294  : 
; 295  : 	return -1;

  0002b	83 c8 ff	 or	 eax, -1
  0002e	5e		 pop	 esi

; 296  : }

  0002f	5d		 pop	 ebp
  00030	c3		 ret	 0
$LN9@gObjMonste:

; 289  : 			{
; 290  : 				return n;

  00031	8b c2		 mov	 eax, edx
  00033	5e		 pop	 esi

; 296  : }

  00034	5d		 pop	 ebp
  00035	c3		 ret	 0
?gObjMonsterViewportIsCharacter@@YAHPAUOBJECTSTRUCT@@@Z ENDP ; gObjMonsterViewportIsCharacter
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
; File c:\users\michel\desktop\source\gameserver\source\snakebegins.h
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterRegen@@YAHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_btY$1 = -18						; size = 1
_btX$2 = -17						; size = 1
_map$ = -16						; size = 12
__$ArrayPad$ = -4					; size = 4
_lpObj$ = 8						; size = 4
?gObjMonsterRegen@@YAHPAUOBJECTSTRUCT@@@Z PROC		; gObjMonsterRegen, COMDAT

; 86   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	56		 push	 esi
  00012	8b 75 08	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00015	57		 push	 edi

; 87   : 	int map[3];
; 88   : 
; 89   : 	map[0] = 0;
; 90   : 	map[1] = 2;
; 91   : 	map[2] = 3;
; 92   : 
; 93   : 	gObjViewportListProtocolDestroy(lpObj);

  00016	56		 push	 esi
  00017	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _map$[ebp], 0
  0001e	c7 45 f4 02 00
	00 00		 mov	 DWORD PTR _map$[ebp+4], 2
  00025	c7 45 f8 03 00
	00 00		 mov	 DWORD PTR _map$[ebp+8], 3
  0002c	e8 00 00 00 00	 call	 ?gObjViewportListProtocolDestroy@@YAXPAUOBJECTSTRUCT@@@Z ; gObjViewportListProtocolDestroy

; 94   : 	gObjViewportClose(lpObj);

  00031	56		 push	 esi
  00032	e8 00 00 00 00	 call	 ?gObjViewportClose@@YAXPAUOBJECTSTRUCT@@@Z ; gObjViewportClose

; 95   : 
; 96   : 	lpObj->m_ActState.Attack = 0;

  00037	83 a6 c8 01 00
	00 fd		 and	 DWORD PTR [esi+456], -3	; fffffffdH

; 97   : 	lpObj->m_ActState.EmotionCount = 0;
; 98   : 	lpObj->m_ActState.Escape = 0;
; 99   : 	lpObj->m_ActState.Move = 0;
; 100  : 	lpObj->m_ActState.Rest = 0;
; 101  : 	lpObj->m_ActState.Emotion = 0;
; 102  : 	lpObj->TargetNumber = -1;

  0003e	83 c8 ff	 or	 eax, -1

; 103  : 	lpObj->NextActionTime = 5000;
; 104  : 
; 105  : 	/*LPMONSTER_ATTRIBUTE lpMonAttr = gMAttr.GetAttr(lpObj->Class);
; 106  : 	
; 107  : 	int iPentagramMainAttribute = 0;
; 108  : 	gMSetBase.GetPentagramMainAttribute(lpObj->m_PosNum, &iPentagramMainAttribute);
; 109  : 	
; 110  : 	if( lpMonAttr )
; 111  : 	{
; 112  : 		if( iPentagramMainAttribute > 0 )
; 113  : 		{
; 114  : 			lpMonAttr->m_btElement = iPentagramMainAttribute;
; 115  : 			LogAddC(2, "(%d) (%d) Element has been setted (%d)",
; 116  : 				lpObj->m_PosNum, lpObj->Class, iPentagramMainAttribute);
; 117  : 		}
; 118  : 	}*/
; 119  : 
; 120  : 	if ( lpObj->Class == 43 )

  00041	0f b7 8e 90 00
	00 00		 movzx	 ecx, WORD PTR [esi+144]
  00048	83 c4 08	 add	 esp, 8
  0004b	c6 86 c9 01 00
	00 00		 mov	 BYTE PTR [esi+457], 0
  00052	81 a6 c8 01 00
	00 02 ff ff ff	 and	 DWORD PTR [esi+456], -254 ; ffffff02H
  0005c	66 89 86 38 06
	00 00		 mov	 WORD PTR [esi+1592], ax
  00063	c7 86 a0 05 00
	00 88 13 00 00	 mov	 DWORD PTR [esi+1440], 5000 ; 00001388H
  0006d	83 f9 2b	 cmp	 ecx, 43			; 0000002bH
  00070	0f 85 4d 01 00
	00		 jne	 $LN2@gObjMonste

; 121  : 	{
; 122  : 		lpObj->MapNumber = map[ rand() % 3 ];

  00076	e8 00 00 00 00	 call	 _rand
  0007b	99		 cdq

; 123  : 
; 124  : 		if ( gMSetBase.GetBoxPosition(lpObj->MapNumber, 10, 10, 240, 240, lpObj->X, lpObj->Y)== FALSE )

  0007c	8d be 21 01 00
	00		 lea	 edi, DWORD PTR [esi+289]
  00082	b9 03 00 00 00	 mov	 ecx, 3
  00087	8d 9e 20 01 00
	00		 lea	 ebx, DWORD PTR [esi+288]
  0008d	f7 f9		 idiv	 ecx
  0008f	57		 push	 edi
  00090	53		 push	 ebx
  00091	68 f0 00 00 00	 push	 240			; 000000f0H
  00096	68 f0 00 00 00	 push	 240			; 000000f0H
  0009b	8a 44 95 f0	 mov	 al, BYTE PTR _map$[ebp+edx*4]
  0009f	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMSetBase@@3VCMonsterSetBase@@A ; gMSetBase
  000a4	6a 0a		 push	 10			; 0000000aH
  000a6	88 86 23 01 00
	00		 mov	 BYTE PTR [esi+291], al
  000ac	6a 0a		 push	 10			; 0000000aH
  000ae	0f b6 c0	 movzx	 eax, al
  000b1	50		 push	 eax
  000b2	e8 00 00 00 00	 call	 ?GetBoxPosition@CMonsterSetBase@@QAEHHHHHHAAE0@Z ; CMonsterSetBase::GetBoxPosition
  000b7	85 c0		 test	 eax, eax
  000b9	75 34		 jne	 SHORT $LN4@gObjMonste
$LN53@gObjMonste:

; 125  : 		{
; 126  : 			lpObj->Live = FALSE;

  000bb	c6 46 51 00	 mov	 BYTE PTR [esi+81], 0

; 127  : 			lpObj->m_State = 4;

  000bf	c7 86 d0 01 00
	00 04 00 00 00	 mov	 DWORD PTR [esi+464], 4

; 128  : 			lpObj->RegenTime = GetTickCount();

  000c9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  000cf	89 86 90 05 00
	00		 mov	 DWORD PTR [esi+1424], eax

; 129  : 			lpObj->DieRegen = TRUE;

  000d5	c6 86 8a 05 00
	00 01		 mov	 BYTE PTR [esi+1418], 1
$LN52@gObjMonste:

; 130  : 			return FALSE;

  000dc	5f		 pop	 edi
  000dd	5e		 pop	 esi
  000de	33 c0		 xor	 eax, eax
  000e0	5b		 pop	 ebx

; 276  : }

  000e1	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000e4	33 cd		 xor	 ecx, ebp
  000e6	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000eb	8b e5		 mov	 esp, ebp
  000ed	5d		 pop	 ebp
  000ee	c3		 ret	 0
$LN4@gObjMonste:

; 131  : 		}
; 132  : 
; 133  : 		lpObj->TX = lpObj->X;

  000ef	8a 0b		 mov	 cl, BYTE PTR [ebx]

; 134  : 		lpObj->TY = lpObj->Y;

  000f1	8a 07		 mov	 al, BYTE PTR [edi]
  000f3	88 8e 52 01 00
	00		 mov	 BYTE PTR [esi+338], cl
  000f9	88 86 53 01 00
	00		 mov	 BYTE PTR [esi+339], al

; 135  : 		lpObj->MTX = lpObj->X;

  000ff	88 8e 54 01 00
	00		 mov	 BYTE PTR [esi+340], cl

; 136  : 		lpObj->MTY = lpObj->Y;

  00105	88 86 55 01 00
	00		 mov	 BYTE PTR [esi+341], al
$LN51@gObjMonste:

; 137  : 		lpObj->StartX = lpObj->X;

  0010b	88 8e 4e 01 00
	00		 mov	 BYTE PTR [esi+334], cl

; 138  : 		lpObj->StartY = lpObj->Y;

  00111	88 86 4f 01 00
	00		 mov	 BYTE PTR [esi+335], al
$LN19@gObjMonste:

; 262  : 	}
; 263  : 
; 264  : 	gObjMonsterHitDamageInit(lpObj);

  00117	56		 push	 esi
  00118	e8 00 00 00 00	 call	 ?gObjMonsterHitDamageInit@@YAXPAUOBJECTSTRUCT@@@Z ; gObjMonsterHitDamageInit
  0011d	83 c4 04	 add	 esp, 4

; 265  : 
; 266  : 	if ( lpObj->MapNumber == MAP_INDEX_CRYWOLF_FIRSTZONE && g_CrywolfSync.GetCrywolfState() >= 2 && g_CrywolfSync.GetCrywolfState() <= 5  ) // Crywolf

  00120	80 be 23 01 00
	00 22		 cmp	 BYTE PTR [esi+291], 34	; 00000022H
  00127	75 1e		 jne	 SHORT $LN40@gObjMonste
  00129	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  0012e	e8 00 00 00 00	 call	 ?GetCrywolfState@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetCrywolfState
  00133	83 f8 02	 cmp	 eax, 2
  00136	7c 0f		 jl	 SHORT $LN40@gObjMonste
  00138	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  0013d	e8 00 00 00 00	 call	 ?GetCrywolfState@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetCrywolfState
  00142	83 f8 05	 cmp	 eax, 5
  00145	7e 66		 jle	 SHORT $LN42@gObjMonste
$LN40@gObjMonste:

; 267  : 	{
; 268  : 	
; 269  : 	}
; 270  : 	else if ( g_CrywolfSync.GetOccupationState() == 0 && g_iCrywolfApplyMvpBenefit != 0 )

  00147	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  0014c	e8 00 00 00 00	 call	 ?GetOccupationState@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetOccupationState
  00151	85 c0		 test	 eax, eax
  00153	75 58		 jne	 SHORT $LN42@gObjMonste
  00155	39 05 00 00 00
	00		 cmp	 DWORD PTR ?g_iCrywolfApplyMvpBenefit@@3HA, eax ; g_iCrywolfApplyMvpBenefit
  0015b	74 50		 je	 SHORT $LN42@gObjMonste

; 271  : 	{
; 272  : 		lpObj->Life = ( lpObj->m_iScriptMaxLife * g_CrywolfSync.GetMonHPBenefitRate()  ) / 100.0f;

  0015d	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  00162	e8 00 00 00 00	 call	 ?GetMonHPBenefitRate@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetMonHPBenefitRate
  00167	0f af 86 e0 00
	00 00		 imul	 eax, DWORD PTR [esi+224]

; 273  : 		lpObj->MaxLife = (lpObj->m_iScriptMaxLife * g_CrywolfSync.GetMonHPBenefitRate() ) / 100.0f;

  0016e	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CrywolfSync@@3VCCrywolfSync@@A ; g_CrywolfSync
  00173	66 0f 6e c0	 movd	 xmm0, eax
  00177	0f 5b c0	 cvtdq2ps xmm0, xmm0
  0017a	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42c80000
  00182	f3 0f 11 86 d8
	00 00 00	 movss	 DWORD PTR [esi+216], xmm0
  0018a	e8 00 00 00 00	 call	 ?GetMonHPBenefitRate@CCrywolfSync@@QAEHXZ ; CCrywolfSync::GetMonHPBenefitRate
  0018f	0f af 86 e0 00
	00 00		 imul	 eax, DWORD PTR [esi+224]
  00196	66 0f 6e c0	 movd	 xmm0, eax
  0019a	0f 5b c0	 cvtdq2ps xmm0, xmm0
  0019d	f3 0f 5e 05 00
	00 00 00	 divss	 xmm0, DWORD PTR __real@42c80000
  001a5	f3 0f 11 86 dc
	00 00 00	 movss	 DWORD PTR [esi+220], xmm0
$LN42@gObjMonste:

; 274  : 	}
; 275  : 	return TRUE;

  001ad	5f		 pop	 edi
  001ae	5e		 pop	 esi
  001af	b8 01 00 00 00	 mov	 eax, 1
  001b4	5b		 pop	 ebx

; 276  : }

  001b5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001b8	33 cd		 xor	 ecx, ebp
  001ba	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001bf	8b e5		 mov	 esp, ebp
  001c1	5d		 pop	 ebp
  001c2	c3		 ret	 0
$LN2@gObjMonste:

; 139  : 	}
; 140  : #if( __4GAMERS__ == 0 )
; 141  : 	else if ( lpObj->Class == 44 )

  001c3	83 f9 2c	 cmp	 ecx, 44			; 0000002cH
  001c6	0f 84 4b ff ff
	ff		 je	 $LN19@gObjMonste

; 142  : 	{
; 143  : 
; 144  : 	}
; 145  : #endif
; 146  : 	else if ( lpObj->Class == 53 || lpObj->Class == 54 || lpObj->Class == 55 || lpObj->Class == 56 )

  001cc	83 f9 35	 cmp	 ecx, 53			; 00000035H
  001cf	0f 84 07 ff ff
	ff		 je	 $LN52@gObjMonste
  001d5	83 f9 36	 cmp	 ecx, 54			; 00000036H
  001d8	0f 84 fe fe ff
	ff		 je	 $LN52@gObjMonste
  001de	83 f9 37	 cmp	 ecx, 55			; 00000037H
  001e1	0f 84 f5 fe ff
	ff		 je	 $LN52@gObjMonste
  001e7	83 f9 38	 cmp	 ecx, 56			; 00000038H
  001ea	0f 84 ec fe ff
	ff		 je	 $LN52@gObjMonste

; 147  : 	{
; 148  : 		return FALSE;
; 149  : 	}
; 150  : 	else if ( lpObj->Class >= 78 && lpObj->Class <= 83 )

  001f0	83 f9 4e	 cmp	 ecx, 78			; 0000004eH
  001f3	72 09		 jb	 SHORT $LN10@gObjMonste
  001f5	83 f9 53	 cmp	 ecx, 83			; 00000053H
  001f8	0f 86 de fe ff
	ff		 jbe	 $LN52@gObjMonste
$LN10@gObjMonste:

; 151  : 	{
; 152  : 		return FALSE;
; 153  : 	}
; 154  : 	else if ( lpObj->Class >= 493 && lpObj->Class <= 502 )

  001fe	b8 ed 01 00 00	 mov	 eax, 493		; 000001edH
  00203	66 3b c8	 cmp	 cx, ax
  00206	72 0e		 jb	 SHORT $LN12@gObjMonste
  00208	b8 f6 01 00 00	 mov	 eax, 502		; 000001f6H
  0020d	66 3b c8	 cmp	 cx, ax
  00210	0f 86 c6 fe ff
	ff		 jbe	 $LN52@gObjMonste
$LN12@gObjMonste:

; 155  : 	{
; 156  : 		return FALSE;
; 157  : 	}
; 158  : 	else if ( (lpObj->m_Attribute < 51) ? FALSE : (lpObj->m_Attribute > 58)? FALSE : TRUE )

  00216	0f b7 96 96 06
	00 00		 movzx	 edx, WORD PTR [esi+1686]
  0021d	66 83 fa 33	 cmp	 dx, 51			; 00000033H
  00221	7c 5a		 jl	 SHORT $LN14@gObjMonste
  00223	33 c0		 xor	 eax, eax
  00225	66 83 fa 3a	 cmp	 dx, 58			; 0000003aH
  00229	0f 9e c0	 setle	 al
  0022c	85 c0		 test	 eax, eax
  0022e	74 4d		 je	 SHORT $LN14@gObjMonste

; 159  : 	{
; 160  : 		lpObj->Live = TRUE;
; 161  : 		lpObj->DieRegen = FALSE;
; 162  : 		CreateFrustrum(lpObj->X, lpObj->Y, lpObj->m_Index);

  00230	ff 36		 push	 DWORD PTR [esi]
  00232	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  00239	50		 push	 eax
  0023a	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  00241	50		 push	 eax
  00242	c6 46 51 01	 mov	 BYTE PTR [esi+81], 1
  00246	c6 86 8a 05 00
	00 00		 mov	 BYTE PTR [esi+1418], 0
  0024d	e8 00 00 00 00	 call	 ?CreateFrustrum@@YAXHHH@Z ; CreateFrustrum

; 163  : 		gObjClearViewport(lpObj);

  00252	56		 push	 esi
  00253	e8 00 00 00 00	 call	 ?gObjClearViewport@@YAXPAUOBJECTSTRUCT@@@Z ; gObjClearViewport

; 164  : 		gObjViewportListCreate(lpObj->m_Index);

  00258	0f b7 06	 movzx	 eax, WORD PTR [esi]
  0025b	50		 push	 eax
  0025c	e8 00 00 00 00	 call	 ?gObjViewportListCreate@@YAXF@Z ; gObjViewportListCreate

; 165  : 		gObjViewportListProtocolCreate(lpObj);

  00261	56		 push	 esi
  00262	e8 00 00 00 00	 call	 ?gObjViewportListProtocolCreate@@YAXPAUOBJECTSTRUCT@@@Z ; gObjViewportListProtocolCreate
  00267	83 c4 18	 add	 esp, 24			; 00000018H

; 166  : 		return FALSE;

  0026a	33 c0		 xor	 eax, eax
  0026c	5f		 pop	 edi
  0026d	5e		 pop	 esi
  0026e	5b		 pop	 ebx

; 276  : }

  0026f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00272	33 cd		 xor	 ecx, ebp
  00274	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00279	8b e5		 mov	 esp, ebp
  0027b	5d		 pop	 ebp
  0027c	c3		 ret	 0
$LN14@gObjMonste:

; 167  : 	}
; 168  : 	else if( lpObj->Class == 460 || lpObj->Class == 461 || lpObj->Class == 462 )

  0027d	b8 cc 01 00 00	 mov	 eax, 460		; 000001ccH
  00282	66 3b c8	 cmp	 cx, ax
  00285	0f 84 16 02 00
	00		 je	 $LN18@gObjMonste
  0028b	b8 cd 01 00 00	 mov	 eax, 461		; 000001cdH
  00290	66 3b c8	 cmp	 cx, ax
  00293	0f 84 08 02 00
	00		 je	 $LN18@gObjMonste
  00299	b8 ce 01 00 00	 mov	 eax, 462		; 000001ceH
  0029e	66 3b c8	 cmp	 cx, ax
  002a1	0f 84 fa 01 00
	00		 je	 $LN18@gObjMonste

; 171  : 		{
; 172  : 			return FALSE;
; 173  : 		}
; 174  : 	}
; 175  : 	else if ( lpObj->Class == 459 )

  002a7	b8 cb 01 00 00	 mov	 eax, 459		; 000001cbH
  002ac	66 3b c8	 cmp	 cx, ax
  002af	75 39		 jne	 SHORT $LN20@gObjMonste

; 176  : 	{
; 177  : 		if( g_Raklion.GetRaklionState() != RAKLION_STATE_STANDBY && g_Raklion.GetRaklionState() != RAKLION_STATE_READY )

  002b1	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  002b6	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  002bb	83 f8 02	 cmp	 eax, 2
  002be	0f 84 53 fe ff
	ff		 je	 $LN19@gObjMonste
  002c4	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  002c9	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  002ce	83 f8 04	 cmp	 eax, 4
  002d1	0f 84 40 fe ff
	ff		 je	 $LN19@gObjMonste

; 178  : 		{
; 179  : 			return FALSE;

  002d7	5f		 pop	 edi
  002d8	5e		 pop	 esi
  002d9	33 c0		 xor	 eax, eax
  002db	5b		 pop	 ebx

; 276  : }

  002dc	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  002df	33 cd		 xor	 ecx, ebp
  002e1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  002e6	8b e5		 mov	 esp, ebp
  002e8	5d		 pop	 ebp
  002e9	c3		 ret	 0
$LN20@gObjMonste:

; 180  : 		}
; 181  : 	}
; 182  : 	else if ( lpObj->Class == 457 && lpObj->MapNumber == MAP_INDEX_RAKLIONBOSS ||

  002ea	b8 c9 01 00 00	 mov	 eax, 457		; 000001c9H
  002ef	66 3b c8	 cmp	 cx, ax
  002f2	75 0d		 jne	 SHORT $LN26@gObjMonste
  002f4	80 be 23 01 00
	00 3a		 cmp	 BYTE PTR [esi+291], 58	; 0000003aH
  002fb	0f 84 db fd ff
	ff		 je	 $LN52@gObjMonste
$LN26@gObjMonste:
  00301	b8 ca 01 00 00	 mov	 eax, 458		; 000001caH
  00306	66 3b c8	 cmp	 cx, ax
  00309	75 0d		 jne	 SHORT $LN23@gObjMonste
  0030b	80 be 23 01 00
	00 3a		 cmp	 BYTE PTR [esi+291], 58	; 0000003aH
  00312	0f 84 c4 fd ff
	ff		 je	 $LN52@gObjMonste
$LN23@gObjMonste:

; 183  : 			  lpObj->Class == 458 && lpObj->MapNumber == MAP_INDEX_RAKLIONBOSS )
; 184  : 	{
; 185  : 		return FALSE;
; 186  : 	}
; 187  : 	else if( lpObj->Class >= 560 && lpObj->Class <= 561 )	//Medusa Added Lee

  00318	b8 30 02 00 00	 mov	 eax, 560		; 00000230H
  0031d	66 3b c8	 cmp	 cx, ax
  00320	72 0e		 jb	 SHORT $LN27@gObjMonste
  00322	b8 31 02 00 00	 mov	 eax, 561		; 00000231H
  00327	66 3b c8	 cmp	 cx, ax
  0032a	0f 86 ac fd ff
	ff		 jbe	 $LN52@gObjMonste
$LN27@gObjMonste:

; 188  : 	{
; 189  : 		return FALSE;
; 190  : 	}
; 191  : #if (GS_CASTLE == 1)
; 192  : 	else if(lpObj->m_Attribute == 62)

  00330	66 83 fa 3e	 cmp	 dx, 62			; 0000003eH
  00334	75 76		 jne	 SHORT $LN29@gObjMonste

; 193  : 	{
; 194  : 		
; 195  : 		BYTE btX = lpObj->X,btY = lpObj->Y;

  00336	8a 86 20 01 00
	00		 mov	 al, BYTE PTR [esi+288]
  0033c	88 45 ef	 mov	 BYTE PTR _btX$2[ebp], al
  0033f	8a 86 21 01 00
	00		 mov	 al, BYTE PTR [esi+289]

; 196  : 		if(gObjGetRandomFreeLocation(lpObj->MapNumber,(BYTE &)btX,(BYTE &)btY,5,5,30) == FALSE)

  00345	6a 1e		 push	 30			; 0000001eH
  00347	6a 05		 push	 5
  00349	88 45 ee	 mov	 BYTE PTR _btY$1[ebp], al
  0034c	8d 45 ee	 lea	 eax, DWORD PTR _btY$1[ebp]
  0034f	6a 05		 push	 5
  00351	50		 push	 eax
  00352	8d 45 ef	 lea	 eax, DWORD PTR _btX$2[ebp]
  00355	50		 push	 eax
  00356	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  0035d	50		 push	 eax
  0035e	e8 00 00 00 00	 call	 ?gObjGetRandomFreeLocation@@YAHHAAE0HHH@Z ; gObjGetRandomFreeLocation
  00363	83 c4 18	 add	 esp, 24			; 00000018H
  00366	85 c0		 test	 eax, eax
  00368	75 2b		 jne	 SHORT $LN31@gObjMonste

; 197  : 		{
; 198  : 			LogAdd("ERROR: %s %d",__FILE__,__LINE__);

  0036a	68 c6 00 00 00	 push	 198			; 000000c6H
  0036f	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@OAKCBJLL@gObjMonster?4cpp?$AA@
  00374	68 00 00 00 00	 push	 OFFSET ??_C@_0N@DOCIPDEL@ERROR?3?5?$CFs?5?$CFd?$AA@
  00379	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0037f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 199  : 			return FALSE;

  00382	33 c0		 xor	 eax, eax
  00384	5f		 pop	 edi
  00385	5e		 pop	 esi
  00386	5b		 pop	 ebx

; 276  : }

  00387	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0038a	33 cd		 xor	 ecx, ebp
  0038c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00391	8b e5		 mov	 esp, ebp
  00393	5d		 pop	 ebp
  00394	c3		 ret	 0
$LN31@gObjMonste:

; 200  : 		}
; 201  : 
; 202  : 		lpObj->X = btX;

  00395	8a 45 ef	 mov	 al, BYTE PTR _btX$2[ebp]
  00398	88 86 20 01 00
	00		 mov	 BYTE PTR [esi+288], al

; 203  : 		lpObj->Y = btY;

  0039e	8a 45 ee	 mov	 al, BYTE PTR _btY$1[ebp]
  003a1	88 86 21 01 00
	00		 mov	 BYTE PTR [esi+289], al
  003a7	e9 6b fd ff ff	 jmp	 $LN19@gObjMonste
$LN29@gObjMonste:

; 204  : 	}
; 205  : #endif
; 206  : 	else if ( lpObj->Class >= 533 && lpObj->Class <= 539 )

  003ac	b8 15 02 00 00	 mov	 eax, 533		; 00000215H
  003b1	66 3b c8	 cmp	 cx, ax
  003b4	72 33		 jb	 SHORT $LN32@gObjMonste
  003b6	b8 1b 02 00 00	 mov	 eax, 539		; 0000021bH
  003bb	66 3b c8	 cmp	 cx, ax
  003be	77 29		 ja	 SHORT $LN32@gObjMonste

; 207  : 	{
; 208  : 		lpObj->X = lpObj->StartX;

  003c0	8a 8e 4e 01 00
	00		 mov	 cl, BYTE PTR [esi+334]

; 209  : 		lpObj->Y = lpObj->StartY;

  003c6	8a 86 4f 01 00
	00		 mov	 al, BYTE PTR [esi+335]
  003cc	88 8e 20 01 00
	00		 mov	 BYTE PTR [esi+288], cl
  003d2	88 86 21 01 00
	00		 mov	 BYTE PTR [esi+289], al

; 210  : 		lpObj->MTX = lpObj->X;

  003d8	88 8e 54 01 00
	00		 mov	 BYTE PTR [esi+340], cl

; 211  : 		lpObj->MTY = lpObj->Y;

  003de	88 86 55 01 00
	00		 mov	 BYTE PTR [esi+341], al
  003e4	e9 2e fd ff ff	 jmp	 $LN19@gObjMonste
$LN32@gObjMonste:
; File c:\users\michel\desktop\source\gameserver\source\snakebegins.h

; 17   : 	bool	IsSnake(int MonsterType) { return MonsterType >= 647 && MonsterType <= 650; };

  003e9	8d 81 79 fd ff
	ff		 lea	 eax, DWORD PTR [ecx-647]
  003ef	83 f8 03	 cmp	 eax, 3
  003f2	0f 86 e4 fc ff
	ff		 jbe	 $LN52@gObjMonste
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp

; 237  : 	else if (MonsterSpawnerMng::getInstance()->isEventMonster(lpObj->m_Index)) {

  003f8	0f b7 06	 movzx	 eax, WORD PTR [esi]
  003fb	50		 push	 eax
  003fc	e8 00 00 00 00	 call	 ?getInstance@MonsterSpawnerMng@@SAPAV1@XZ ; MonsterSpawnerMng::getInstance
  00401	8b c8		 mov	 ecx, eax
  00403	e8 00 00 00 00	 call	 ?isEventMonster@MonsterSpawnerMng@@QAE_NF@Z ; MonsterSpawnerMng::isEventMonster
  00408	84 c0		 test	 al, al
  0040a	74 44		 je	 SHORT $LN36@gObjMonste

; 238  : 		lpObj->X = lpObj->StartX;
; 239  : 		lpObj->Y = lpObj->StartY;

  0040c	8a 86 4f 01 00
	00		 mov	 al, BYTE PTR [esi+335]
  00412	8a 8e 4e 01 00
	00		 mov	 cl, BYTE PTR [esi+334]
  00418	88 86 21 01 00
	00		 mov	 BYTE PTR [esi+289], al

; 240  : 		lpObj->MTX = lpObj->X;
; 241  : 		lpObj->MTY = lpObj->Y;

  0041e	88 86 55 01 00
	00		 mov	 BYTE PTR [esi+341], al

; 242  : 		lpObj->m_ActState.Emotion = 1;

  00424	8b 86 c8 01 00
	00		 mov	 eax, DWORD PTR [esi+456]
  0042a	25 1f ff ff ff	 and	 eax, -225		; ffffff1fH
  0042f	88 8e 20 01 00
	00		 mov	 BYTE PTR [esi+288], cl
  00435	83 c8 10	 or	 eax, 16			; 00000010H
  00438	88 8e 54 01 00
	00		 mov	 BYTE PTR [esi+340], cl
  0043e	89 86 c8 01 00
	00		 mov	 DWORD PTR [esi+456], eax

; 243  : 		lpObj->m_ActState.EmotionCount = 1;

  00444	c6 86 c9 01 00
	00 01		 mov	 BYTE PTR [esi+457], 1
  0044b	e9 c7 fc ff ff	 jmp	 $LN19@gObjMonste
$LN36@gObjMonste:

; 244  : 	}
; 245  : #endif
; 246  : 	else if( gMSetBase.GetPosition(lpObj->m_PosNum, lpObj->MapNumber, lpObj->X, lpObj->Y) == FALSE )

  00450	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  00457	8d be 21 01 00
	00		 lea	 edi, DWORD PTR [esi+289]
  0045d	57		 push	 edi
  0045e	8d 9e 20 01 00
	00		 lea	 ebx, DWORD PTR [esi+288]
  00464	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMSetBase@@3VCMonsterSetBase@@A ; gMSetBase
  00469	53		 push	 ebx
  0046a	50		 push	 eax
  0046b	0f bf 86 98 05
	00 00		 movsx	 eax, WORD PTR [esi+1432]
  00472	50		 push	 eax
  00473	e8 00 00 00 00	 call	 ?GetPosition@CMonsterSetBase@@QAEHHFAAE0@Z ; CMonsterSetBase::GetPosition
  00478	85 c0		 test	 eax, eax
  0047a	0f 84 3b fc ff
	ff		 je	 $LN53@gObjMonste

; 247  : 	{
; 248  : 		lpObj->Live = FALSE;
; 249  : 		lpObj->m_State = 4;
; 250  : 		lpObj->RegenTime = GetTickCount();
; 251  : 		lpObj->DieRegen = TRUE;
; 252  : 		return FALSE;
; 253  : 	}
; 254  : 	else
; 255  : 	{
; 256  : 		lpObj->MTX = lpObj->X;

  00480	8a 0b		 mov	 cl, BYTE PTR [ebx]

; 257  : 		lpObj->MTY = lpObj->Y;

  00482	8a 07		 mov	 al, BYTE PTR [edi]
  00484	88 8e 54 01 00
	00		 mov	 BYTE PTR [esi+340], cl
  0048a	88 86 55 01 00
	00		 mov	 BYTE PTR [esi+341], al

; 258  : 		lpObj->TX = lpObj->X;

  00490	88 8e 52 01 00
	00		 mov	 BYTE PTR [esi+338], cl

; 259  : 		lpObj->TY = lpObj->Y;

  00496	88 86 53 01 00
	00		 mov	 BYTE PTR [esi+339], al

; 260  : 		lpObj->StartX = lpObj->X;
; 261  : 		lpObj->StartY = lpObj->Y;	

  0049c	e9 6a fc ff ff	 jmp	 $LN51@gObjMonste
$LN18@gObjMonste:

; 169  : 	{
; 170  : 		if( g_Raklion.GetRaklionState() != RAKLION_STATE_END )

  004a1	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_Raklion@@3VCRaklion@@A ; g_Raklion
  004a6	e8 00 00 00 00	 call	 ?GetRaklionState@CRaklion@@QAEHXZ ; CRaklion::GetRaklionState
  004ab	83 f8 0a	 cmp	 eax, 10			; 0000000aH
  004ae	0f 84 63 fc ff
	ff		 je	 $LN19@gObjMonste

; 276  : }

  004b4	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  004b7	33 c0		 xor	 eax, eax
  004b9	5f		 pop	 edi
  004ba	5e		 pop	 esi
  004bb	33 cd		 xor	 ecx, ebp
  004bd	5b		 pop	 ebx
  004be	e8 00 00 00 00	 call	 @__security_check_cookie@4
  004c3	8b e5		 mov	 esp, ebp
  004c5	5d		 pop	 ebp
  004c6	c3		 ret	 0
?gObjMonsterRegen@@YAHPAUOBJECTSTRUCT@@@Z ENDP		; gObjMonsterRegen
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?gObjMonsterMoveRegen@@YAXHHPAUOBJECTSTRUCT@@@Z
_TEXT	SEGMENT
_x$ = 8							; size = 4
_y$ = 12						; size = 4
_lpObj$ = 16						; size = 4
?gObjMonsterMoveRegen@@YAXHHPAUOBJECTSTRUCT@@@Z PROC	; gObjMonsterMoveRegen, COMDAT

; 73   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 74   : 	gMSetBase.GetBoxPosition(lpObj->MapNumber, x-1, y-1, x+1, y+1, lpObj->X, lpObj->Y);

  00003	8b 55 0c	 mov	 edx, DWORD PTR _y$[ebp]
  00006	8b 4d 08	 mov	 ecx, DWORD PTR _x$[ebp]
  00009	53		 push	 ebx
  0000a	8b 5d 10	 mov	 ebx, DWORD PTR _lpObj$[ebp]
  0000d	56		 push	 esi
  0000e	57		 push	 edi
  0000f	8d 42 01	 lea	 eax, DWORD PTR [edx+1]
  00012	8d bb 21 01 00
	00		 lea	 edi, DWORD PTR [ebx+289]
  00018	57		 push	 edi
  00019	8d b3 20 01 00
	00		 lea	 esi, DWORD PTR [ebx+288]
  0001f	56		 push	 esi
  00020	50		 push	 eax
  00021	8d 41 01	 lea	 eax, DWORD PTR [ecx+1]
  00024	50		 push	 eax
  00025	8d 42 ff	 lea	 eax, DWORD PTR [edx-1]
  00028	50		 push	 eax
  00029	8d 41 ff	 lea	 eax, DWORD PTR [ecx-1]
  0002c	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMSetBase@@3VCMonsterSetBase@@A ; gMSetBase
  00031	50		 push	 eax
  00032	0f b6 83 23 01
	00 00		 movzx	 eax, BYTE PTR [ebx+291]
  00039	50		 push	 eax
  0003a	e8 00 00 00 00	 call	 ?GetBoxPosition@CMonsterSetBase@@QAEHHHHHHAAE0@Z ; CMonsterSetBase::GetBoxPosition

; 75   : 
; 76   : 	lpObj->TX = lpObj->X;
; 77   : 	lpObj->TY = lpObj->Y;

  0003f	8a 07		 mov	 al, BYTE PTR [edi]
  00041	8a 0e		 mov	 cl, BYTE PTR [esi]
  00043	5f		 pop	 edi
  00044	5e		 pop	 esi
  00045	88 8b 52 01 00
	00		 mov	 BYTE PTR [ebx+338], cl
  0004b	88 83 53 01 00
	00		 mov	 BYTE PTR [ebx+339], al

; 78   : 	lpObj->MTX = lpObj->X;

  00051	88 8b 54 01 00
	00		 mov	 BYTE PTR [ebx+340], cl

; 79   : 	lpObj->MTY = lpObj->Y;

  00057	88 83 55 01 00
	00		 mov	 BYTE PTR [ebx+341], al

; 80   : 	lpObj->StartX = lpObj->X;

  0005d	88 8b 4e 01 00
	00		 mov	 BYTE PTR [ebx+334], cl

; 81   : 	lpObj->StartY = lpObj->Y;

  00063	88 83 4f 01 00
	00		 mov	 BYTE PTR [ebx+335], al
  00069	5b		 pop	 ebx

; 82   : }

  0006a	5d		 pop	 ebp
  0006b	c3		 ret	 0
?gObjMonsterMoveRegen@@YAXHHPAUOBJECTSTRUCT@@@Z ENDP	; gObjMonsterMoveRegen
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?Run@CQeustNpcTeleport@@QAEXH@Z
_TEXT	SEGMENT
_pMsg$1 = -16						; size = 9
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?Run@CQeustNpcTeleport@@QAEXH@Z PROC			; CQeustNpcTeleport::Run, COMDAT
; _this$ = ecx

; 5073 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	8b 5d 08	 mov	 ebx, DWORD PTR _aIndex$[ebp]
  00014	57		 push	 edi
  00015	8b f9		 mov	 edi, ecx

; 5074 : 	if ( this->RefCount > 0 )

  00017	83 3f 00	 cmp	 DWORD PTR [edi], 0
  0001a	0f 8f ba 01 00
	00		 jg	 $LN5@Run

; 5075 : 	{
; 5076 : 		return;
; 5077 : 	}
; 5078 : 
; 5079 : 	this->TimeCount++;

  00020	ff 47 1c	 inc	 DWORD PTR [edi+28]
  00023	8b 47 1c	 mov	 eax, DWORD PTR [edi+28]

; 5080 : 
; 5081 : 	if ( this->TimeCount > gQuestNPCTeleportTime )

  00026	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?gQuestNPCTeleportTime@@3HA ; gQuestNPCTeleportTime
  0002c	0f 8e a8 01 00
	00		 jle	 $LN5@Run

; 5082 : 	{
; 5083 : 		PMSG_MAGICATTACK_RESULT pMsg;
; 5084 : 
; 5085 : 		this->TimeCount = 0;
; 5086 : 
; 5087 : 		PHeadSetBE((LPBYTE)&pMsg, 0x19, sizeof(pMsg));

  00032	6a 09		 push	 9
  00034	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$1[ebp]
  00037	c7 47 1c 00 00
	00 00		 mov	 DWORD PTR [edi+28], 0
  0003e	6a 19		 push	 25			; 00000019H
  00040	50		 push	 eax
  00041	e8 00 00 00 00	 call	 ?PHeadSetBE@@YAXPAEEH@Z	; PHeadSetBE

; 5088 : 
; 5089 : 		pMsg.MagicNumberH = SET_NUMBERH(AT_SKILL_TELEPORT);
; 5090 : 		pMsg.MagicNumberL = SET_NUMBERL(AT_SKILL_TELEPORT);
; 5091 : 
; 5092 : 		pMsg.SourceNumberH = SET_NUMBERH(aIndex);

  00046	8b c3		 mov	 eax, ebx

; 5093 : 		pMsg.SourceNumberL = SET_NUMBERL(aIndex);

  00048	88 5d f4	 mov	 BYTE PTR _pMsg$1[ebp+4], bl
  0004b	c1 e8 08	 shr	 eax, 8
  0004e	88 45 f3	 mov	 BYTE PTR _pMsg$1[ebp+3], al

; 5094 : 		pMsg.TargetNumberH = SET_NUMBERH(aIndex);

  00051	88 45 f7	 mov	 BYTE PTR _pMsg$1[ebp+7], al

; 5095 : 		pMsg.TargetNumberL = SET_NUMBERL(aIndex);
; 5096 : 
; 5097 : 		MsgSendV2(&gObj[aIndex], (UCHAR*)&pMsg, pMsg.h.size);

  00054	0f b6 45 f1	 movzx	 eax, BYTE PTR _pMsg$1[ebp+1]
  00058	50		 push	 eax
  00059	88 5d f8	 mov	 BYTE PTR _pMsg$1[ebp+8], bl
  0005c	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$1[ebp]
  0005f	69 db 40 27 00
	00		 imul	 ebx, ebx, 10048
  00065	50		 push	 eax
  00066	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0006b	66 c7 45 f5 00
	06		 mov	 WORD PTR _pMsg$1[ebp+5], 1536 ; 00000600H
  00071	03 c3		 add	 eax, ebx
  00073	50		 push	 eax
  00074	e8 00 00 00 00	 call	 ?MsgSendV2@@YAXPAUOBJECTSTRUCT@@PAEH@Z ; MsgSendV2

; 5098 : 		gObjViewportListProtocolDestroy(&gObj[aIndex]);

  00079	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0007e	03 c3		 add	 eax, ebx
  00080	50		 push	 eax
  00081	e8 00 00 00 00	 call	 ?gObjViewportListProtocolDestroy@@YAXPAUOBJECTSTRUCT@@@Z ; gObjViewportListProtocolDestroy

; 5099 : 		gObjClearViewport(&gObj[aIndex]);

  00086	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0008b	03 c3		 add	 eax, ebx
  0008d	50		 push	 eax
  0008e	e8 00 00 00 00	 call	 ?gObjClearViewport@@YAXPAUOBJECTSTRUCT@@@Z ; gObjClearViewport
  00093	83 c4 20	 add	 esp, 32			; 00000020H
$LL2@Run:

; 5100 : 
; 5101 : 		int tableindex;
; 5102 : 
; 5103 : 		while ( true )
; 5104 : 		{
; 5105 : 			tableindex = rand() % MAX_QUEST_TELEPORT;

  00096	e8 00 00 00 00	 call	 _rand
  0009b	25 03 00 00 80	 and	 eax, -2147483645	; 80000003H
  000a0	79 05		 jns	 SHORT $LN12@Run
  000a2	48		 dec	 eax
  000a3	83 c8 fc	 or	 eax, -4			; fffffffcH
  000a6	40		 inc	 eax
$LN12@Run:

; 5106 : 
; 5107 : 			if ( this->LastMapNumber != tableindex )

  000a7	39 47 20	 cmp	 DWORD PTR [edi+32], eax
  000aa	74 ea		 je	 SHORT $LL2@Run

; 5108 : 			{
; 5109 : 				this->LastMapNumber = tableindex;

  000ac	89 47 20	 mov	 DWORD PTR [edi+32], eax

; 5110 : 				break;
; 5111 : 			}
; 5112 : 		}
; 5113 : 
; 5114 : 		gObj[aIndex].X = this->m_QuestNPCTeleportPos[tableindex].x;

  000af	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000b5	56		 push	 esi
  000b6	8b f0		 mov	 esi, eax
  000b8	03 f6		 add	 esi, esi

; 5115 : 		gObj[aIndex].Y = this->m_QuestNPCTeleportPos[tableindex].y;
; 5116 : 		gObj[aIndex].TX = gObj[aIndex].X;
; 5117 : 		gObj[aIndex].TY = gObj[aIndex].Y;
; 5118 : 		gObj[aIndex].MTX = gObj[aIndex].X;
; 5119 : 		gObj[aIndex].MTY = gObj[aIndex].Y;
; 5120 : 		gObj[aIndex].m_OldX = gObj[aIndex].TX;
; 5121 : 		gObj[aIndex].m_OldY = gObj[aIndex].TY;
; 5122 : 		gObj[aIndex].MapNumber = this->m_QuestNPCTeleportPos[tableindex].mapnum;
; 5123 : 		gObj[aIndex].Dir = this->m_QuestNPCTeleportPos[tableindex].dir;
; 5124 : 		gObj[aIndex].StartX = gObj[aIndex].X;
; 5125 : 		gObj[aIndex].StartY = gObj[aIndex].Y;
; 5126 : 		gObj[aIndex].m_State = 1;
; 5127 : 		gObj[aIndex].PathCount = 0;
; 5128 : 
; 5129 : 		LogAdd("NPC %d ", tableindex);	// #warning Translation Deathway

  000ba	50		 push	 eax
  000bb	68 00 00 00 00	 push	 OFFSET ??_C@_0O@PGINOIGE@NPC?5?$CFd?$LH?N?5?$MA?L?$LF?$LP?$AA@
  000c0	0f b6 54 f7 28	 movzx	 edx, BYTE PTR [edi+esi*8+40]
  000c5	88 94 0b 20 01
	00 00		 mov	 BYTE PTR [ebx+ecx+288], dl
  000cc	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000d2	0f b6 54 f7 2c	 movzx	 edx, BYTE PTR [edi+esi*8+44]
  000d7	88 94 0b 21 01
	00 00		 mov	 BYTE PTR [ebx+ecx+289], dl
  000de	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000e4	0f b6 8c 1a 20
	01 00 00	 movzx	 ecx, BYTE PTR [edx+ebx+288]
  000ec	88 8c 1a 52 01
	00 00		 mov	 BYTE PTR [edx+ebx+338], cl
  000f3	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000f9	0f b6 8c 1a 21
	01 00 00	 movzx	 ecx, BYTE PTR [edx+ebx+289]
  00101	88 8c 1a 53 01
	00 00		 mov	 BYTE PTR [edx+ebx+339], cl
  00108	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0010e	0f b6 8c 1a 20
	01 00 00	 movzx	 ecx, BYTE PTR [edx+ebx+288]
  00116	88 8c 1a 54 01
	00 00		 mov	 BYTE PTR [edx+ebx+340], cl
  0011d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00123	0f b6 8c 1a 21
	01 00 00	 movzx	 ecx, BYTE PTR [edx+ebx+289]
  0012b	88 8c 1a 55 01
	00 00		 mov	 BYTE PTR [edx+ebx+341], cl
  00132	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00138	0f b6 8c 1a 52
	01 00 00	 movzx	 ecx, BYTE PTR [edx+ebx+338]
  00140	88 8c 1a 50 01
	00 00		 mov	 BYTE PTR [edx+ebx+336], cl
  00147	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0014d	0f b6 8c 1a 53
	01 00 00	 movzx	 ecx, BYTE PTR [edx+ebx+339]
  00155	88 8c 1a 51 01
	00 00		 mov	 BYTE PTR [edx+ebx+337], cl
  0015c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00162	0f b6 54 f7 24	 movzx	 edx, BYTE PTR [edi+esi*8+36]
  00167	88 94 0b 23 01
	00 00		 mov	 BYTE PTR [ebx+ecx+291], dl
  0016e	8d 48 03	 lea	 ecx, DWORD PTR [eax+3]
  00171	03 c9		 add	 ecx, ecx
  00173	0f b6 14 cf	 movzx	 edx, BYTE PTR [edi+ecx*8]
  00177	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0017d	88 94 0b 22 01
	00 00		 mov	 BYTE PTR [ebx+ecx+290], dl
  00184	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0018a	0f b6 8c 1a 20
	01 00 00	 movzx	 ecx, BYTE PTR [edx+ebx+288]
  00192	88 8c 1a 4e 01
	00 00		 mov	 BYTE PTR [edx+ebx+334], cl
  00199	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0019f	0f b6 8c 1a 21
	01 00 00	 movzx	 ecx, BYTE PTR [edx+ebx+289]
  001a7	88 8c 1a 4f 01
	00 00		 mov	 BYTE PTR [edx+ebx+335], cl
  001ae	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001b4	c7 84 0b d0 01
	00 00 01 00 00
	00		 mov	 DWORD PTR [ebx+ecx+464], 1
  001bf	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001c5	c7 84 0b 58 01
	00 00 00 00 00
	00		 mov	 DWORD PTR [ebx+ecx+344], 0
  001d0	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  001d6	83 c4 08	 add	 esp, 8
  001d9	5e		 pop	 esi
$LN5@Run:

; 5130 : 	}
; 5131 : }

  001da	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001dd	5f		 pop	 edi
  001de	33 cd		 xor	 ecx, ebp
  001e0	5b		 pop	 ebx
  001e1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001e6	8b e5		 mov	 esp, ebp
  001e8	5d		 pop	 ebp
  001e9	c2 04 00	 ret	 4
?Run@CQeustNpcTeleport@@QAEXH@Z ENDP			; CQeustNpcTeleport::Run
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.h
;	COMDAT ??1CQeustNpcTeleport@@QAE@XZ
_TEXT	SEGMENT
??1CQeustNpcTeleport@@QAE@XZ PROC			; CQeustNpcTeleport::~CQeustNpcTeleport, COMDAT
; _this$ = ecx

; 61   : 		DeleteCriticalSection(&this->CsRef);

  00000	8d 41 04	 lea	 eax, DWORD PTR [ecx+4]
  00003	50		 push	 eax
  00004	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteCriticalSection@4

; 62   : 	};	// line : 115

  0000a	c3		 ret	 0
??1CQeustNpcTeleport@@QAE@XZ ENDP			; CQeustNpcTeleport::~CQeustNpcTeleport
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.h
;	COMDAT ??0CQeustNpcTeleport@@QAE@XZ
_TEXT	SEGMENT
??0CQeustNpcTeleport@@QAE@XZ PROC			; CQeustNpcTeleport::CQeustNpcTeleport, COMDAT
; _this$ = ecx

; 35   : 	CQeustNpcTeleport()	// line : 97

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 36   : 	{
; 37   : 		this->LastMapNumber = -1;
; 38   : 		this->RefCount = 0;
; 39   : 		InitializeCriticalSection(&this->CsRef);

  00003	8d 46 04	 lea	 eax, DWORD PTR [esi+4]
  00006	c7 46 20 ff ff
	ff ff		 mov	 DWORD PTR [esi+32], -1
  0000d	50		 push	 eax
  0000e	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], 0
  00014	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InitializeCriticalSection@4

; 40   : 		this->TimeCount = 0;

  0001a	c7 46 1c 00 00
	00 00		 mov	 DWORD PTR [esi+28], 0

; 41   : 		this->m_QuestNPCTeleportPos[0].mapnum = MAP_INDEX_DEVIAS;
; 42   : 		this->m_QuestNPCTeleportPos[0].x = 198;
; 43   : 		this->m_QuestNPCTeleportPos[0].y = 47;
; 44   : 		this->m_QuestNPCTeleportPos[0].dir = 2;
; 45   : 		this->m_QuestNPCTeleportPos[1].mapnum = MAP_INDEX_RORENCIA;
; 46   : 		this->m_QuestNPCTeleportPos[1].x = 137;
; 47   : 		this->m_QuestNPCTeleportPos[1].y = 87;
; 48   : 		this->m_QuestNPCTeleportPos[1].dir = 1;
; 49   : 		this->m_QuestNPCTeleportPos[2].mapnum = MAP_INDEX_NORIA;
; 50   : 		this->m_QuestNPCTeleportPos[2].x = 169;
; 51   : 		this->m_QuestNPCTeleportPos[2].y = 89;
; 52   : 		this->m_QuestNPCTeleportPos[2].dir = 2;
; 53   : 		this->m_QuestNPCTeleportPos[3].mapnum = MAP_INDEX_ATHLANSE;
; 54   : 		this->m_QuestNPCTeleportPos[3].x = 17;
; 55   : 		this->m_QuestNPCTeleportPos[3].y = 0x19;
; 56   : 		this->m_QuestNPCTeleportPos[3].dir = 2;
; 57   : 	};	// line : 114

  00021	8b c6		 mov	 eax, esi
  00023	c7 46 24 02 00
	00 00		 mov	 DWORD PTR [esi+36], 2
  0002a	c7 46 28 c6 00
	00 00		 mov	 DWORD PTR [esi+40], 198	; 000000c6H
  00031	c7 46 2c 2f 00
	00 00		 mov	 DWORD PTR [esi+44], 47	; 0000002fH
  00038	c7 46 30 02 00
	00 00		 mov	 DWORD PTR [esi+48], 2
  0003f	c7 46 34 00 00
	00 00		 mov	 DWORD PTR [esi+52], 0
  00046	c7 46 38 89 00
	00 00		 mov	 DWORD PTR [esi+56], 137	; 00000089H
  0004d	c7 46 3c 57 00
	00 00		 mov	 DWORD PTR [esi+60], 87	; 00000057H
  00054	c7 46 40 01 00
	00 00		 mov	 DWORD PTR [esi+64], 1
  0005b	c7 46 44 03 00
	00 00		 mov	 DWORD PTR [esi+68], 3
  00062	c7 46 48 a9 00
	00 00		 mov	 DWORD PTR [esi+72], 169	; 000000a9H
  00069	c7 46 4c 59 00
	00 00		 mov	 DWORD PTR [esi+76], 89	; 00000059H
  00070	c7 46 50 02 00
	00 00		 mov	 DWORD PTR [esi+80], 2
  00077	c7 46 54 07 00
	00 00		 mov	 DWORD PTR [esi+84], 7
  0007e	c7 46 58 11 00
	00 00		 mov	 DWORD PTR [esi+88], 17	; 00000011H
  00085	c7 46 5c 19 00
	00 00		 mov	 DWORD PTR [esi+92], 25	; 00000019H
  0008c	c7 46 60 02 00
	00 00		 mov	 DWORD PTR [esi+96], 2
  00093	5e		 pop	 esi
  00094	c3		 ret	 0
??0CQeustNpcTeleport@@QAE@XZ ENDP			; CQeustNpcTeleport::CQeustNpcTeleport
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\user.h
;	COMDAT ?GetZen@BILL_CLASS@@QAEHXZ
_TEXT	SEGMENT
?GetZen@BILL_CLASS@@QAEHXZ PROC				; BILL_CLASS::GetZen, COMDAT
; _this$ = ecx

; 2031 : 	int GetZen() {return AddZen; };

  00000	8b 41 24	 mov	 eax, DWORD PTR [ecx+36]
  00003	c3		 ret	 0
?GetZen@BILL_CLASS@@QAEHXZ ENDP				; BILL_CLASS::GetZen
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\user.h
;	COMDAT ?GetDrop@BILL_CLASS@@QAEHXZ
_TEXT	SEGMENT
?GetDrop@BILL_CLASS@@QAEHXZ PROC			; BILL_CLASS::GetDrop, COMDAT
; _this$ = ecx

; 2030 : 	int GetDrop() {return AddDrop;};

  00000	8b 41 20	 mov	 eax, DWORD PTR [ecx+32]
  00003	c3		 ret	 0
?GetDrop@BILL_CLASS@@QAEHXZ ENDP			; BILL_CLASS::GetDrop
_TEXT	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??_EOBJECTSTRUCT@@QAEPAXI@Z
_TEXT	SEGMENT
__$EHRec$ = -12						; size = 12
___flags$ = 8						; size = 4
??_EOBJECTSTRUCT@@QAEPAXI@Z PROC			; OBJECTSTRUCT::`vector deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$??_EOBJECTSTRUCT@@QAEPAXI@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	53		 push	 ebx
  00012	56		 push	 esi
  00013	57		 push	 edi
  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00019	33 c5		 xor	 eax, ebp
  0001b	50		 push	 eax
  0001c	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  0001f	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00025	8b f1		 mov	 esi, ecx
  00027	8b 5d 08	 mov	 ebx, DWORD PTR ___flags$[ebp]
  0002a	f6 c3 02	 test	 bl, 2
  0002d	74 44		 je	 SHORT $LN2@vector
  0002f	68 00 00 00 00	 push	 OFFSET ??1OBJECTSTRUCT@@QAE@XZ
  00034	ff 76 fc	 push	 DWORD PTR [esi-4]
  00037	8d 7e fc	 lea	 edi, DWORD PTR [esi-4]
  0003a	68 40 27 00 00	 push	 10048			; 00002740H
  0003f	56		 push	 esi
  00040	e8 00 00 00 00	 call	 ??_M@YGXPAXIIP6EX0@Z@Z
  00045	f6 c3 01	 test	 bl, 1
  00048	74 13		 je	 SHORT $LN3@vector
  0004a	69 0f 40 27 00
	00		 imul	 ecx, DWORD PTR [edi], 10048
  00050	83 c1 04	 add	 ecx, 4
  00053	51		 push	 ecx
  00054	57		 push	 edi
  00055	e8 00 00 00 00	 call	 ??_V@YAXPAXI@Z		; operator delete[]
  0005a	83 c4 08	 add	 esp, 8
$LN3@vector:
  0005d	8b c7		 mov	 eax, edi
  0005f	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00062	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00069	59		 pop	 ecx
  0006a	5f		 pop	 edi
  0006b	5e		 pop	 esi
  0006c	5b		 pop	 ebx
  0006d	8b e5		 mov	 esp, ebp
  0006f	5d		 pop	 ebp
  00070	c2 04 00	 ret	 4
$LN2@vector:
  00073	8d 8e ec 20 00
	00		 lea	 ecx, DWORD PTR [esi+8428]
  00079	e8 00 00 00 00	 call	 ??1TMonsterAIAgro@@UAE@XZ ; TMonsterAIAgro::~TMonsterAIAgro
  0007e	8d 8e 0c 16 00
	00		 lea	 ecx, DWORD PTR [esi+5644]
  00084	e8 00 00 00 00	 call	 ??1CSkillDelay@@UAE@XZ	; CSkillDelay::~CSkillDelay
  00089	f6 c3 01	 test	 bl, 1
  0008c	74 0e		 je	 SHORT $LN4@vector
  0008e	68 40 27 00 00	 push	 10048			; 00002740H
  00093	56		 push	 esi
  00094	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  00099	83 c4 08	 add	 esp, 8
$LN4@vector:
  0009c	8b c6		 mov	 eax, esi
  0009e	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  000a1	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  000a8	59		 pop	 ecx
  000a9	5f		 pop	 edi
  000aa	5e		 pop	 esi
  000ab	5b		 pop	 ebx
  000ac	8b e5		 mov	 esp, ebp
  000ae	5d		 pop	 ebp
  000af	c2 04 00	 ret	 4
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$??_EOBJECTSTRUCT@@QAEPAXI@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 4a f0	 mov	 ecx, DWORD PTR [edx-16]
  0000a	33 c8		 xor	 ecx, eax
  0000c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00011	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??_EOBJECTSTRUCT@@QAEPAXI@Z
  00016	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??_EOBJECTSTRUCT@@QAEPAXI@Z ENDP			; OBJECTSTRUCT::`vector deleting destructor'
; Function compile flags: /Ogtp
;	COMDAT ??1OBJECTSTRUCT@@QAE@XZ
_TEXT	SEGMENT
??1OBJECTSTRUCT@@QAE@XZ PROC				; OBJECTSTRUCT::~OBJECTSTRUCT, COMDAT
; _this$ = ecx
  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx
  00003	8d 8e ec 20 00
	00		 lea	 ecx, DWORD PTR [esi+8428]
  00009	e8 00 00 00 00	 call	 ??1TMonsterAIAgro@@UAE@XZ ; TMonsterAIAgro::~TMonsterAIAgro
  0000e	8d 8e 0c 16 00
	00		 lea	 ecx, DWORD PTR [esi+5644]
  00014	5e		 pop	 esi
  00015	e9 00 00 00 00	 jmp	 ??1CSkillDelay@@UAE@XZ	; CSkillDelay::~CSkillDelay
??1OBJECTSTRUCT@@QAE@XZ ENDP				; OBJECTSTRUCT::~OBJECTSTRUCT
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?__empty_global_delete@@YAXPAXI@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
___formal$ = 12						; size = 4
?__empty_global_delete@@YAXPAXI@Z PROC			; __empty_global_delete, COMDAT

  00000	c3		 ret	 0
?__empty_global_delete@@YAXPAXI@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\gobjmonster.cpp
;	COMDAT ?__empty_global_delete@@YAXPAX@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
?__empty_global_delete@@YAXPAX@Z PROC			; __empty_global_delete, COMDAT

; 5197 : }

  00000	c3		 ret	 0
?__empty_global_delete@@YAXPAX@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??_H@YGXPAXIIP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIIP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b 75 10	 mov	 esi, DWORD PTR ___n$[ebp]
  00007	85 f6		 test	 esi, esi
  00009	74 16		 je	 SHORT $LN6@vector
  0000b	53		 push	 ebx
  0000c	8b 5d 14	 mov	 ebx, DWORD PTR ___f$[ebp]
  0000f	57		 push	 edi
  00010	8b 7d 08	 mov	 edi, DWORD PTR ___t$[ebp]
$LL2@vector:
  00013	8b cf		 mov	 ecx, edi
  00015	ff d3		 call	 ebx
  00017	03 7d 0c	 add	 edi, DWORD PTR ___s$[ebp]
  0001a	83 ee 01	 sub	 esi, 1
  0001d	75 f4		 jne	 SHORT $LL2@vector
  0001f	5f		 pop	 edi
  00020	5b		 pop	 ebx
$LN6@vector:
  00021	5e		 pop	 esi
  00022	5d		 pop	 ebp
  00023	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIIP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
END
